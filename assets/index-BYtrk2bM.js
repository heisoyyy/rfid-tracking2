var Ix=Object.defineProperty;var Tx=(e,t,n)=>t in e?Ix(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Hn=(e,t,n)=>Tx(e,typeof t!="symbol"?t+"":t,n);function l5(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var u5={exports:{}},Uf={},c5={exports:{}},Pn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc=Symbol.for("react.element"),Lx=Symbol.for("react.portal"),Px=Symbol.for("react.fragment"),Mx=Symbol.for("react.strict_mode"),Ox=Symbol.for("react.profiler"),kx=Symbol.for("react.provider"),Rx=Symbol.for("react.context"),Dx=Symbol.for("react.forward_ref"),Bx=Symbol.for("react.suspense"),Fx=Symbol.for("react.memo"),jx=Symbol.for("react.lazy"),i2=Symbol.iterator;function zx(e){return e===null||typeof e!="object"?null:(e=i2&&e[i2]||e["@@iterator"],typeof e=="function"?e:null)}var h5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f5=Object.assign,d5={};function Du(e,t,n){this.props=e,this.context=t,this.refs=d5,this.updater=n||h5}Du.prototype.isReactComponent={};Du.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Du.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function p5(){}p5.prototype=Du.prototype;function B0(e,t,n){this.props=e,this.context=t,this.refs=d5,this.updater=n||h5}var F0=B0.prototype=new p5;F0.constructor=B0;f5(F0,Du.prototype);F0.isPureReactComponent=!0;var o2=Array.isArray,g5=Object.prototype.hasOwnProperty,j0={current:null},m5={key:!0,ref:!0,__self:!0,__source:!0};function v5(e,t,n){var i,s={},a=null,d=null;if(t!=null)for(i in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(a=""+t.key),t)g5.call(t,i)&&!m5.hasOwnProperty(i)&&(s[i]=t[i]);var g=arguments.length-2;if(g===1)s.children=n;else if(1<g){for(var v=Array(g),m=0;m<g;m++)v[m]=arguments[m+2];s.children=v}if(e&&e.defaultProps)for(i in g=e.defaultProps,g)s[i]===void 0&&(s[i]=g[i]);return{$$typeof:Zc,type:e,key:a,ref:d,props:s,_owner:j0.current}}function Ux(e,t){return{$$typeof:Zc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function z0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zc}function Hx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var s2=/\/+/g;function bd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hx(""+e.key):t.toString(36)}function Wh(e,t,n,i,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(a){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Zc:case Lx:d=!0}}if(d)return d=e,s=s(d),e=i===""?"."+bd(d,0):i,o2(s)?(n="",e!=null&&(n=e.replace(s2,"$&/")+"/"),Wh(s,t,n,"",function(m){return m})):s!=null&&(z0(s)&&(s=Ux(s,n+(!s.key||d&&d.key===s.key?"":(""+s.key).replace(s2,"$&/")+"/")+e)),t.push(s)),1;if(d=0,i=i===""?".":i+":",o2(e))for(var g=0;g<e.length;g++){a=e[g];var v=i+bd(a,g);d+=Wh(a,t,n,v,s)}else if(v=zx(e),typeof v=="function")for(e=v.call(e),g=0;!(a=e.next()).done;)a=a.value,v=i+bd(a,g++),d+=Wh(a,t,n,v,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function mh(e,t,n){if(e==null)return e;var i=[],s=0;return Wh(e,i,"","",function(a){return t.call(n,a,s++)}),i}function Wx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _o={current:null},Vh={transition:null},Vx={ReactCurrentDispatcher:_o,ReactCurrentBatchConfig:Vh,ReactCurrentOwner:j0};function y5(){throw Error("act(...) is not supported in production builds of React.")}Pn.Children={map:mh,forEach:function(e,t,n){mh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mh(e,function(){t++}),t},toArray:function(e){return mh(e,function(t){return t})||[]},only:function(e){if(!z0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pn.Component=Du;Pn.Fragment=Px;Pn.Profiler=Ox;Pn.PureComponent=B0;Pn.StrictMode=Mx;Pn.Suspense=Bx;Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vx;Pn.act=y5;Pn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f5({},e.props),s=e.key,a=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,d=j0.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(v in t)g5.call(t,v)&&!m5.hasOwnProperty(v)&&(i[v]=t[v]===void 0&&g!==void 0?g[v]:t[v])}var v=arguments.length-2;if(v===1)i.children=n;else if(1<v){g=Array(v);for(var m=0;m<v;m++)g[m]=arguments[m+2];i.children=g}return{$$typeof:Zc,type:e.type,key:s,ref:a,props:i,_owner:d}};Pn.createContext=function(e){return e={$$typeof:Rx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kx,_context:e},e.Consumer=e};Pn.createElement=v5;Pn.createFactory=function(e){var t=v5.bind(null,e);return t.type=e,t};Pn.createRef=function(){return{current:null}};Pn.forwardRef=function(e){return{$$typeof:Dx,render:e}};Pn.isValidElement=z0;Pn.lazy=function(e){return{$$typeof:jx,_payload:{_status:-1,_result:e},_init:Wx}};Pn.memo=function(e,t){return{$$typeof:Fx,type:e,compare:t===void 0?null:t}};Pn.startTransition=function(e){var t=Vh.transition;Vh.transition={};try{e()}finally{Vh.transition=t}};Pn.unstable_act=y5;Pn.useCallback=function(e,t){return _o.current.useCallback(e,t)};Pn.useContext=function(e){return _o.current.useContext(e)};Pn.useDebugValue=function(){};Pn.useDeferredValue=function(e){return _o.current.useDeferredValue(e)};Pn.useEffect=function(e,t){return _o.current.useEffect(e,t)};Pn.useId=function(){return _o.current.useId()};Pn.useImperativeHandle=function(e,t,n){return _o.current.useImperativeHandle(e,t,n)};Pn.useInsertionEffect=function(e,t){return _o.current.useInsertionEffect(e,t)};Pn.useLayoutEffect=function(e,t){return _o.current.useLayoutEffect(e,t)};Pn.useMemo=function(e,t){return _o.current.useMemo(e,t)};Pn.useReducer=function(e,t,n){return _o.current.useReducer(e,t,n)};Pn.useRef=function(e){return _o.current.useRef(e)};Pn.useState=function(e){return _o.current.useState(e)};Pn.useSyncExternalStore=function(e,t,n){return _o.current.useSyncExternalStore(e,t,n)};Pn.useTransition=function(){return _o.current.useTransition()};Pn.version="18.3.1";c5.exports=Pn;var nt=c5.exports;const Ll=D0(nt),qx=l5({__proto__:null,default:Ll},[nt]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx=nt,Zx=Symbol.for("react.element"),Yx=Symbol.for("react.fragment"),Xx=Object.prototype.hasOwnProperty,Kx=Gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qx={key:!0,ref:!0,__self:!0,__source:!0};function w5(e,t,n){var i,s={},a=null,d=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(d=t.ref);for(i in t)Xx.call(t,i)&&!Qx.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:Zx,type:e,key:a,ref:d,props:s,_owner:Kx.current}}Uf.Fragment=Yx;Uf.jsx=w5;Uf.jsxs=w5;u5.exports=Uf;var Re=u5.exports,A1={},x5={exports:{}},hs={},_5={exports:{}},A5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(he,Pe){var Ie=he.length;he.push(Pe);e:for(;0<Ie;){var He=Ie-1>>>1,V=he[He];if(0<s(V,Pe))he[He]=Pe,he[Ie]=V,Ie=He;else break e}}function n(he){return he.length===0?null:he[0]}function i(he){if(he.length===0)return null;var Pe=he[0],Ie=he.pop();if(Ie!==Pe){he[0]=Ie;e:for(var He=0,V=he.length,oe=V>>>1;He<oe;){var se=2*(He+1)-1,ve=he[se],ue=se+1,Me=he[ue];if(0>s(ve,Ie))ue<V&&0>s(Me,ve)?(he[He]=Me,he[ue]=Ie,He=ue):(he[He]=ve,he[se]=Ie,He=se);else if(ue<V&&0>s(Me,Ie))he[He]=Me,he[ue]=Ie,He=ue;else break e}}return Pe}function s(he,Pe){var Ie=he.sortIndex-Pe.sortIndex;return Ie!==0?Ie:he.id-Pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var v=[],m=[],_=1,C=null,P=3,S=!1,j=!1,D=!1,q=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(he){for(var Pe=n(m);Pe!==null;){if(Pe.callback===null)i(m);else if(Pe.startTime<=he)i(m),Pe.sortIndex=Pe.expirationTime,t(v,Pe);else break;Pe=n(m)}}function Z(he){if(D=!1,F(he),!j)if(n(v)!==null)j=!0,Be(ye);else{var Pe=n(m);Pe!==null&&Le(Z,Pe.startTime-he)}}function ye(he,Pe){j=!1,D&&(D=!1,M(de),de=-1),S=!0;var Ie=P;try{for(F(Pe),C=n(v);C!==null&&(!(C.expirationTime>Pe)||he&&!K());){var He=C.callback;if(typeof He=="function"){C.callback=null,P=C.priorityLevel;var V=He(C.expirationTime<=Pe);Pe=e.unstable_now(),typeof V=="function"?C.callback=V:C===n(v)&&i(v),F(Pe)}else i(v);C=n(v)}if(C!==null)var oe=!0;else{var se=n(m);se!==null&&Le(Z,se.startTime-Pe),oe=!1}return oe}finally{C=null,P=Ie,S=!1}}var Se=!1,fe=null,de=-1,J=5,be=-1;function K(){return!(e.unstable_now()-be<J)}function $(){if(fe!==null){var he=e.unstable_now();be=he;var Pe=!0;try{Pe=fe(!0,he)}finally{Pe?ge():(Se=!1,fe=null)}}else Se=!1}var ge;if(typeof B=="function")ge=function(){B($)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ce=me.port2;me.port1.onmessage=$,ge=function(){ce.postMessage(null)}}else ge=function(){q($,0)};function Be(he){fe=he,Se||(Se=!0,ge())}function Le(he,Pe){de=q(function(){he(e.unstable_now())},Pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(he){he.callback=null},e.unstable_continueExecution=function(){j||S||(j=!0,Be(ye))},e.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<he?Math.floor(1e3/he):5},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return n(v)},e.unstable_next=function(he){switch(P){case 1:case 2:case 3:var Pe=3;break;default:Pe=P}var Ie=P;P=Pe;try{return he()}finally{P=Ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(he,Pe){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var Ie=P;P=he;try{return Pe()}finally{P=Ie}},e.unstable_scheduleCallback=function(he,Pe,Ie){var He=e.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?He+Ie:He):Ie=He,he){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Ie+V,he={id:_++,callback:Pe,priorityLevel:he,startTime:Ie,expirationTime:V,sortIndex:-1},Ie>He?(he.sortIndex=Ie,t(m,he),n(v)===null&&he===n(m)&&(D?(M(de),de=-1):D=!0,Le(Z,Ie-He))):(he.sortIndex=V,t(v,he),j||S||(j=!0,Be(ye))),he},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(he){var Pe=P;return function(){var Ie=P;P=Pe;try{return he.apply(this,arguments)}finally{P=Ie}}}})(A5);_5.exports=A5;var Jx=_5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x=nt,cs=Jx;function ft(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b5=new Set,Ec={};function Fl(e,t){Tu(e,t),Tu(e+"Capture",t)}function Tu(e,t){for(Ec[e]=t,e=0;e<t.length;e++)b5.add(t[e])}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b1=Object.prototype.hasOwnProperty,e3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a2={},l2={};function t3(e){return b1.call(l2,e)?!0:b1.call(a2,e)?!1:e3.test(e)?l2[e]=!0:(a2[e]=!0,!1)}function n3(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function r3(e,t,n,i){if(t===null||typeof t>"u"||n3(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ao(e,t,n,i,s,a,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=d}var Hi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Hi[e]=new Ao(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Hi[t]=new Ao(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Hi[e]=new Ao(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Hi[e]=new Ao(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Hi[e]=new Ao(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Hi[e]=new Ao(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Hi[e]=new Ao(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Hi[e]=new Ao(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Hi[e]=new Ao(e,5,!1,e.toLowerCase(),null,!1,!1)});var U0=/[\-:]([a-z])/g;function H0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U0,H0);Hi[t]=new Ao(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U0,H0);Hi[t]=new Ao(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U0,H0);Hi[t]=new Ao(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Hi[e]=new Ao(e,1,!1,e.toLowerCase(),null,!1,!1)});Hi.xlinkHref=new Ao("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Hi[e]=new Ao(e,1,!1,e.toLowerCase(),null,!0,!0)});function W0(e,t,n,i){var s=Hi.hasOwnProperty(t)?Hi[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(r3(t,n,s,i)&&(n=null),i||s===null?t3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Pa=$x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vh=Symbol.for("react.element"),iu=Symbol.for("react.portal"),ou=Symbol.for("react.fragment"),V0=Symbol.for("react.strict_mode"),C1=Symbol.for("react.profiler"),C5=Symbol.for("react.provider"),S5=Symbol.for("react.context"),q0=Symbol.for("react.forward_ref"),S1=Symbol.for("react.suspense"),E1=Symbol.for("react.suspense_list"),G0=Symbol.for("react.memo"),qa=Symbol.for("react.lazy"),E5=Symbol.for("react.offscreen"),u2=Symbol.iterator;function ec(e){return e===null||typeof e!="object"?null:(e=u2&&e[u2]||e["@@iterator"],typeof e=="function"?e:null)}var Br=Object.assign,Cd;function cc(e){if(Cd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cd=t&&t[1]||""}return`
`+Cd+e}var Sd=!1;function Ed(e,t){if(!e||Sd)return"";Sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var i=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){i=m}e.call(t.prototype)}else{try{throw Error()}catch(m){i=m}e()}}catch(m){if(m&&i&&typeof m.stack=="string"){for(var s=m.stack.split(`
`),a=i.stack.split(`
`),d=s.length-1,g=a.length-1;1<=d&&0<=g&&s[d]!==a[g];)g--;for(;1<=d&&0<=g;d--,g--)if(s[d]!==a[g]){if(d!==1||g!==1)do if(d--,g--,0>g||s[d]!==a[g]){var v=`
`+s[d].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=d&&0<=g);break}}}finally{Sd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?cc(e):""}function i3(e){switch(e.tag){case 5:return cc(e.type);case 16:return cc("Lazy");case 13:return cc("Suspense");case 19:return cc("SuspenseList");case 0:case 2:case 15:return e=Ed(e.type,!1),e;case 11:return e=Ed(e.type.render,!1),e;case 1:return e=Ed(e.type,!0),e;default:return""}}function N1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ou:return"Fragment";case iu:return"Portal";case C1:return"Profiler";case V0:return"StrictMode";case S1:return"Suspense";case E1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case S5:return(e.displayName||"Context")+".Consumer";case C5:return(e._context.displayName||"Context")+".Provider";case q0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G0:return t=e.displayName||null,t!==null?t:N1(e.type)||"Memo";case qa:t=e._payload,e=e._init;try{return N1(e(t))}catch{}}return null}function o3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N1(t);case 8:return t===V0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ll(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s3(e){var t=N5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){i=""+d,a.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yh(e){e._valueTracker||(e._valueTracker=s3(e))}function I5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=N5(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function lf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function I1(e,t){var n=t.checked;return Br({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function c2(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=ll(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function T5(e,t){t=t.checked,t!=null&&W0(e,"checked",t,!1)}function T1(e,t){T5(e,t);var n=ll(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?L1(e,t.type,n):t.hasOwnProperty("defaultValue")&&L1(e,t.type,ll(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function h2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function L1(e,t,n){(t!=="number"||lf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hc=Array.isArray;function yu(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ll(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function P1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ft(91));return Br({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function f2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ft(92));if(hc(n)){if(1<n.length)throw Error(ft(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ll(n)}}function L5(e,t){var n=ll(t.value),i=ll(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function d2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function P5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function M1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?P5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wh,M5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wh=wh||document.createElement("div"),wh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a3=["Webkit","ms","Moz","O"];Object.keys(pc).forEach(function(e){a3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pc[t]=pc[e]})});function O5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pc.hasOwnProperty(e)&&pc[e]?(""+t).trim():t+"px"}function k5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=O5(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var l3=Br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function O1(e,t){if(t){if(l3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ft(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ft(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ft(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ft(62))}}function k1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R1=null;function Z0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var D1=null,wu=null,xu=null;function p2(e){if(e=Kc(e)){if(typeof D1!="function")throw Error(ft(280));var t=e.stateNode;t&&(t=Gf(t),D1(e.stateNode,e.type,t))}}function R5(e){wu?xu?xu.push(e):xu=[e]:wu=e}function D5(){if(wu){var e=wu,t=xu;if(xu=wu=null,p2(e),t)for(e=0;e<t.length;e++)p2(t[e])}}function B5(e,t){return e(t)}function F5(){}var Nd=!1;function j5(e,t,n){if(Nd)return e(t,n);Nd=!0;try{return B5(e,t,n)}finally{Nd=!1,(wu!==null||xu!==null)&&(F5(),D5())}}function Ic(e,t){var n=e.stateNode;if(n===null)return null;var i=Gf(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ft(231,t,typeof n));return n}var B1=!1;if(Ea)try{var tc={};Object.defineProperty(tc,"passive",{get:function(){B1=!0}}),window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{B1=!1}function u3(e,t,n,i,s,a,d,g,v){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(_){this.onError(_)}}var gc=!1,uf=null,cf=!1,F1=null,c3={onError:function(e){gc=!0,uf=e}};function h3(e,t,n,i,s,a,d,g,v){gc=!1,uf=null,u3.apply(c3,arguments)}function f3(e,t,n,i,s,a,d,g,v){if(h3.apply(this,arguments),gc){if(gc){var m=uf;gc=!1,uf=null}else throw Error(ft(198));cf||(cf=!0,F1=m)}}function jl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function z5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g2(e){if(jl(e)!==e)throw Error(ft(188))}function d3(e){var t=e.alternate;if(!t){if(t=jl(e),t===null)throw Error(ft(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return g2(s),e;if(a===i)return g2(s),t;a=a.sibling}throw Error(ft(188))}if(n.return!==i.return)n=s,i=a;else{for(var d=!1,g=s.child;g;){if(g===n){d=!0,n=s,i=a;break}if(g===i){d=!0,i=s,n=a;break}g=g.sibling}if(!d){for(g=a.child;g;){if(g===n){d=!0,n=a,i=s;break}if(g===i){d=!0,i=a,n=s;break}g=g.sibling}if(!d)throw Error(ft(189))}}if(n.alternate!==i)throw Error(ft(190))}if(n.tag!==3)throw Error(ft(188));return n.stateNode.current===n?e:t}function U5(e){return e=d3(e),e!==null?H5(e):null}function H5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=H5(e);if(t!==null)return t;e=e.sibling}return null}var W5=cs.unstable_scheduleCallback,m2=cs.unstable_cancelCallback,p3=cs.unstable_shouldYield,g3=cs.unstable_requestPaint,ii=cs.unstable_now,m3=cs.unstable_getCurrentPriorityLevel,Y0=cs.unstable_ImmediatePriority,V5=cs.unstable_UserBlockingPriority,hf=cs.unstable_NormalPriority,v3=cs.unstable_LowPriority,q5=cs.unstable_IdlePriority,Hf=null,aa=null;function y3(e){if(aa&&typeof aa.onCommitFiberRoot=="function")try{aa.onCommitFiberRoot(Hf,e,void 0,(e.current.flags&128)===128)}catch{}}var Ws=Math.clz32?Math.clz32:_3,w3=Math.log,x3=Math.LN2;function _3(e){return e>>>=0,e===0?32:31-(w3(e)/x3|0)|0}var xh=64,_h=4194304;function fc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ff(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes,d=n&268435455;if(d!==0){var g=d&~s;g!==0?i=fc(g):(a&=d,a!==0&&(i=fc(a)))}else d=n&~s,d!==0?i=fc(d):a!==0&&(i=fc(a));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Ws(t),s=1<<n,i|=e[n],t&=~s;return i}function A3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b3(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var d=31-Ws(a),g=1<<d,v=s[d];v===-1?(!(g&n)||g&i)&&(s[d]=A3(g,t)):v<=t&&(e.expiredLanes|=g),a&=~g}}function j1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function G5(){var e=xh;return xh<<=1,!(xh&4194240)&&(xh=64),e}function Id(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ws(t),e[t]=n}function C3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ws(n),a=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~a}}function X0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ws(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var or=0;function Z5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Y5,K0,X5,K5,Q5,z1=!1,Ah=[],$a=null,el=null,tl=null,Tc=new Map,Lc=new Map,Za=[],S3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v2(e,t){switch(e){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":el=null;break;case"mouseover":case"mouseout":tl=null;break;case"pointerover":case"pointerout":Tc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lc.delete(t.pointerId)}}function nc(e,t,n,i,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Kc(t),t!==null&&K0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function E3(e,t,n,i,s){switch(t){case"focusin":return $a=nc($a,e,t,n,i,s),!0;case"dragenter":return el=nc(el,e,t,n,i,s),!0;case"mouseover":return tl=nc(tl,e,t,n,i,s),!0;case"pointerover":var a=s.pointerId;return Tc.set(a,nc(Tc.get(a)||null,e,t,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,Lc.set(a,nc(Lc.get(a)||null,e,t,n,i,s)),!0}return!1}function J5(e){var t=Cl(e.target);if(t!==null){var n=jl(t);if(n!==null){if(t=n.tag,t===13){if(t=z5(n),t!==null){e.blockedOn=t,Q5(e.priority,function(){X5(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=U1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);R1=i,n.target.dispatchEvent(i),R1=null}else return t=Kc(n),t!==null&&K0(t),e.blockedOn=n,!1;t.shift()}return!0}function y2(e,t,n){qh(e)&&n.delete(t)}function N3(){z1=!1,$a!==null&&qh($a)&&($a=null),el!==null&&qh(el)&&(el=null),tl!==null&&qh(tl)&&(tl=null),Tc.forEach(y2),Lc.forEach(y2)}function rc(e,t){e.blockedOn===t&&(e.blockedOn=null,z1||(z1=!0,cs.unstable_scheduleCallback(cs.unstable_NormalPriority,N3)))}function Pc(e){function t(s){return rc(s,e)}if(0<Ah.length){rc(Ah[0],e);for(var n=1;n<Ah.length;n++){var i=Ah[n];i.blockedOn===e&&(i.blockedOn=null)}}for($a!==null&&rc($a,e),el!==null&&rc(el,e),tl!==null&&rc(tl,e),Tc.forEach(t),Lc.forEach(t),n=0;n<Za.length;n++)i=Za[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Za.length&&(n=Za[0],n.blockedOn===null);)J5(n),n.blockedOn===null&&Za.shift()}var _u=Pa.ReactCurrentBatchConfig,df=!0;function I3(e,t,n,i){var s=or,a=_u.transition;_u.transition=null;try{or=1,Q0(e,t,n,i)}finally{or=s,_u.transition=a}}function T3(e,t,n,i){var s=or,a=_u.transition;_u.transition=null;try{or=4,Q0(e,t,n,i)}finally{or=s,_u.transition=a}}function Q0(e,t,n,i){if(df){var s=U1(e,t,n,i);if(s===null)Fd(e,t,i,pf,n),v2(e,i);else if(E3(s,e,t,n,i))i.stopPropagation();else if(v2(e,i),t&4&&-1<S3.indexOf(e)){for(;s!==null;){var a=Kc(s);if(a!==null&&Y5(a),a=U1(e,t,n,i),a===null&&Fd(e,t,i,pf,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else Fd(e,t,i,null,n)}}var pf=null;function U1(e,t,n,i){if(pf=null,e=Z0(i),e=Cl(e),e!==null)if(t=jl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=z5(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pf=e,null}function $5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m3()){case Y0:return 1;case V5:return 4;case hf:case v3:return 16;case q5:return 536870912;default:return 16}default:return 16}}var Xa=null,J0=null,Gh=null;function ev(){if(Gh)return Gh;var e,t=J0,n=t.length,i,s="value"in Xa?Xa.value:Xa.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var d=n-e;for(i=1;i<=d&&t[n-i]===s[a-i];i++);return Gh=s.slice(e,1<i?1-i:void 0)}function Zh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bh(){return!0}function w2(){return!1}function fs(e){function t(n,i,s,a,d){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(a):a[g]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bh:w2,this.isPropagationStopped=w2,this}return Br(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bh)},persist:function(){},isPersistent:bh}),t}var Bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$0=fs(Bu),Xc=Br({},Bu,{view:0,detail:0}),L3=fs(Xc),Td,Ld,ic,Wf=Br({},Xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ep,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ic&&(ic&&e.type==="mousemove"?(Td=e.screenX-ic.screenX,Ld=e.screenY-ic.screenY):Ld=Td=0,ic=e),Td)},movementY:function(e){return"movementY"in e?e.movementY:Ld}}),x2=fs(Wf),P3=Br({},Wf,{dataTransfer:0}),M3=fs(P3),O3=Br({},Xc,{relatedTarget:0}),Pd=fs(O3),k3=Br({},Bu,{animationName:0,elapsedTime:0,pseudoElement:0}),R3=fs(k3),D3=Br({},Bu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),B3=fs(D3),F3=Br({},Bu,{data:0}),_2=fs(F3),j3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=U3[e])?!!t[e]:!1}function ep(){return H3}var W3=Br({},Xc,{key:function(e){if(e.key){var t=j3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ep,charCode:function(e){return e.type==="keypress"?Zh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V3=fs(W3),q3=Br({},Wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A2=fs(q3),G3=Br({},Xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ep}),Z3=fs(G3),Y3=Br({},Bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),X3=fs(Y3),K3=Br({},Wf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q3=fs(K3),J3=[9,13,27,32],tp=Ea&&"CompositionEvent"in window,mc=null;Ea&&"documentMode"in document&&(mc=document.documentMode);var $3=Ea&&"TextEvent"in window&&!mc,tv=Ea&&(!tp||mc&&8<mc&&11>=mc),b2=" ",C2=!1;function nv(e,t){switch(e){case"keyup":return J3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var su=!1;function e_(e,t){switch(e){case"compositionend":return rv(t);case"keypress":return t.which!==32?null:(C2=!0,b2);case"textInput":return e=t.data,e===b2&&C2?null:e;default:return null}}function t_(e,t){if(su)return e==="compositionend"||!tp&&nv(e,t)?(e=ev(),Gh=J0=Xa=null,su=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tv&&t.locale!=="ko"?null:t.data;default:return null}}var n_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!n_[e.type]:t==="textarea"}function iv(e,t,n,i){R5(i),t=gf(t,"onChange"),0<t.length&&(n=new $0("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var vc=null,Mc=null;function r_(e){gv(e,0)}function Vf(e){var t=uu(e);if(I5(t))return e}function i_(e,t){if(e==="change")return t}var ov=!1;if(Ea){var Md;if(Ea){var Od="oninput"in document;if(!Od){var E2=document.createElement("div");E2.setAttribute("oninput","return;"),Od=typeof E2.oninput=="function"}Md=Od}else Md=!1;ov=Md&&(!document.documentMode||9<document.documentMode)}function N2(){vc&&(vc.detachEvent("onpropertychange",sv),Mc=vc=null)}function sv(e){if(e.propertyName==="value"&&Vf(Mc)){var t=[];iv(t,Mc,e,Z0(e)),j5(r_,t)}}function o_(e,t,n){e==="focusin"?(N2(),vc=t,Mc=n,vc.attachEvent("onpropertychange",sv)):e==="focusout"&&N2()}function s_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vf(Mc)}function a_(e,t){if(e==="click")return Vf(t)}function l_(e,t){if(e==="input"||e==="change")return Vf(t)}function u_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qs=typeof Object.is=="function"?Object.is:u_;function Oc(e,t){if(qs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!b1.call(t,s)||!qs(e[s],t[s]))return!1}return!0}function I2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function T2(e,t){var n=I2(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=I2(n)}}function av(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?av(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lv(){for(var e=window,t=lf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lf(e.document)}return t}function np(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function c_(e){var t=lv(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&av(n.ownerDocument.documentElement,n)){if(i!==null&&np(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(i.start,s);i=i.end===void 0?a:Math.min(i.end,s),!e.extend&&a>i&&(s=i,i=a,a=s),s=T2(n,a);var d=T2(n,i);s&&d&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var h_=Ea&&"documentMode"in document&&11>=document.documentMode,au=null,H1=null,yc=null,W1=!1;function L2(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;W1||au==null||au!==lf(i)||(i=au,"selectionStart"in i&&np(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),yc&&Oc(yc,i)||(yc=i,i=gf(H1,"onSelect"),0<i.length&&(t=new $0("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=au)))}function Ch(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lu={animationend:Ch("Animation","AnimationEnd"),animationiteration:Ch("Animation","AnimationIteration"),animationstart:Ch("Animation","AnimationStart"),transitionend:Ch("Transition","TransitionEnd")},kd={},uv={};Ea&&(uv=document.createElement("div").style,"AnimationEvent"in window||(delete lu.animationend.animation,delete lu.animationiteration.animation,delete lu.animationstart.animation),"TransitionEvent"in window||delete lu.transitionend.transition);function qf(e){if(kd[e])return kd[e];if(!lu[e])return e;var t=lu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uv)return kd[e]=t[n];return e}var cv=qf("animationend"),hv=qf("animationiteration"),fv=qf("animationstart"),dv=qf("transitionend"),pv=new Map,P2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fl(e,t){pv.set(e,t),Fl(t,[e])}for(var Rd=0;Rd<P2.length;Rd++){var Dd=P2[Rd],f_=Dd.toLowerCase(),d_=Dd[0].toUpperCase()+Dd.slice(1);fl(f_,"on"+d_)}fl(cv,"onAnimationEnd");fl(hv,"onAnimationIteration");fl(fv,"onAnimationStart");fl("dblclick","onDoubleClick");fl("focusin","onFocus");fl("focusout","onBlur");fl(dv,"onTransitionEnd");Tu("onMouseEnter",["mouseout","mouseover"]);Tu("onMouseLeave",["mouseout","mouseover"]);Tu("onPointerEnter",["pointerout","pointerover"]);Tu("onPointerLeave",["pointerout","pointerover"]);Fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p_=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function M2(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,f3(i,t,void 0,e),e.currentTarget=null}function gv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var d=i.length-1;0<=d;d--){var g=i[d],v=g.instance,m=g.currentTarget;if(g=g.listener,v!==a&&s.isPropagationStopped())break e;M2(s,g,m),a=v}else for(d=0;d<i.length;d++){if(g=i[d],v=g.instance,m=g.currentTarget,g=g.listener,v!==a&&s.isPropagationStopped())break e;M2(s,g,m),a=v}}}if(cf)throw e=F1,cf=!1,F1=null,e}function wr(e,t){var n=t[Y1];n===void 0&&(n=t[Y1]=new Set);var i=e+"__bubble";n.has(i)||(mv(t,e,2,!1),n.add(i))}function Bd(e,t,n){var i=0;t&&(i|=4),mv(n,e,i,t)}var Sh="_reactListening"+Math.random().toString(36).slice(2);function kc(e){if(!e[Sh]){e[Sh]=!0,b5.forEach(function(n){n!=="selectionchange"&&(p_.has(n)||Bd(n,!1,e),Bd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sh]||(t[Sh]=!0,Bd("selectionchange",!1,t))}}function mv(e,t,n,i){switch($5(t)){case 1:var s=I3;break;case 4:s=T3;break;default:s=Q0}n=s.bind(null,t,n,e),s=void 0,!B1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Fd(e,t,n,i,s){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var g=i.stateNode.containerInfo;if(g===s||g.nodeType===8&&g.parentNode===s)break;if(d===4)for(d=i.return;d!==null;){var v=d.tag;if((v===3||v===4)&&(v=d.stateNode.containerInfo,v===s||v.nodeType===8&&v.parentNode===s))return;d=d.return}for(;g!==null;){if(d=Cl(g),d===null)return;if(v=d.tag,v===5||v===6){i=a=d;continue e}g=g.parentNode}}i=i.return}j5(function(){var m=a,_=Z0(n),C=[];e:{var P=pv.get(e);if(P!==void 0){var S=$0,j=e;switch(e){case"keypress":if(Zh(n)===0)break e;case"keydown":case"keyup":S=V3;break;case"focusin":j="focus",S=Pd;break;case"focusout":j="blur",S=Pd;break;case"beforeblur":case"afterblur":S=Pd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=x2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=M3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Z3;break;case cv:case hv:case fv:S=R3;break;case dv:S=X3;break;case"scroll":S=L3;break;case"wheel":S=Q3;break;case"copy":case"cut":case"paste":S=B3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=A2}var D=(t&4)!==0,q=!D&&e==="scroll",M=D?P!==null?P+"Capture":null:P;D=[];for(var B=m,F;B!==null;){F=B;var Z=F.stateNode;if(F.tag===5&&Z!==null&&(F=Z,M!==null&&(Z=Ic(B,M),Z!=null&&D.push(Rc(B,Z,F)))),q)break;B=B.return}0<D.length&&(P=new S(P,j,null,n,_),C.push({event:P,listeners:D}))}}if(!(t&7)){e:{if(P=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",P&&n!==R1&&(j=n.relatedTarget||n.fromElement)&&(Cl(j)||j[Na]))break e;if((S||P)&&(P=_.window===_?_:(P=_.ownerDocument)?P.defaultView||P.parentWindow:window,S?(j=n.relatedTarget||n.toElement,S=m,j=j?Cl(j):null,j!==null&&(q=jl(j),j!==q||j.tag!==5&&j.tag!==6)&&(j=null)):(S=null,j=m),S!==j)){if(D=x2,Z="onMouseLeave",M="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(D=A2,Z="onPointerLeave",M="onPointerEnter",B="pointer"),q=S==null?P:uu(S),F=j==null?P:uu(j),P=new D(Z,B+"leave",S,n,_),P.target=q,P.relatedTarget=F,Z=null,Cl(_)===m&&(D=new D(M,B+"enter",j,n,_),D.target=F,D.relatedTarget=q,Z=D),q=Z,S&&j)t:{for(D=S,M=j,B=0,F=D;F;F=Ql(F))B++;for(F=0,Z=M;Z;Z=Ql(Z))F++;for(;0<B-F;)D=Ql(D),B--;for(;0<F-B;)M=Ql(M),F--;for(;B--;){if(D===M||M!==null&&D===M.alternate)break t;D=Ql(D),M=Ql(M)}D=null}else D=null;S!==null&&O2(C,P,S,D,!1),j!==null&&q!==null&&O2(C,q,j,D,!0)}}e:{if(P=m?uu(m):window,S=P.nodeName&&P.nodeName.toLowerCase(),S==="select"||S==="input"&&P.type==="file")var ye=i_;else if(S2(P))if(ov)ye=l_;else{ye=s_;var Se=o_}else(S=P.nodeName)&&S.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(ye=a_);if(ye&&(ye=ye(e,m))){iv(C,ye,n,_);break e}Se&&Se(e,P,m),e==="focusout"&&(Se=P._wrapperState)&&Se.controlled&&P.type==="number"&&L1(P,"number",P.value)}switch(Se=m?uu(m):window,e){case"focusin":(S2(Se)||Se.contentEditable==="true")&&(au=Se,H1=m,yc=null);break;case"focusout":yc=H1=au=null;break;case"mousedown":W1=!0;break;case"contextmenu":case"mouseup":case"dragend":W1=!1,L2(C,n,_);break;case"selectionchange":if(h_)break;case"keydown":case"keyup":L2(C,n,_)}var fe;if(tp)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else su?nv(e,n)&&(de="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(de="onCompositionStart");de&&(tv&&n.locale!=="ko"&&(su||de!=="onCompositionStart"?de==="onCompositionEnd"&&su&&(fe=ev()):(Xa=_,J0="value"in Xa?Xa.value:Xa.textContent,su=!0)),Se=gf(m,de),0<Se.length&&(de=new _2(de,e,null,n,_),C.push({event:de,listeners:Se}),fe?de.data=fe:(fe=rv(n),fe!==null&&(de.data=fe)))),(fe=$3?e_(e,n):t_(e,n))&&(m=gf(m,"onBeforeInput"),0<m.length&&(_=new _2("onBeforeInput","beforeinput",null,n,_),C.push({event:_,listeners:m}),_.data=fe))}gv(C,t)})}function Rc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gf(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ic(e,n),a!=null&&i.unshift(Rc(e,a,s)),a=Ic(e,t),a!=null&&i.push(Rc(e,a,s))),e=e.return}return i}function Ql(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function O2(e,t,n,i,s){for(var a=t._reactName,d=[];n!==null&&n!==i;){var g=n,v=g.alternate,m=g.stateNode;if(v!==null&&v===i)break;g.tag===5&&m!==null&&(g=m,s?(v=Ic(n,a),v!=null&&d.unshift(Rc(n,v,g))):s||(v=Ic(n,a),v!=null&&d.push(Rc(n,v,g)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var g_=/\r\n?/g,m_=/\u0000|\uFFFD/g;function k2(e){return(typeof e=="string"?e:""+e).replace(g_,`
`).replace(m_,"")}function Eh(e,t,n){if(t=k2(t),k2(e)!==t&&n)throw Error(ft(425))}function mf(){}var V1=null,q1=null;function G1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Z1=typeof setTimeout=="function"?setTimeout:void 0,v_=typeof clearTimeout=="function"?clearTimeout:void 0,R2=typeof Promise=="function"?Promise:void 0,y_=typeof queueMicrotask=="function"?queueMicrotask:typeof R2<"u"?function(e){return R2.resolve(null).then(e).catch(w_)}:Z1;function w_(e){setTimeout(function(){throw e})}function jd(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),Pc(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Pc(t)}function nl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function D2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fu=Math.random().toString(36).slice(2),oa="__reactFiber$"+Fu,Dc="__reactProps$"+Fu,Na="__reactContainer$"+Fu,Y1="__reactEvents$"+Fu,x_="__reactListeners$"+Fu,__="__reactHandles$"+Fu;function Cl(e){var t=e[oa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Na]||n[oa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=D2(e);e!==null;){if(n=e[oa])return n;e=D2(e)}return t}e=n,n=e.parentNode}return null}function Kc(e){return e=e[oa]||e[Na],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ft(33))}function Gf(e){return e[Dc]||null}var X1=[],cu=-1;function dl(e){return{current:e}}function Ar(e){0>cu||(e.current=X1[cu],X1[cu]=null,cu--)}function gr(e,t){cu++,X1[cu]=e.current,e.current=t}var ul={},ao=dl(ul),ko=dl(!1),Pl=ul;function Lu(e,t){var n=e.type.contextTypes;if(!n)return ul;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ro(e){return e=e.childContextTypes,e!=null}function vf(){Ar(ko),Ar(ao)}function B2(e,t,n){if(ao.current!==ul)throw Error(ft(168));gr(ao,t),gr(ko,n)}function vv(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(ft(108,o3(e)||"Unknown",s));return Br({},n,i)}function yf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ul,Pl=ao.current,gr(ao,e),gr(ko,ko.current),!0}function F2(e,t,n){var i=e.stateNode;if(!i)throw Error(ft(169));n?(e=vv(e,t,Pl),i.__reactInternalMemoizedMergedChildContext=e,Ar(ko),Ar(ao),gr(ao,e)):Ar(ko),gr(ko,n)}var wa=null,Zf=!1,zd=!1;function yv(e){wa===null?wa=[e]:wa.push(e)}function A_(e){Zf=!0,yv(e)}function pl(){if(!zd&&wa!==null){zd=!0;var e=0,t=or;try{var n=wa;for(or=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}wa=null,Zf=!1}catch(s){throw wa!==null&&(wa=wa.slice(e+1)),W5(Y0,pl),s}finally{or=t,zd=!1}}return null}var hu=[],fu=0,wf=null,xf=0,ws=[],xs=0,Ml=null,_a=1,Aa="";function xl(e,t){hu[fu++]=xf,hu[fu++]=wf,wf=e,xf=t}function wv(e,t,n){ws[xs++]=_a,ws[xs++]=Aa,ws[xs++]=Ml,Ml=e;var i=_a;e=Aa;var s=32-Ws(i)-1;i&=~(1<<s),n+=1;var a=32-Ws(t)+s;if(30<a){var d=s-s%5;a=(i&(1<<d)-1).toString(32),i>>=d,s-=d,_a=1<<32-Ws(t)+s|n<<s|i,Aa=a+e}else _a=1<<a|n<<s|i,Aa=e}function rp(e){e.return!==null&&(xl(e,1),wv(e,1,0))}function ip(e){for(;e===wf;)wf=hu[--fu],hu[fu]=null,xf=hu[--fu],hu[fu]=null;for(;e===Ml;)Ml=ws[--xs],ws[xs]=null,Aa=ws[--xs],ws[xs]=null,_a=ws[--xs],ws[xs]=null}var us=null,as=null,Nr=!1,Hs=null;function xv(e,t){var n=_s(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function j2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,us=e,as=nl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,us=e,as=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ml!==null?{id:_a,overflow:Aa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_s(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,us=e,as=null,!0):!1;default:return!1}}function K1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Q1(e){if(Nr){var t=as;if(t){var n=t;if(!j2(e,t)){if(K1(e))throw Error(ft(418));t=nl(n.nextSibling);var i=us;t&&j2(e,t)?xv(i,n):(e.flags=e.flags&-4097|2,Nr=!1,us=e)}}else{if(K1(e))throw Error(ft(418));e.flags=e.flags&-4097|2,Nr=!1,us=e}}}function z2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;us=e}function Nh(e){if(e!==us)return!1;if(!Nr)return z2(e),Nr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!G1(e.type,e.memoizedProps)),t&&(t=as)){if(K1(e))throw _v(),Error(ft(418));for(;t;)xv(e,t),t=nl(t.nextSibling)}if(z2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ft(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){as=nl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}as=null}}else as=us?nl(e.stateNode.nextSibling):null;return!0}function _v(){for(var e=as;e;)e=nl(e.nextSibling)}function Pu(){as=us=null,Nr=!1}function op(e){Hs===null?Hs=[e]:Hs.push(e)}var b_=Pa.ReactCurrentBatchConfig;function oc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ft(309));var i=n.stateNode}if(!i)throw Error(ft(147,e));var s=i,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(d){var g=s.refs;d===null?delete g[a]:g[a]=d},t._stringRef=a,t)}if(typeof e!="string")throw Error(ft(284));if(!n._owner)throw Error(ft(290,e))}return e}function Ih(e,t){throw e=Object.prototype.toString.call(t),Error(ft(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function U2(e){var t=e._init;return t(e._payload)}function Av(e){function t(M,B){if(e){var F=M.deletions;F===null?(M.deletions=[B],M.flags|=16):F.push(B)}}function n(M,B){if(!e)return null;for(;B!==null;)t(M,B),B=B.sibling;return null}function i(M,B){for(M=new Map;B!==null;)B.key!==null?M.set(B.key,B):M.set(B.index,B),B=B.sibling;return M}function s(M,B){return M=sl(M,B),M.index=0,M.sibling=null,M}function a(M,B,F){return M.index=F,e?(F=M.alternate,F!==null?(F=F.index,F<B?(M.flags|=2,B):F):(M.flags|=2,B)):(M.flags|=1048576,B)}function d(M){return e&&M.alternate===null&&(M.flags|=2),M}function g(M,B,F,Z){return B===null||B.tag!==6?(B=Zd(F,M.mode,Z),B.return=M,B):(B=s(B,F),B.return=M,B)}function v(M,B,F,Z){var ye=F.type;return ye===ou?_(M,B,F.props.children,Z,F.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===qa&&U2(ye)===B.type)?(Z=s(B,F.props),Z.ref=oc(M,B,F),Z.return=M,Z):(Z=ef(F.type,F.key,F.props,null,M.mode,Z),Z.ref=oc(M,B,F),Z.return=M,Z)}function m(M,B,F,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==F.containerInfo||B.stateNode.implementation!==F.implementation?(B=Yd(F,M.mode,Z),B.return=M,B):(B=s(B,F.children||[]),B.return=M,B)}function _(M,B,F,Z,ye){return B===null||B.tag!==7?(B=Il(F,M.mode,Z,ye),B.return=M,B):(B=s(B,F),B.return=M,B)}function C(M,B,F){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Zd(""+B,M.mode,F),B.return=M,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case vh:return F=ef(B.type,B.key,B.props,null,M.mode,F),F.ref=oc(M,null,B),F.return=M,F;case iu:return B=Yd(B,M.mode,F),B.return=M,B;case qa:var Z=B._init;return C(M,Z(B._payload),F)}if(hc(B)||ec(B))return B=Il(B,M.mode,F,null),B.return=M,B;Ih(M,B)}return null}function P(M,B,F,Z){var ye=B!==null?B.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ye!==null?null:g(M,B,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case vh:return F.key===ye?v(M,B,F,Z):null;case iu:return F.key===ye?m(M,B,F,Z):null;case qa:return ye=F._init,P(M,B,ye(F._payload),Z)}if(hc(F)||ec(F))return ye!==null?null:_(M,B,F,Z,null);Ih(M,F)}return null}function S(M,B,F,Z,ye){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return M=M.get(F)||null,g(B,M,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case vh:return M=M.get(Z.key===null?F:Z.key)||null,v(B,M,Z,ye);case iu:return M=M.get(Z.key===null?F:Z.key)||null,m(B,M,Z,ye);case qa:var Se=Z._init;return S(M,B,F,Se(Z._payload),ye)}if(hc(Z)||ec(Z))return M=M.get(F)||null,_(B,M,Z,ye,null);Ih(B,Z)}return null}function j(M,B,F,Z){for(var ye=null,Se=null,fe=B,de=B=0,J=null;fe!==null&&de<F.length;de++){fe.index>de?(J=fe,fe=null):J=fe.sibling;var be=P(M,fe,F[de],Z);if(be===null){fe===null&&(fe=J);break}e&&fe&&be.alternate===null&&t(M,fe),B=a(be,B,de),Se===null?ye=be:Se.sibling=be,Se=be,fe=J}if(de===F.length)return n(M,fe),Nr&&xl(M,de),ye;if(fe===null){for(;de<F.length;de++)fe=C(M,F[de],Z),fe!==null&&(B=a(fe,B,de),Se===null?ye=fe:Se.sibling=fe,Se=fe);return Nr&&xl(M,de),ye}for(fe=i(M,fe);de<F.length;de++)J=S(fe,M,de,F[de],Z),J!==null&&(e&&J.alternate!==null&&fe.delete(J.key===null?de:J.key),B=a(J,B,de),Se===null?ye=J:Se.sibling=J,Se=J);return e&&fe.forEach(function(K){return t(M,K)}),Nr&&xl(M,de),ye}function D(M,B,F,Z){var ye=ec(F);if(typeof ye!="function")throw Error(ft(150));if(F=ye.call(F),F==null)throw Error(ft(151));for(var Se=ye=null,fe=B,de=B=0,J=null,be=F.next();fe!==null&&!be.done;de++,be=F.next()){fe.index>de?(J=fe,fe=null):J=fe.sibling;var K=P(M,fe,be.value,Z);if(K===null){fe===null&&(fe=J);break}e&&fe&&K.alternate===null&&t(M,fe),B=a(K,B,de),Se===null?ye=K:Se.sibling=K,Se=K,fe=J}if(be.done)return n(M,fe),Nr&&xl(M,de),ye;if(fe===null){for(;!be.done;de++,be=F.next())be=C(M,be.value,Z),be!==null&&(B=a(be,B,de),Se===null?ye=be:Se.sibling=be,Se=be);return Nr&&xl(M,de),ye}for(fe=i(M,fe);!be.done;de++,be=F.next())be=S(fe,M,de,be.value,Z),be!==null&&(e&&be.alternate!==null&&fe.delete(be.key===null?de:be.key),B=a(be,B,de),Se===null?ye=be:Se.sibling=be,Se=be);return e&&fe.forEach(function($){return t(M,$)}),Nr&&xl(M,de),ye}function q(M,B,F,Z){if(typeof F=="object"&&F!==null&&F.type===ou&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case vh:e:{for(var ye=F.key,Se=B;Se!==null;){if(Se.key===ye){if(ye=F.type,ye===ou){if(Se.tag===7){n(M,Se.sibling),B=s(Se,F.props.children),B.return=M,M=B;break e}}else if(Se.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===qa&&U2(ye)===Se.type){n(M,Se.sibling),B=s(Se,F.props),B.ref=oc(M,Se,F),B.return=M,M=B;break e}n(M,Se);break}else t(M,Se);Se=Se.sibling}F.type===ou?(B=Il(F.props.children,M.mode,Z,F.key),B.return=M,M=B):(Z=ef(F.type,F.key,F.props,null,M.mode,Z),Z.ref=oc(M,B,F),Z.return=M,M=Z)}return d(M);case iu:e:{for(Se=F.key;B!==null;){if(B.key===Se)if(B.tag===4&&B.stateNode.containerInfo===F.containerInfo&&B.stateNode.implementation===F.implementation){n(M,B.sibling),B=s(B,F.children||[]),B.return=M,M=B;break e}else{n(M,B);break}else t(M,B);B=B.sibling}B=Yd(F,M.mode,Z),B.return=M,M=B}return d(M);case qa:return Se=F._init,q(M,B,Se(F._payload),Z)}if(hc(F))return j(M,B,F,Z);if(ec(F))return D(M,B,F,Z);Ih(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,B!==null&&B.tag===6?(n(M,B.sibling),B=s(B,F),B.return=M,M=B):(n(M,B),B=Zd(F,M.mode,Z),B.return=M,M=B),d(M)):n(M,B)}return q}var Mu=Av(!0),bv=Av(!1),_f=dl(null),Af=null,du=null,sp=null;function ap(){sp=du=Af=null}function lp(e){var t=_f.current;Ar(_f),e._currentValue=t}function J1(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Au(e,t){Af=e,sp=du=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Oo=!0),e.firstContext=null)}function bs(e){var t=e._currentValue;if(sp!==e)if(e={context:e,memoizedValue:t,next:null},du===null){if(Af===null)throw Error(ft(308));du=e,Af.dependencies={lanes:0,firstContext:e}}else du=du.next=e;return t}var Sl=null;function up(e){Sl===null?Sl=[e]:Sl.push(e)}function Cv(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,up(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ia(e,i)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ga=!1;function cp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rl(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Wn&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Ia(e,n)}return s=i.interleaved,s===null?(t.next=t,up(i)):(t.next=s.next,s.next=t),i.interleaved=t,Ia(e,n)}function Yh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,X0(e,n)}}function H2(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=d:a=a.next=d,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bf(e,t,n,i){var s=e.updateQueue;Ga=!1;var a=s.firstBaseUpdate,d=s.lastBaseUpdate,g=s.shared.pending;if(g!==null){s.shared.pending=null;var v=g,m=v.next;v.next=null,d===null?a=m:d.next=m,d=v;var _=e.alternate;_!==null&&(_=_.updateQueue,g=_.lastBaseUpdate,g!==d&&(g===null?_.firstBaseUpdate=m:g.next=m,_.lastBaseUpdate=v))}if(a!==null){var C=s.baseState;d=0,_=m=v=null,g=a;do{var P=g.lane,S=g.eventTime;if((i&P)===P){_!==null&&(_=_.next={eventTime:S,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var j=e,D=g;switch(P=t,S=n,D.tag){case 1:if(j=D.payload,typeof j=="function"){C=j.call(S,C,P);break e}C=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=D.payload,P=typeof j=="function"?j.call(S,C,P):j,P==null)break e;C=Br({},C,P);break e;case 2:Ga=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,P=s.effects,P===null?s.effects=[g]:P.push(g))}else S={eventTime:S,lane:P,tag:g.tag,payload:g.payload,callback:g.callback,next:null},_===null?(m=_=S,v=C):_=_.next=S,d|=P;if(g=g.next,g===null){if(g=s.shared.pending,g===null)break;P=g,g=P.next,P.next=null,s.lastBaseUpdate=P,s.shared.pending=null}}while(!0);if(_===null&&(v=C),s.baseState=v,s.firstBaseUpdate=m,s.lastBaseUpdate=_,t=s.shared.interleaved,t!==null){s=t;do d|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);kl|=d,e.lanes=d,e.memoizedState=C}}function W2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(ft(191,s));s.call(i)}}}var Qc={},la=dl(Qc),Bc=dl(Qc),Fc=dl(Qc);function El(e){if(e===Qc)throw Error(ft(174));return e}function hp(e,t){switch(gr(Fc,t),gr(Bc,e),gr(la,Qc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:M1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=M1(t,e)}Ar(la),gr(la,t)}function Ou(){Ar(la),Ar(Bc),Ar(Fc)}function Ev(e){El(Fc.current);var t=El(la.current),n=M1(t,e.type);t!==n&&(gr(Bc,e),gr(la,n))}function fp(e){Bc.current===e&&(Ar(la),Ar(Bc))}var Rr=dl(0);function Cf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ud=[];function dp(){for(var e=0;e<Ud.length;e++)Ud[e]._workInProgressVersionPrimary=null;Ud.length=0}var Xh=Pa.ReactCurrentDispatcher,Hd=Pa.ReactCurrentBatchConfig,Ol=0,Dr=null,Ai=null,Ni=null,Sf=!1,wc=!1,jc=0,C_=0;function eo(){throw Error(ft(321))}function pp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qs(e[n],t[n]))return!1;return!0}function gp(e,t,n,i,s,a){if(Ol=a,Dr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xh.current=e===null||e.memoizedState===null?I_:T_,e=n(i,s),wc){a=0;do{if(wc=!1,jc=0,25<=a)throw Error(ft(301));a+=1,Ni=Ai=null,t.updateQueue=null,Xh.current=L_,e=n(i,s)}while(wc)}if(Xh.current=Ef,t=Ai!==null&&Ai.next!==null,Ol=0,Ni=Ai=Dr=null,Sf=!1,t)throw Error(ft(300));return e}function mp(){var e=jc!==0;return jc=0,e}function ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ni===null?Dr.memoizedState=Ni=e:Ni=Ni.next=e,Ni}function Cs(){if(Ai===null){var e=Dr.alternate;e=e!==null?e.memoizedState:null}else e=Ai.next;var t=Ni===null?Dr.memoizedState:Ni.next;if(t!==null)Ni=t,Ai=e;else{if(e===null)throw Error(ft(310));Ai=e,e={memoizedState:Ai.memoizedState,baseState:Ai.baseState,baseQueue:Ai.baseQueue,queue:Ai.queue,next:null},Ni===null?Dr.memoizedState=Ni=e:Ni=Ni.next=e}return Ni}function zc(e,t){return typeof t=="function"?t(e):t}function Wd(e){var t=Cs(),n=t.queue;if(n===null)throw Error(ft(311));n.lastRenderedReducer=e;var i=Ai,s=i.baseQueue,a=n.pending;if(a!==null){if(s!==null){var d=s.next;s.next=a.next,a.next=d}i.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,i=i.baseState;var g=d=null,v=null,m=a;do{var _=m.lane;if((Ol&_)===_)v!==null&&(v=v.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),i=m.hasEagerState?m.eagerState:e(i,m.action);else{var C={lane:_,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};v===null?(g=v=C,d=i):v=v.next=C,Dr.lanes|=_,kl|=_}m=m.next}while(m!==null&&m!==a);v===null?d=i:v.next=g,qs(i,t.memoizedState)||(Oo=!0),t.memoizedState=i,t.baseState=d,t.baseQueue=v,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Dr.lanes|=a,kl|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vd(e){var t=Cs(),n=t.queue;if(n===null)throw Error(ft(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var d=s=s.next;do a=e(a,d.action),d=d.next;while(d!==s);qs(a,t.memoizedState)||(Oo=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Nv(){}function Iv(e,t){var n=Dr,i=Cs(),s=t(),a=!qs(i.memoizedState,s);if(a&&(i.memoizedState=s,Oo=!0),i=i.queue,vp(Pv.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||Ni!==null&&Ni.memoizedState.tag&1){if(n.flags|=2048,Uc(9,Lv.bind(null,n,i,s,t),void 0,null),Ti===null)throw Error(ft(349));Ol&30||Tv(n,t,s)}return s}function Tv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Dr.updateQueue,t===null?(t={lastEffect:null,stores:null},Dr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lv(e,t,n,i){t.value=n,t.getSnapshot=i,Mv(t)&&Ov(e)}function Pv(e,t,n){return n(function(){Mv(t)&&Ov(e)})}function Mv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qs(e,n)}catch{return!0}}function Ov(e){var t=Ia(e,1);t!==null&&Vs(t,e,1,-1)}function V2(e){var t=ra();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:e},t.queue=e,e=e.dispatch=N_.bind(null,Dr,e),[t.memoizedState,e]}function Uc(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Dr.updateQueue,t===null?(t={lastEffect:null,stores:null},Dr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function kv(){return Cs().memoizedState}function Kh(e,t,n,i){var s=ra();Dr.flags|=e,s.memoizedState=Uc(1|t,n,void 0,i===void 0?null:i)}function Yf(e,t,n,i){var s=Cs();i=i===void 0?null:i;var a=void 0;if(Ai!==null){var d=Ai.memoizedState;if(a=d.destroy,i!==null&&pp(i,d.deps)){s.memoizedState=Uc(t,n,a,i);return}}Dr.flags|=e,s.memoizedState=Uc(1|t,n,a,i)}function q2(e,t){return Kh(8390656,8,e,t)}function vp(e,t){return Yf(2048,8,e,t)}function Rv(e,t){return Yf(4,2,e,t)}function Dv(e,t){return Yf(4,4,e,t)}function Bv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fv(e,t,n){return n=n!=null?n.concat([e]):null,Yf(4,4,Bv.bind(null,t,e),n)}function yp(){}function jv(e,t){var n=Cs();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&pp(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function zv(e,t){var n=Cs();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&pp(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Uv(e,t,n){return Ol&21?(qs(n,t)||(n=G5(),Dr.lanes|=n,kl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Oo=!0),e.memoizedState=n)}function S_(e,t){var n=or;or=n!==0&&4>n?n:4,e(!0);var i=Hd.transition;Hd.transition={};try{e(!1),t()}finally{or=n,Hd.transition=i}}function Hv(){return Cs().memoizedState}function E_(e,t,n){var i=ol(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Wv(e))Vv(t,n);else if(n=Cv(e,t,n,i),n!==null){var s=xo();Vs(n,e,i,s),qv(n,t,i)}}function N_(e,t,n){var i=ol(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wv(e))Vv(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var d=t.lastRenderedState,g=a(d,n);if(s.hasEagerState=!0,s.eagerState=g,qs(g,d)){var v=t.interleaved;v===null?(s.next=s,up(t)):(s.next=v.next,v.next=s),t.interleaved=s;return}}catch{}finally{}n=Cv(e,t,s,i),n!==null&&(s=xo(),Vs(n,e,i,s),qv(n,t,i))}}function Wv(e){var t=e.alternate;return e===Dr||t!==null&&t===Dr}function Vv(e,t){wc=Sf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qv(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,X0(e,n)}}var Ef={readContext:bs,useCallback:eo,useContext:eo,useEffect:eo,useImperativeHandle:eo,useInsertionEffect:eo,useLayoutEffect:eo,useMemo:eo,useReducer:eo,useRef:eo,useState:eo,useDebugValue:eo,useDeferredValue:eo,useTransition:eo,useMutableSource:eo,useSyncExternalStore:eo,useId:eo,unstable_isNewReconciler:!1},I_={readContext:bs,useCallback:function(e,t){return ra().memoizedState=[e,t===void 0?null:t],e},useContext:bs,useEffect:q2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Kh(4194308,4,Bv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kh(4,2,e,t)},useMemo:function(e,t){var n=ra();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ra();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=E_.bind(null,Dr,e),[i.memoizedState,e]},useRef:function(e){var t=ra();return e={current:e},t.memoizedState=e},useState:V2,useDebugValue:yp,useDeferredValue:function(e){return ra().memoizedState=e},useTransition:function(){var e=V2(!1),t=e[0];return e=S_.bind(null,e[1]),ra().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Dr,s=ra();if(Nr){if(n===void 0)throw Error(ft(407));n=n()}else{if(n=t(),Ti===null)throw Error(ft(349));Ol&30||Tv(i,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,q2(Pv.bind(null,i,a,e),[e]),i.flags|=2048,Uc(9,Lv.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=ra(),t=Ti.identifierPrefix;if(Nr){var n=Aa,i=_a;n=(i&~(1<<32-Ws(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=jc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=C_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},T_={readContext:bs,useCallback:jv,useContext:bs,useEffect:vp,useImperativeHandle:Fv,useInsertionEffect:Rv,useLayoutEffect:Dv,useMemo:zv,useReducer:Wd,useRef:kv,useState:function(){return Wd(zc)},useDebugValue:yp,useDeferredValue:function(e){var t=Cs();return Uv(t,Ai.memoizedState,e)},useTransition:function(){var e=Wd(zc)[0],t=Cs().memoizedState;return[e,t]},useMutableSource:Nv,useSyncExternalStore:Iv,useId:Hv,unstable_isNewReconciler:!1},L_={readContext:bs,useCallback:jv,useContext:bs,useEffect:vp,useImperativeHandle:Fv,useInsertionEffect:Rv,useLayoutEffect:Dv,useMemo:zv,useReducer:Vd,useRef:kv,useState:function(){return Vd(zc)},useDebugValue:yp,useDeferredValue:function(e){var t=Cs();return Ai===null?t.memoizedState=e:Uv(t,Ai.memoizedState,e)},useTransition:function(){var e=Vd(zc)[0],t=Cs().memoizedState;return[e,t]},useMutableSource:Nv,useSyncExternalStore:Iv,useId:Hv,unstable_isNewReconciler:!1};function js(e,t){if(e&&e.defaultProps){t=Br({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $1(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Br({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xf={isMounted:function(e){return(e=e._reactInternals)?jl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=xo(),s=ol(e),a=Sa(i,s);a.payload=t,n!=null&&(a.callback=n),t=rl(e,a,s),t!==null&&(Vs(t,e,s,i),Yh(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=xo(),s=ol(e),a=Sa(i,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=rl(e,a,s),t!==null&&(Vs(t,e,s,i),Yh(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xo(),i=ol(e),s=Sa(n,i);s.tag=2,t!=null&&(s.callback=t),t=rl(e,s,i),t!==null&&(Vs(t,e,i,n),Yh(t,e,i))}};function G2(e,t,n,i,s,a,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,d):t.prototype&&t.prototype.isPureReactComponent?!Oc(n,i)||!Oc(s,a):!0}function Gv(e,t,n){var i=!1,s=ul,a=t.contextType;return typeof a=="object"&&a!==null?a=bs(a):(s=Ro(t)?Pl:ao.current,i=t.contextTypes,a=(i=i!=null)?Lu(e,s):ul),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xf,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Z2(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Xf.enqueueReplaceState(t,t.state,null)}function e0(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},cp(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=bs(a):(a=Ro(t)?Pl:ao.current,s.context=Lu(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($1(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Xf.enqueueReplaceState(s,s.state,null),bf(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ku(e,t){try{var n="",i=t;do n+=i3(i),i=i.return;while(i);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function qd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function t0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var P_=typeof WeakMap=="function"?WeakMap:Map;function Zv(e,t,n){n=Sa(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){If||(If=!0,h0=i),t0(e,t)},n}function Yv(e,t,n){n=Sa(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){t0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){t0(e,t),typeof i!="function"&&(il===null?il=new Set([this]):il.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function Y2(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new P_;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=q_.bind(null,e,t,n),t.then(e,e))}function X2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function K2(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Sa(-1,1),t.tag=2,rl(n,t,1))),n.lanes|=1),e)}var M_=Pa.ReactCurrentOwner,Oo=!1;function wo(e,t,n,i){t.child=e===null?bv(t,null,n,i):Mu(t,e.child,n,i)}function Q2(e,t,n,i,s){n=n.render;var a=t.ref;return Au(t,s),i=gp(e,t,n,i,a,s),n=mp(),e!==null&&!Oo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ta(e,t,s)):(Nr&&n&&rp(t),t.flags|=1,wo(e,t,i,s),t.child)}function J2(e,t,n,i,s){if(e===null){var a=n.type;return typeof a=="function"&&!Ep(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Xv(e,t,a,i,s)):(e=ef(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var d=a.memoizedProps;if(n=n.compare,n=n!==null?n:Oc,n(d,i)&&e.ref===t.ref)return Ta(e,t,s)}return t.flags|=1,e=sl(a,i),e.ref=t.ref,e.return=t,t.child=e}function Xv(e,t,n,i,s){if(e!==null){var a=e.memoizedProps;if(Oc(a,i)&&e.ref===t.ref)if(Oo=!1,t.pendingProps=i=a,(e.lanes&s)!==0)e.flags&131072&&(Oo=!0);else return t.lanes=e.lanes,Ta(e,t,s)}return n0(e,t,n,i,s)}function Kv(e,t,n){var i=t.pendingProps,s=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gr(gu,os),os|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gr(gu,os),os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,gr(gu,os),os|=i}else a!==null?(i=a.baseLanes|n,t.memoizedState=null):i=n,gr(gu,os),os|=i;return wo(e,t,s,n),t.child}function Qv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function n0(e,t,n,i,s){var a=Ro(n)?Pl:ao.current;return a=Lu(t,a),Au(t,s),n=gp(e,t,n,i,a,s),i=mp(),e!==null&&!Oo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ta(e,t,s)):(Nr&&i&&rp(t),t.flags|=1,wo(e,t,n,s),t.child)}function $2(e,t,n,i,s){if(Ro(n)){var a=!0;yf(t)}else a=!1;if(Au(t,s),t.stateNode===null)Qh(e,t),Gv(t,n,i),e0(t,n,i,s),i=!0;else if(e===null){var d=t.stateNode,g=t.memoizedProps;d.props=g;var v=d.context,m=n.contextType;typeof m=="object"&&m!==null?m=bs(m):(m=Ro(n)?Pl:ao.current,m=Lu(t,m));var _=n.getDerivedStateFromProps,C=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function";C||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==i||v!==m)&&Z2(t,d,i,m),Ga=!1;var P=t.memoizedState;d.state=P,bf(t,i,d,s),v=t.memoizedState,g!==i||P!==v||ko.current||Ga?(typeof _=="function"&&($1(t,n,_,i),v=t.memoizedState),(g=Ga||G2(t,n,g,i,P,v,m))?(C||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=v),d.props=i,d.state=v,d.context=m,i=g):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,Sv(e,t),g=t.memoizedProps,m=t.type===t.elementType?g:js(t.type,g),d.props=m,C=t.pendingProps,P=d.context,v=n.contextType,typeof v=="object"&&v!==null?v=bs(v):(v=Ro(n)?Pl:ao.current,v=Lu(t,v));var S=n.getDerivedStateFromProps;(_=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==C||P!==v)&&Z2(t,d,i,v),Ga=!1,P=t.memoizedState,d.state=P,bf(t,i,d,s);var j=t.memoizedState;g!==C||P!==j||ko.current||Ga?(typeof S=="function"&&($1(t,n,S,i),j=t.memoizedState),(m=Ga||G2(t,n,m,i,P,j,v)||!1)?(_||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,j,v),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,j,v)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=j),d.props=i,d.state=j,d.context=v,i=m):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),i=!1)}return r0(e,t,n,i,a,s)}function r0(e,t,n,i,s,a){Qv(e,t);var d=(t.flags&128)!==0;if(!i&&!d)return s&&F2(t,n,!1),Ta(e,t,a);i=t.stateNode,M_.current=t;var g=d&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&d?(t.child=Mu(t,e.child,null,a),t.child=Mu(t,null,g,a)):wo(e,t,g,a),t.memoizedState=i.state,s&&F2(t,n,!0),t.child}function Jv(e){var t=e.stateNode;t.pendingContext?B2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&B2(e,t.context,!1),hp(e,t.containerInfo)}function eg(e,t,n,i,s){return Pu(),op(s),t.flags|=256,wo(e,t,n,i),t.child}var i0={dehydrated:null,treeContext:null,retryLane:0};function o0(e){return{baseLanes:e,cachePool:null,transitions:null}}function $v(e,t,n){var i=t.pendingProps,s=Rr.current,a=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(s&2)!==0),g?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),gr(Rr,s&1),e===null)return Q1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=i.children,e=i.fallback,a?(i=t.mode,a=t.child,d={mode:"hidden",children:d},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=d):a=Jf(d,i,0,null),e=Il(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=o0(n),t.memoizedState=i0,e):wp(t,d));if(s=e.memoizedState,s!==null&&(g=s.dehydrated,g!==null))return O_(e,t,d,i,g,s,n);if(a){a=i.fallback,d=t.mode,s=e.child,g=s.sibling;var v={mode:"hidden",children:i.children};return!(d&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=v,t.deletions=null):(i=sl(s,v),i.subtreeFlags=s.subtreeFlags&14680064),g!==null?a=sl(g,a):(a=Il(a,d,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,d=e.child.memoizedState,d=d===null?o0(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},a.memoizedState=d,a.childLanes=e.childLanes&~n,t.memoizedState=i0,i}return a=e.child,e=a.sibling,i=sl(a,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function wp(e,t){return t=Jf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Th(e,t,n,i){return i!==null&&op(i),Mu(t,e.child,null,n),e=wp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function O_(e,t,n,i,s,a,d){if(n)return t.flags&256?(t.flags&=-257,i=qd(Error(ft(422))),Th(e,t,d,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=i.fallback,s=t.mode,i=Jf({mode:"visible",children:i.children},s,0,null),a=Il(a,s,d,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,t.mode&1&&Mu(t,e.child,null,d),t.child.memoizedState=o0(d),t.memoizedState=i0,a);if(!(t.mode&1))return Th(e,t,d,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var g=i.dgst;return i=g,a=Error(ft(419)),i=qd(a,i,void 0),Th(e,t,d,i)}if(g=(d&e.childLanes)!==0,Oo||g){if(i=Ti,i!==null){switch(d&-d){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|d)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ia(e,s),Vs(i,e,s,-1))}return Sp(),i=qd(Error(ft(421))),Th(e,t,d,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=G_.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,as=nl(s.nextSibling),us=t,Nr=!0,Hs=null,e!==null&&(ws[xs++]=_a,ws[xs++]=Aa,ws[xs++]=Ml,_a=e.id,Aa=e.overflow,Ml=t),t=wp(t,i.children),t.flags|=4096,t)}function tg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),J1(e.return,t,n)}function Gd(e,t,n,i,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s)}function ey(e,t,n){var i=t.pendingProps,s=i.revealOrder,a=i.tail;if(wo(e,t,i.children,n),i=Rr.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tg(e,n,t);else if(e.tag===19)tg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(gr(Rr,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Cf(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Gd(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Cf(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Gd(t,!0,n,null,a);break;case"together":Gd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ta(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ft(153));if(t.child!==null){for(e=t.child,n=sl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function k_(e,t,n){switch(t.tag){case 3:Jv(t),Pu();break;case 5:Ev(t);break;case 1:Ro(t.type)&&yf(t);break;case 4:hp(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;gr(_f,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(gr(Rr,Rr.current&1),t.flags|=128,null):n&t.child.childLanes?$v(e,t,n):(gr(Rr,Rr.current&1),e=Ta(e,t,n),e!==null?e.sibling:null);gr(Rr,Rr.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return ey(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gr(Rr,Rr.current),i)break;return null;case 22:case 23:return t.lanes=0,Kv(e,t,n)}return Ta(e,t,n)}var ty,s0,ny,ry;ty=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};s0=function(){};ny=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,El(la.current);var a=null;switch(n){case"input":s=I1(e,s),i=I1(e,i),a=[];break;case"select":s=Br({},s,{value:void 0}),i=Br({},i,{value:void 0}),a=[];break;case"textarea":s=P1(e,s),i=P1(e,i),a=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=mf)}O1(n,i);var d;n=null;for(m in s)if(!i.hasOwnProperty(m)&&s.hasOwnProperty(m)&&s[m]!=null)if(m==="style"){var g=s[m];for(d in g)g.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Ec.hasOwnProperty(m)?a||(a=[]):(a=a||[]).push(m,null));for(m in i){var v=i[m];if(g=s!=null?s[m]:void 0,i.hasOwnProperty(m)&&v!==g&&(v!=null||g!=null))if(m==="style")if(g){for(d in g)!g.hasOwnProperty(d)||v&&v.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in v)v.hasOwnProperty(d)&&g[d]!==v[d]&&(n||(n={}),n[d]=v[d])}else n||(a||(a=[]),a.push(m,n)),n=v;else m==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,g=g?g.__html:void 0,v!=null&&g!==v&&(a=a||[]).push(m,v)):m==="children"?typeof v!="string"&&typeof v!="number"||(a=a||[]).push(m,""+v):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Ec.hasOwnProperty(m)?(v!=null&&m==="onScroll"&&wr("scroll",e),a||g===v||(a=[])):(a=a||[]).push(m,v))}n&&(a=a||[]).push("style",n);var m=a;(t.updateQueue=m)&&(t.flags|=4)}};ry=function(e,t,n,i){n!==i&&(t.flags|=4)};function sc(e,t){if(!Nr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function to(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function R_(e,t,n){var i=t.pendingProps;switch(ip(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return to(t),null;case 1:return Ro(t.type)&&vf(),to(t),null;case 3:return i=t.stateNode,Ou(),Ar(ko),Ar(ao),dp(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Nh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hs!==null&&(p0(Hs),Hs=null))),s0(e,t),to(t),null;case 5:fp(t);var s=El(Fc.current);if(n=t.type,e!==null&&t.stateNode!=null)ny(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(ft(166));return to(t),null}if(e=El(la.current),Nh(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[oa]=t,i[Dc]=a,e=(t.mode&1)!==0,n){case"dialog":wr("cancel",i),wr("close",i);break;case"iframe":case"object":case"embed":wr("load",i);break;case"video":case"audio":for(s=0;s<dc.length;s++)wr(dc[s],i);break;case"source":wr("error",i);break;case"img":case"image":case"link":wr("error",i),wr("load",i);break;case"details":wr("toggle",i);break;case"input":c2(i,a),wr("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},wr("invalid",i);break;case"textarea":f2(i,a),wr("invalid",i)}O1(n,a),s=null;for(var d in a)if(a.hasOwnProperty(d)){var g=a[d];d==="children"?typeof g=="string"?i.textContent!==g&&(a.suppressHydrationWarning!==!0&&Eh(i.textContent,g,e),s=["children",g]):typeof g=="number"&&i.textContent!==""+g&&(a.suppressHydrationWarning!==!0&&Eh(i.textContent,g,e),s=["children",""+g]):Ec.hasOwnProperty(d)&&g!=null&&d==="onScroll"&&wr("scroll",i)}switch(n){case"input":yh(i),h2(i,a,!0);break;case"textarea":yh(i),d2(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=mf)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{d=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=P5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=d.createElement(n,{is:i.is}):(e=d.createElement(n),n==="select"&&(d=e,i.multiple?d.multiple=!0:i.size&&(d.size=i.size))):e=d.createElementNS(e,n),e[oa]=t,e[Dc]=i,ty(e,t,!1,!1),t.stateNode=e;e:{switch(d=k1(n,i),n){case"dialog":wr("cancel",e),wr("close",e),s=i;break;case"iframe":case"object":case"embed":wr("load",e),s=i;break;case"video":case"audio":for(s=0;s<dc.length;s++)wr(dc[s],e);s=i;break;case"source":wr("error",e),s=i;break;case"img":case"image":case"link":wr("error",e),wr("load",e),s=i;break;case"details":wr("toggle",e),s=i;break;case"input":c2(e,i),s=I1(e,i),wr("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=Br({},i,{value:void 0}),wr("invalid",e);break;case"textarea":f2(e,i),s=P1(e,i),wr("invalid",e);break;default:s=i}O1(n,s),g=s;for(a in g)if(g.hasOwnProperty(a)){var v=g[a];a==="style"?k5(e,v):a==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&M5(e,v)):a==="children"?typeof v=="string"?(n!=="textarea"||v!=="")&&Nc(e,v):typeof v=="number"&&Nc(e,""+v):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ec.hasOwnProperty(a)?v!=null&&a==="onScroll"&&wr("scroll",e):v!=null&&W0(e,a,v,d))}switch(n){case"input":yh(e),h2(e,i,!1);break;case"textarea":yh(e),d2(e);break;case"option":i.value!=null&&e.setAttribute("value",""+ll(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?yu(e,!!i.multiple,a,!1):i.defaultValue!=null&&yu(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=mf)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return to(t),null;case 6:if(e&&t.stateNode!=null)ry(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(ft(166));if(n=El(Fc.current),El(la.current),Nh(t)){if(i=t.stateNode,n=t.memoizedProps,i[oa]=t,(a=i.nodeValue!==n)&&(e=us,e!==null))switch(e.tag){case 3:Eh(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Eh(i.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[oa]=t,t.stateNode=i}return to(t),null;case 13:if(Ar(Rr),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Nr&&as!==null&&t.mode&1&&!(t.flags&128))_v(),Pu(),t.flags|=98560,a=!1;else if(a=Nh(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(ft(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ft(317));a[oa]=t}else Pu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;to(t),a=!1}else Hs!==null&&(p0(Hs),Hs=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Rr.current&1?bi===0&&(bi=3):Sp())),t.updateQueue!==null&&(t.flags|=4),to(t),null);case 4:return Ou(),s0(e,t),e===null&&kc(t.stateNode.containerInfo),to(t),null;case 10:return lp(t.type._context),to(t),null;case 17:return Ro(t.type)&&vf(),to(t),null;case 19:if(Ar(Rr),a=t.memoizedState,a===null)return to(t),null;if(i=(t.flags&128)!==0,d=a.rendering,d===null)if(i)sc(a,!1);else{if(bi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=Cf(e),d!==null){for(t.flags|=128,sc(a,!1),i=d.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)a=n,e=i,a.flags&=14680066,d=a.alternate,d===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,e=d.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return gr(Rr,Rr.current&1|2),t.child}e=e.sibling}a.tail!==null&&ii()>Ru&&(t.flags|=128,i=!0,sc(a,!1),t.lanes=4194304)}else{if(!i)if(e=Cf(d),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),sc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!d.alternate&&!Nr)return to(t),null}else 2*ii()-a.renderingStartTime>Ru&&n!==1073741824&&(t.flags|=128,i=!0,sc(a,!1),t.lanes=4194304);a.isBackwards?(d.sibling=t.child,t.child=d):(n=a.last,n!==null?n.sibling=d:t.child=d,a.last=d)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ii(),t.sibling=null,n=Rr.current,gr(Rr,i?n&1|2:n&1),t):(to(t),null);case 22:case 23:return Cp(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?os&1073741824&&(to(t),t.subtreeFlags&6&&(t.flags|=8192)):to(t),null;case 24:return null;case 25:return null}throw Error(ft(156,t.tag))}function D_(e,t){switch(ip(t),t.tag){case 1:return Ro(t.type)&&vf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ou(),Ar(ko),Ar(ao),dp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fp(t),null;case 13:if(Ar(Rr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ft(340));Pu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ar(Rr),null;case 4:return Ou(),null;case 10:return lp(t.type._context),null;case 22:case 23:return Cp(),null;case 24:return null;default:return null}}var Lh=!1,so=!1,B_=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function pu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Yr(e,t,i)}else n.current=null}function a0(e,t,n){try{n()}catch(i){Yr(e,t,i)}}var ng=!1;function F_(e,t){if(V1=df,e=lv(),np(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var d=0,g=-1,v=-1,m=0,_=0,C=e,P=null;t:for(;;){for(var S;C!==n||s!==0&&C.nodeType!==3||(g=d+s),C!==a||i!==0&&C.nodeType!==3||(v=d+i),C.nodeType===3&&(d+=C.nodeValue.length),(S=C.firstChild)!==null;)P=C,C=S;for(;;){if(C===e)break t;if(P===n&&++m===s&&(g=d),P===a&&++_===i&&(v=d),(S=C.nextSibling)!==null)break;C=P,P=C.parentNode}C=S}n=g===-1||v===-1?null:{start:g,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(q1={focusedElem:e,selectionRange:n},df=!1,Pt=t;Pt!==null;)if(t=Pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pt=e;else for(;Pt!==null;){t=Pt;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var D=j.memoizedProps,q=j.memoizedState,M=t.stateNode,B=M.getSnapshotBeforeUpdate(t.elementType===t.type?D:js(t.type,D),q);M.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var F=t.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ft(163))}}catch(Z){Yr(t,t.return,Z)}if(e=t.sibling,e!==null){e.return=t.return,Pt=e;break}Pt=t.return}return j=ng,ng=!1,j}function xc(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&a0(t,n,a)}s=s.next}while(s!==i)}}function Kf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function l0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function iy(e){var t=e.alternate;t!==null&&(e.alternate=null,iy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[oa],delete t[Dc],delete t[Y1],delete t[x_],delete t[__])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oy(e){return e.tag===5||e.tag===3||e.tag===4}function rg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function u0(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mf));else if(i!==4&&(e=e.child,e!==null))for(u0(e,t,n),e=e.sibling;e!==null;)u0(e,t,n),e=e.sibling}function c0(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(c0(e,t,n),e=e.sibling;e!==null;)c0(e,t,n),e=e.sibling}var zi=null,zs=!1;function Ua(e,t,n){for(n=n.child;n!==null;)sy(e,t,n),n=n.sibling}function sy(e,t,n){if(aa&&typeof aa.onCommitFiberUnmount=="function")try{aa.onCommitFiberUnmount(Hf,n)}catch{}switch(n.tag){case 5:so||pu(n,t);case 6:var i=zi,s=zs;zi=null,Ua(e,t,n),zi=i,zs=s,zi!==null&&(zs?(e=zi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):zi.removeChild(n.stateNode));break;case 18:zi!==null&&(zs?(e=zi,n=n.stateNode,e.nodeType===8?jd(e.parentNode,n):e.nodeType===1&&jd(e,n),Pc(e)):jd(zi,n.stateNode));break;case 4:i=zi,s=zs,zi=n.stateNode.containerInfo,zs=!0,Ua(e,t,n),zi=i,zs=s;break;case 0:case 11:case 14:case 15:if(!so&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var a=s,d=a.destroy;a=a.tag,d!==void 0&&(a&2||a&4)&&a0(n,t,d),s=s.next}while(s!==i)}Ua(e,t,n);break;case 1:if(!so&&(pu(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(g){Yr(n,t,g)}Ua(e,t,n);break;case 21:Ua(e,t,n);break;case 22:n.mode&1?(so=(i=so)||n.memoizedState!==null,Ua(e,t,n),so=i):Ua(e,t,n);break;default:Ua(e,t,n)}}function ig(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new B_),t.forEach(function(i){var s=Z_.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Bs(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var a=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 5:zi=g.stateNode,zs=!1;break e;case 3:zi=g.stateNode.containerInfo,zs=!0;break e;case 4:zi=g.stateNode.containerInfo,zs=!0;break e}g=g.return}if(zi===null)throw Error(ft(160));sy(a,d,s),zi=null,zs=!1;var v=s.alternate;v!==null&&(v.return=null),s.return=null}catch(m){Yr(s,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ay(t,e),t=t.sibling}function ay(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bs(t,e),ea(e),i&4){try{xc(3,e,e.return),Kf(3,e)}catch(D){Yr(e,e.return,D)}try{xc(5,e,e.return)}catch(D){Yr(e,e.return,D)}}break;case 1:Bs(t,e),ea(e),i&512&&n!==null&&pu(n,n.return);break;case 5:if(Bs(t,e),ea(e),i&512&&n!==null&&pu(n,n.return),e.flags&32){var s=e.stateNode;try{Nc(s,"")}catch(D){Yr(e,e.return,D)}}if(i&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,d=n!==null?n.memoizedProps:a,g=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{g==="input"&&a.type==="radio"&&a.name!=null&&T5(s,a),k1(g,d);var m=k1(g,a);for(d=0;d<v.length;d+=2){var _=v[d],C=v[d+1];_==="style"?k5(s,C):_==="dangerouslySetInnerHTML"?M5(s,C):_==="children"?Nc(s,C):W0(s,_,C,m)}switch(g){case"input":T1(s,a);break;case"textarea":L5(s,a);break;case"select":var P=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var S=a.value;S!=null?yu(s,!!a.multiple,S,!1):P!==!!a.multiple&&(a.defaultValue!=null?yu(s,!!a.multiple,a.defaultValue,!0):yu(s,!!a.multiple,a.multiple?[]:"",!1))}s[Dc]=a}catch(D){Yr(e,e.return,D)}}break;case 6:if(Bs(t,e),ea(e),i&4){if(e.stateNode===null)throw Error(ft(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(D){Yr(e,e.return,D)}}break;case 3:if(Bs(t,e),ea(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Pc(t.containerInfo)}catch(D){Yr(e,e.return,D)}break;case 4:Bs(t,e),ea(e);break;case 13:Bs(t,e),ea(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Ap=ii())),i&4&&ig(e);break;case 22:if(_=n!==null&&n.memoizedState!==null,e.mode&1?(so=(m=so)||_,Bs(t,e),so=m):Bs(t,e),ea(e),i&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!_&&e.mode&1)for(Pt=e,_=e.child;_!==null;){for(C=Pt=_;Pt!==null;){switch(P=Pt,S=P.child,P.tag){case 0:case 11:case 14:case 15:xc(4,P,P.return);break;case 1:pu(P,P.return);var j=P.stateNode;if(typeof j.componentWillUnmount=="function"){i=P,n=P.return;try{t=i,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(D){Yr(i,n,D)}}break;case 5:pu(P,P.return);break;case 22:if(P.memoizedState!==null){sg(C);continue}}S!==null?(S.return=P,Pt=S):sg(C)}_=_.sibling}e:for(_=null,C=e;;){if(C.tag===5){if(_===null){_=C;try{s=C.stateNode,m?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(g=C.stateNode,v=C.memoizedProps.style,d=v!=null&&v.hasOwnProperty("display")?v.display:null,g.style.display=O5("display",d))}catch(D){Yr(e,e.return,D)}}}else if(C.tag===6){if(_===null)try{C.stateNode.nodeValue=m?"":C.memoizedProps}catch(D){Yr(e,e.return,D)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;_===C&&(_=null),C=C.return}_===C&&(_=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:Bs(t,e),ea(e),i&4&&ig(e);break;case 21:break;default:Bs(t,e),ea(e)}}function ea(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(oy(n)){var i=n;break e}n=n.return}throw Error(ft(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Nc(s,""),i.flags&=-33);var a=rg(e);c0(e,a,s);break;case 3:case 4:var d=i.stateNode.containerInfo,g=rg(e);u0(e,g,d);break;default:throw Error(ft(161))}}catch(v){Yr(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function j_(e,t,n){Pt=e,ly(e)}function ly(e,t,n){for(var i=(e.mode&1)!==0;Pt!==null;){var s=Pt,a=s.child;if(s.tag===22&&i){var d=s.memoizedState!==null||Lh;if(!d){var g=s.alternate,v=g!==null&&g.memoizedState!==null||so;g=Lh;var m=so;if(Lh=d,(so=v)&&!m)for(Pt=s;Pt!==null;)d=Pt,v=d.child,d.tag===22&&d.memoizedState!==null?ag(s):v!==null?(v.return=d,Pt=v):ag(s);for(;a!==null;)Pt=a,ly(a),a=a.sibling;Pt=s,Lh=g,so=m}og(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Pt=a):og(e)}}function og(e){for(;Pt!==null;){var t=Pt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:so||Kf(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!so)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:js(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&W2(t,a,i);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}W2(t,d,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&n.focus();break;case"img":v.src&&(n.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var _=m.memoizedState;if(_!==null){var C=_.dehydrated;C!==null&&Pc(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ft(163))}so||t.flags&512&&l0(t)}catch(P){Yr(t,t.return,P)}}if(t===e){Pt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Pt=n;break}Pt=t.return}}function sg(e){for(;Pt!==null;){var t=Pt;if(t===e){Pt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Pt=n;break}Pt=t.return}}function ag(e){for(;Pt!==null;){var t=Pt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kf(4,t)}catch(v){Yr(t,n,v)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(v){Yr(t,s,v)}}var a=t.return;try{l0(t)}catch(v){Yr(t,a,v)}break;case 5:var d=t.return;try{l0(t)}catch(v){Yr(t,d,v)}}}catch(v){Yr(t,t.return,v)}if(t===e){Pt=null;break}var g=t.sibling;if(g!==null){g.return=t.return,Pt=g;break}Pt=t.return}}var z_=Math.ceil,Nf=Pa.ReactCurrentDispatcher,xp=Pa.ReactCurrentOwner,As=Pa.ReactCurrentBatchConfig,Wn=0,Ti=null,di=null,Ui=0,os=0,gu=dl(0),bi=0,Hc=null,kl=0,Qf=0,_p=0,_c=null,Mo=null,Ap=0,Ru=1/0,ya=null,If=!1,h0=null,il=null,Ph=!1,Ka=null,Tf=0,Ac=0,f0=null,Jh=-1,$h=0;function xo(){return Wn&6?ii():Jh!==-1?Jh:Jh=ii()}function ol(e){return e.mode&1?Wn&2&&Ui!==0?Ui&-Ui:b_.transition!==null?($h===0&&($h=G5()),$h):(e=or,e!==0||(e=window.event,e=e===void 0?16:$5(e.type)),e):1}function Vs(e,t,n,i){if(50<Ac)throw Ac=0,f0=null,Error(ft(185));Yc(e,n,i),(!(Wn&2)||e!==Ti)&&(e===Ti&&(!(Wn&2)&&(Qf|=n),bi===4&&Ya(e,Ui)),Do(e,i),n===1&&Wn===0&&!(t.mode&1)&&(Ru=ii()+500,Zf&&pl()))}function Do(e,t){var n=e.callbackNode;b3(e,t);var i=ff(e,e===Ti?Ui:0);if(i===0)n!==null&&m2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&m2(n),t===1)e.tag===0?A_(lg.bind(null,e)):yv(lg.bind(null,e)),y_(function(){!(Wn&6)&&pl()}),n=null;else{switch(Z5(i)){case 1:n=Y0;break;case 4:n=V5;break;case 16:n=hf;break;case 536870912:n=q5;break;default:n=hf}n=my(n,uy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uy(e,t){if(Jh=-1,$h=0,Wn&6)throw Error(ft(327));var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var i=ff(e,e===Ti?Ui:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Lf(e,i);else{t=i;var s=Wn;Wn|=2;var a=hy();(Ti!==e||Ui!==t)&&(ya=null,Ru=ii()+500,Nl(e,t));do try{W_();break}catch(g){cy(e,g)}while(!0);ap(),Nf.current=a,Wn=s,di!==null?t=0:(Ti=null,Ui=0,t=bi)}if(t!==0){if(t===2&&(s=j1(e),s!==0&&(i=s,t=d0(e,s))),t===1)throw n=Hc,Nl(e,0),Ya(e,i),Do(e,ii()),n;if(t===6)Ya(e,i);else{if(s=e.current.alternate,!(i&30)&&!U_(s)&&(t=Lf(e,i),t===2&&(a=j1(e),a!==0&&(i=a,t=d0(e,a))),t===1))throw n=Hc,Nl(e,0),Ya(e,i),Do(e,ii()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(ft(345));case 2:_l(e,Mo,ya);break;case 3:if(Ya(e,i),(i&130023424)===i&&(t=Ap+500-ii(),10<t)){if(ff(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){xo(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Z1(_l.bind(null,e,Mo,ya),t);break}_l(e,Mo,ya);break;case 4:if(Ya(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var d=31-Ws(i);a=1<<d,d=t[d],d>s&&(s=d),i&=~a}if(i=s,i=ii()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*z_(i/1960))-i,10<i){e.timeoutHandle=Z1(_l.bind(null,e,Mo,ya),i);break}_l(e,Mo,ya);break;case 5:_l(e,Mo,ya);break;default:throw Error(ft(329))}}}return Do(e,ii()),e.callbackNode===n?uy.bind(null,e):null}function d0(e,t){var n=_c;return e.current.memoizedState.isDehydrated&&(Nl(e,t).flags|=256),e=Lf(e,t),e!==2&&(t=Mo,Mo=n,t!==null&&p0(t)),e}function p0(e){Mo===null?Mo=e:Mo.push.apply(Mo,e)}function U_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!qs(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ya(e,t){for(t&=~_p,t&=~Qf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ws(t),i=1<<n;e[n]=-1,t&=~i}}function lg(e){if(Wn&6)throw Error(ft(327));bu();var t=ff(e,0);if(!(t&1))return Do(e,ii()),null;var n=Lf(e,t);if(e.tag!==0&&n===2){var i=j1(e);i!==0&&(t=i,n=d0(e,i))}if(n===1)throw n=Hc,Nl(e,0),Ya(e,t),Do(e,ii()),n;if(n===6)throw Error(ft(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Mo,ya),Do(e,ii()),null}function bp(e,t){var n=Wn;Wn|=1;try{return e(t)}finally{Wn=n,Wn===0&&(Ru=ii()+500,Zf&&pl())}}function Rl(e){Ka!==null&&Ka.tag===0&&!(Wn&6)&&bu();var t=Wn;Wn|=1;var n=As.transition,i=or;try{if(As.transition=null,or=1,e)return e()}finally{or=i,As.transition=n,Wn=t,!(Wn&6)&&pl()}}function Cp(){os=gu.current,Ar(gu)}function Nl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,v_(n)),di!==null)for(n=di.return;n!==null;){var i=n;switch(ip(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&vf();break;case 3:Ou(),Ar(ko),Ar(ao),dp();break;case 5:fp(i);break;case 4:Ou();break;case 13:Ar(Rr);break;case 19:Ar(Rr);break;case 10:lp(i.type._context);break;case 22:case 23:Cp()}n=n.return}if(Ti=e,di=e=sl(e.current,null),Ui=os=t,bi=0,Hc=null,_p=Qf=kl=0,Mo=_c=null,Sl!==null){for(t=0;t<Sl.length;t++)if(n=Sl[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,a=n.pending;if(a!==null){var d=a.next;a.next=s,i.next=d}n.pending=i}Sl=null}return e}function cy(e,t){do{var n=di;try{if(ap(),Xh.current=Ef,Sf){for(var i=Dr.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Sf=!1}if(Ol=0,Ni=Ai=Dr=null,wc=!1,jc=0,xp.current=null,n===null||n.return===null){bi=1,Hc=t,di=null;break}e:{var a=e,d=n.return,g=n,v=t;if(t=Ui,g.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var m=v,_=g,C=_.tag;if(!(_.mode&1)&&(C===0||C===11||C===15)){var P=_.alternate;P?(_.updateQueue=P.updateQueue,_.memoizedState=P.memoizedState,_.lanes=P.lanes):(_.updateQueue=null,_.memoizedState=null)}var S=X2(d);if(S!==null){S.flags&=-257,K2(S,d,g,a,t),S.mode&1&&Y2(a,m,t),t=S,v=m;var j=t.updateQueue;if(j===null){var D=new Set;D.add(v),t.updateQueue=D}else j.add(v);break e}else{if(!(t&1)){Y2(a,m,t),Sp();break e}v=Error(ft(426))}}else if(Nr&&g.mode&1){var q=X2(d);if(q!==null){!(q.flags&65536)&&(q.flags|=256),K2(q,d,g,a,t),op(ku(v,g));break e}}a=v=ku(v,g),bi!==4&&(bi=2),_c===null?_c=[a]:_c.push(a),a=d;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var M=Zv(a,v,t);H2(a,M);break e;case 1:g=v;var B=a.type,F=a.stateNode;if(!(a.flags&128)&&(typeof B.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(il===null||!il.has(F)))){a.flags|=65536,t&=-t,a.lanes|=t;var Z=Yv(a,g,t);H2(a,Z);break e}}a=a.return}while(a!==null)}dy(n)}catch(ye){t=ye,di===n&&n!==null&&(di=n=n.return);continue}break}while(!0)}function hy(){var e=Nf.current;return Nf.current=Ef,e===null?Ef:e}function Sp(){(bi===0||bi===3||bi===2)&&(bi=4),Ti===null||!(kl&268435455)&&!(Qf&268435455)||Ya(Ti,Ui)}function Lf(e,t){var n=Wn;Wn|=2;var i=hy();(Ti!==e||Ui!==t)&&(ya=null,Nl(e,t));do try{H_();break}catch(s){cy(e,s)}while(!0);if(ap(),Wn=n,Nf.current=i,di!==null)throw Error(ft(261));return Ti=null,Ui=0,bi}function H_(){for(;di!==null;)fy(di)}function W_(){for(;di!==null&&!p3();)fy(di)}function fy(e){var t=gy(e.alternate,e,os);e.memoizedProps=e.pendingProps,t===null?dy(e):di=t,xp.current=null}function dy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=D_(n,t),n!==null){n.flags&=32767,di=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bi=6,di=null;return}}else if(n=R_(n,t,os),n!==null){di=n;return}if(t=t.sibling,t!==null){di=t;return}di=t=e}while(t!==null);bi===0&&(bi=5)}function _l(e,t,n){var i=or,s=As.transition;try{As.transition=null,or=1,V_(e,t,n,i)}finally{As.transition=s,or=i}return null}function V_(e,t,n,i){do bu();while(Ka!==null);if(Wn&6)throw Error(ft(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ft(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(C3(e,a),e===Ti&&(di=Ti=null,Ui=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ph||(Ph=!0,my(hf,function(){return bu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=As.transition,As.transition=null;var d=or;or=1;var g=Wn;Wn|=4,xp.current=null,F_(e,n),ay(n,e),c_(q1),df=!!V1,q1=V1=null,e.current=n,j_(n),g3(),Wn=g,or=d,As.transition=a}else e.current=n;if(Ph&&(Ph=!1,Ka=e,Tf=s),a=e.pendingLanes,a===0&&(il=null),y3(n.stateNode),Do(e,ii()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(If)throw If=!1,e=h0,h0=null,e;return Tf&1&&e.tag!==0&&bu(),a=e.pendingLanes,a&1?e===f0?Ac++:(Ac=0,f0=e):Ac=0,pl(),null}function bu(){if(Ka!==null){var e=Z5(Tf),t=As.transition,n=or;try{if(As.transition=null,or=16>e?16:e,Ka===null)var i=!1;else{if(e=Ka,Ka=null,Tf=0,Wn&6)throw Error(ft(331));var s=Wn;for(Wn|=4,Pt=e.current;Pt!==null;){var a=Pt,d=a.child;if(Pt.flags&16){var g=a.deletions;if(g!==null){for(var v=0;v<g.length;v++){var m=g[v];for(Pt=m;Pt!==null;){var _=Pt;switch(_.tag){case 0:case 11:case 15:xc(8,_,a)}var C=_.child;if(C!==null)C.return=_,Pt=C;else for(;Pt!==null;){_=Pt;var P=_.sibling,S=_.return;if(iy(_),_===m){Pt=null;break}if(P!==null){P.return=S,Pt=P;break}Pt=S}}}var j=a.alternate;if(j!==null){var D=j.child;if(D!==null){j.child=null;do{var q=D.sibling;D.sibling=null,D=q}while(D!==null)}}Pt=a}}if(a.subtreeFlags&2064&&d!==null)d.return=a,Pt=d;else e:for(;Pt!==null;){if(a=Pt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:xc(9,a,a.return)}var M=a.sibling;if(M!==null){M.return=a.return,Pt=M;break e}Pt=a.return}}var B=e.current;for(Pt=B;Pt!==null;){d=Pt;var F=d.child;if(d.subtreeFlags&2064&&F!==null)F.return=d,Pt=F;else e:for(d=B;Pt!==null;){if(g=Pt,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Kf(9,g)}}catch(ye){Yr(g,g.return,ye)}if(g===d){Pt=null;break e}var Z=g.sibling;if(Z!==null){Z.return=g.return,Pt=Z;break e}Pt=g.return}}if(Wn=s,pl(),aa&&typeof aa.onPostCommitFiberRoot=="function")try{aa.onPostCommitFiberRoot(Hf,e)}catch{}i=!0}return i}finally{or=n,As.transition=t}}return!1}function ug(e,t,n){t=ku(n,t),t=Zv(e,t,1),e=rl(e,t,1),t=xo(),e!==null&&(Yc(e,1,t),Do(e,t))}function Yr(e,t,n){if(e.tag===3)ug(e,e,n);else for(;t!==null;){if(t.tag===3){ug(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(il===null||!il.has(i))){e=ku(n,e),e=Yv(t,e,1),t=rl(t,e,1),e=xo(),t!==null&&(Yc(t,1,e),Do(t,e));break}}t=t.return}}function q_(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=xo(),e.pingedLanes|=e.suspendedLanes&n,Ti===e&&(Ui&n)===n&&(bi===4||bi===3&&(Ui&130023424)===Ui&&500>ii()-Ap?Nl(e,0):_p|=n),Do(e,t)}function py(e,t){t===0&&(e.mode&1?(t=_h,_h<<=1,!(_h&130023424)&&(_h=4194304)):t=1);var n=xo();e=Ia(e,t),e!==null&&(Yc(e,t,n),Do(e,n))}function G_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),py(e,n)}function Z_(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(ft(314))}i!==null&&i.delete(t),py(e,n)}var gy;gy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ko.current)Oo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Oo=!1,k_(e,t,n);Oo=!!(e.flags&131072)}else Oo=!1,Nr&&t.flags&1048576&&wv(t,xf,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Qh(e,t),e=t.pendingProps;var s=Lu(t,ao.current);Au(t,n),s=gp(null,t,i,e,s,n);var a=mp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ro(i)?(a=!0,yf(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cp(t),s.updater=Xf,t.stateNode=s,s._reactInternals=t,e0(t,i,e,n),t=r0(null,t,i,!0,a,n)):(t.tag=0,Nr&&a&&rp(t),wo(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Qh(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=X_(i),e=js(i,e),s){case 0:t=n0(null,t,i,e,n);break e;case 1:t=$2(null,t,i,e,n);break e;case 11:t=Q2(null,t,i,e,n);break e;case 14:t=J2(null,t,i,js(i.type,e),n);break e}throw Error(ft(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:js(i,s),n0(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:js(i,s),$2(e,t,i,s,n);case 3:e:{if(Jv(t),e===null)throw Error(ft(387));i=t.pendingProps,a=t.memoizedState,s=a.element,Sv(e,t),bf(t,i,null,n);var d=t.memoizedState;if(i=d.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ku(Error(ft(423)),t),t=eg(e,t,i,n,s);break e}else if(i!==s){s=ku(Error(ft(424)),t),t=eg(e,t,i,n,s);break e}else for(as=nl(t.stateNode.containerInfo.firstChild),us=t,Nr=!0,Hs=null,n=bv(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pu(),i===s){t=Ta(e,t,n);break e}wo(e,t,i,n)}t=t.child}return t;case 5:return Ev(t),e===null&&Q1(t),i=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,d=s.children,G1(i,s)?d=null:a!==null&&G1(i,a)&&(t.flags|=32),Qv(e,t),wo(e,t,d,n),t.child;case 6:return e===null&&Q1(t),null;case 13:return $v(e,t,n);case 4:return hp(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Mu(t,null,i,n):wo(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:js(i,s),Q2(e,t,i,s,n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:return wo(e,t,t.pendingProps.children,n),t.child;case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,a=t.memoizedProps,d=s.value,gr(_f,i._currentValue),i._currentValue=d,a!==null)if(qs(a.value,d)){if(a.children===s.children&&!ko.current){t=Ta(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var g=a.dependencies;if(g!==null){d=a.child;for(var v=g.firstContext;v!==null;){if(v.context===i){if(a.tag===1){v=Sa(-1,n&-n),v.tag=2;var m=a.updateQueue;if(m!==null){m=m.shared;var _=m.pending;_===null?v.next=v:(v.next=_.next,_.next=v),m.pending=v}}a.lanes|=n,v=a.alternate,v!==null&&(v.lanes|=n),J1(a.return,n,t),g.lanes|=n;break}v=v.next}}else if(a.tag===10)d=a.type===t.type?null:a.child;else if(a.tag===18){if(d=a.return,d===null)throw Error(ft(341));d.lanes|=n,g=d.alternate,g!==null&&(g.lanes|=n),J1(d,n,t),d=a.sibling}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===t){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}wo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Au(t,n),s=bs(s),i=i(s),t.flags|=1,wo(e,t,i,n),t.child;case 14:return i=t.type,s=js(i,t.pendingProps),s=js(i.type,s),J2(e,t,i,s,n);case 15:return Xv(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:js(i,s),Qh(e,t),t.tag=1,Ro(i)?(e=!0,yf(t)):e=!1,Au(t,n),Gv(t,i,s),e0(t,i,s,n),r0(null,t,i,!0,e,n);case 19:return ey(e,t,n);case 22:return Kv(e,t,n)}throw Error(ft(156,t.tag))};function my(e,t){return W5(e,t)}function Y_(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(e,t,n,i){return new Y_(e,t,n,i)}function Ep(e){return e=e.prototype,!(!e||!e.isReactComponent)}function X_(e){if(typeof e=="function")return Ep(e)?1:0;if(e!=null){if(e=e.$$typeof,e===q0)return 11;if(e===G0)return 14}return 2}function sl(e,t){var n=e.alternate;return n===null?(n=_s(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ef(e,t,n,i,s,a){var d=2;if(i=e,typeof e=="function")Ep(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ou:return Il(n.children,s,a,t);case V0:d=8,s|=8;break;case C1:return e=_s(12,n,t,s|2),e.elementType=C1,e.lanes=a,e;case S1:return e=_s(13,n,t,s),e.elementType=S1,e.lanes=a,e;case E1:return e=_s(19,n,t,s),e.elementType=E1,e.lanes=a,e;case E5:return Jf(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C5:d=10;break e;case S5:d=9;break e;case q0:d=11;break e;case G0:d=14;break e;case qa:d=16,i=null;break e}throw Error(ft(130,e==null?e:typeof e,""))}return t=_s(d,n,t,s),t.elementType=e,t.type=i,t.lanes=a,t}function Il(e,t,n,i){return e=_s(7,e,i,t),e.lanes=n,e}function Jf(e,t,n,i){return e=_s(22,e,i,t),e.elementType=E5,e.lanes=n,e.stateNode={isHidden:!1},e}function Zd(e,t,n){return e=_s(6,e,null,t),e.lanes=n,e}function Yd(e,t,n){return t=_s(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function K_(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Id(0),this.expirationTimes=Id(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Id(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Np(e,t,n,i,s,a,d,g,v){return e=new K_(e,t,n,g,v),t===1?(t=1,a===!0&&(t|=8)):t=0,a=_s(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cp(a),e}function Q_(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:iu,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function vy(e){if(!e)return ul;e=e._reactInternals;e:{if(jl(e)!==e||e.tag!==1)throw Error(ft(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ft(171))}if(e.tag===1){var n=e.type;if(Ro(n))return vv(e,n,t)}return t}function yy(e,t,n,i,s,a,d,g,v){return e=Np(n,i,!0,e,s,a,d,g,v),e.context=vy(null),n=e.current,i=xo(),s=ol(n),a=Sa(i,s),a.callback=t??null,rl(n,a,s),e.current.lanes=s,Yc(e,s,i),Do(e,i),e}function $f(e,t,n,i){var s=t.current,a=xo(),d=ol(s);return n=vy(n),t.context===null?t.context=n:t.pendingContext=n,t=Sa(a,d),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=rl(s,t,d),e!==null&&(Vs(e,s,d,a),Yh(e,s,d)),d}function Pf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ip(e,t){cg(e,t),(e=e.alternate)&&cg(e,t)}function J_(){return null}var wy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tp(e){this._internalRoot=e}ed.prototype.render=Tp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ft(409));$f(e,t,null,null)};ed.prototype.unmount=Tp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rl(function(){$f(null,e,null,null)}),t[Na]=null}};function ed(e){this._internalRoot=e}ed.prototype.unstable_scheduleHydration=function(e){if(e){var t=K5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Za.length&&t!==0&&t<Za[n].priority;n++);Za.splice(n,0,e),n===0&&J5(e)}};function Lp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function td(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hg(){}function $_(e,t,n,i,s){if(s){if(typeof i=="function"){var a=i;i=function(){var m=Pf(d);a.call(m)}}var d=yy(t,i,e,0,null,!1,!1,"",hg);return e._reactRootContainer=d,e[Na]=d.current,kc(e.nodeType===8?e.parentNode:e),Rl(),d}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var g=i;i=function(){var m=Pf(v);g.call(m)}}var v=Np(e,0,!1,null,null,!1,!1,"",hg);return e._reactRootContainer=v,e[Na]=v.current,kc(e.nodeType===8?e.parentNode:e),Rl(function(){$f(t,v,n,i)}),v}function nd(e,t,n,i,s){var a=n._reactRootContainer;if(a){var d=a;if(typeof s=="function"){var g=s;s=function(){var v=Pf(d);g.call(v)}}$f(t,d,e,s)}else d=$_(n,t,e,s,i);return Pf(d)}Y5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fc(t.pendingLanes);n!==0&&(X0(t,n|1),Do(t,ii()),!(Wn&6)&&(Ru=ii()+500,pl()))}break;case 13:Rl(function(){var i=Ia(e,1);if(i!==null){var s=xo();Vs(i,e,1,s)}}),Ip(e,1)}};K0=function(e){if(e.tag===13){var t=Ia(e,134217728);if(t!==null){var n=xo();Vs(t,e,134217728,n)}Ip(e,134217728)}};X5=function(e){if(e.tag===13){var t=ol(e),n=Ia(e,t);if(n!==null){var i=xo();Vs(n,e,t,i)}Ip(e,t)}};K5=function(){return or};Q5=function(e,t){var n=or;try{return or=e,t()}finally{or=n}};D1=function(e,t,n){switch(t){case"input":if(T1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=Gf(i);if(!s)throw Error(ft(90));I5(i),T1(i,s)}}}break;case"textarea":L5(e,n);break;case"select":t=n.value,t!=null&&yu(e,!!n.multiple,t,!1)}};B5=bp;F5=Rl;var e4={usingClientEntryPoint:!1,Events:[Kc,uu,Gf,R5,D5,bp]},ac={findFiberByHostInstance:Cl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t4={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=U5(e),e===null?null:e.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||J_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{Hf=Mh.inject(t4),aa=Mh}catch{}}hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e4;hs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lp(t))throw Error(ft(200));return Q_(e,t,null,n)};hs.createRoot=function(e,t){if(!Lp(e))throw Error(ft(299));var n=!1,i="",s=wy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Np(e,1,!1,null,null,n,!1,i,s),e[Na]=t.current,kc(e.nodeType===8?e.parentNode:e),new Tp(t)};hs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ft(188)):(e=Object.keys(e).join(","),Error(ft(268,e)));return e=U5(t),e=e===null?null:e.stateNode,e};hs.flushSync=function(e){return Rl(e)};hs.hydrate=function(e,t,n){if(!td(t))throw Error(ft(200));return nd(null,e,t,!0,n)};hs.hydrateRoot=function(e,t,n){if(!Lp(e))throw Error(ft(405));var i=n!=null&&n.hydratedSources||null,s=!1,a="",d=wy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=yy(t,null,e,1,n??null,s,!1,a,d),e[Na]=t.current,kc(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ed(t)};hs.render=function(e,t,n){if(!td(t))throw Error(ft(200));return nd(null,e,t,!1,n)};hs.unmountComponentAtNode=function(e){if(!td(e))throw Error(ft(40));return e._reactRootContainer?(Rl(function(){nd(null,null,e,!1,function(){e._reactRootContainer=null,e[Na]=null})}),!0):!1};hs.unstable_batchedUpdates=bp;hs.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!td(n))throw Error(ft(200));if(e==null||e._reactInternals===void 0)throw Error(ft(38));return nd(e,t,n,!1,i)};hs.version="18.3.1-next-f1338f8080-20240426";function xy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xy)}catch(e){console.error(e)}}xy(),x5.exports=hs;var _y=x5.exports,fg=_y;A1.createRoot=fg.createRoot,A1.hydrateRoot=fg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wc.apply(this,arguments)}var Qa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qa||(Qa={}));const dg="popstate";function n4(e){e===void 0&&(e={});function t(i,s){let{pathname:a,search:d,hash:g}=i.location;return g0("",{pathname:a,search:d,hash:g},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Mf(s)}return i4(t,n,null,e)}function li(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ay(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function r4(){return Math.random().toString(36).substr(2,8)}function pg(e,t){return{usr:e.state,key:e.key,idx:t}}function g0(e,t,n,i){return n===void 0&&(n=null),Wc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ju(t):t,{state:n,key:t&&t.key||i||r4()})}function Mf(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function ju(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function i4(e,t,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,d=s.history,g=Qa.Pop,v=null,m=_();m==null&&(m=0,d.replaceState(Wc({},d.state,{idx:m}),""));function _(){return(d.state||{idx:null}).idx}function C(){g=Qa.Pop;let q=_(),M=q==null?null:q-m;m=q,v&&v({action:g,location:D.location,delta:M})}function P(q,M){g=Qa.Push;let B=g0(D.location,q,M);m=_()+1;let F=pg(B,m),Z=D.createHref(B);try{d.pushState(F,"",Z)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;s.location.assign(Z)}a&&v&&v({action:g,location:D.location,delta:1})}function S(q,M){g=Qa.Replace;let B=g0(D.location,q,M);m=_();let F=pg(B,m),Z=D.createHref(B);d.replaceState(F,"",Z),a&&v&&v({action:g,location:D.location,delta:0})}function j(q){let M=s.location.origin!=="null"?s.location.origin:s.location.href,B=typeof q=="string"?q:Mf(q);return B=B.replace(/ $/,"%20"),li(M,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,M)}let D={get action(){return g},get location(){return e(s,d)},listen(q){if(v)throw new Error("A history only accepts one active listener");return s.addEventListener(dg,C),v=q,()=>{s.removeEventListener(dg,C),v=null}},createHref(q){return t(s,q)},createURL:j,encodeLocation(q){let M=j(q);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:P,replace:S,go(q){return d.go(q)}};return D}var gg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gg||(gg={}));function o4(e,t,n){return n===void 0&&(n="/"),s4(e,t,n)}function s4(e,t,n,i){let s=typeof t=="string"?ju(t):t,a=Pp(s.pathname||"/",n);if(a==null)return null;let d=by(e);a4(d);let g=null;for(let v=0;g==null&&v<d.length;++v){let m=w4(a);g=m4(d[v],m)}return g}function by(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(a,d,g)=>{let v={relativePath:g===void 0?a.path||"":g,caseSensitive:a.caseSensitive===!0,childrenIndex:d,route:a};v.relativePath.startsWith("/")&&(li(v.relativePath.startsWith(i),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(i.length));let m=al([i,v.relativePath]),_=n.concat(v);a.children&&a.children.length>0&&(li(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),by(a.children,t,_,m)),!(a.path==null&&!a.index)&&t.push({path:m,score:p4(m,a.index),routesMeta:_})};return e.forEach((a,d)=>{var g;if(a.path===""||!((g=a.path)!=null&&g.includes("?")))s(a,d);else for(let v of Cy(a.path))s(a,d,v)}),t}function Cy(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let d=Cy(i.join("/")),g=[];return g.push(...d.map(v=>v===""?a:[a,v].join("/"))),s&&g.push(...d),g.map(v=>e.startsWith("/")&&v===""?"/":v)}function a4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:g4(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const l4=/^:[\w-]+$/,u4=3,c4=2,h4=1,f4=10,d4=-2,mg=e=>e==="*";function p4(e,t){let n=e.split("/"),i=n.length;return n.some(mg)&&(i+=d4),t&&(i+=c4),n.filter(s=>!mg(s)).reduce((s,a)=>s+(l4.test(a)?u4:a===""?h4:f4),i)}function g4(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function m4(e,t,n){let{routesMeta:i}=e,s={},a="/",d=[];for(let g=0;g<i.length;++g){let v=i[g],m=g===i.length-1,_=a==="/"?t:t.slice(a.length)||"/",C=v4({path:v.relativePath,caseSensitive:v.caseSensitive,end:m},_),P=v.route;if(!C)return null;Object.assign(s,C.params),d.push({params:s,pathname:al([a,C.pathname]),pathnameBase:b4(al([a,C.pathnameBase])),route:P}),C.pathnameBase!=="/"&&(a=al([a,C.pathnameBase]))}return d}function v4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=y4(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],d=a.replace(/(.)\/+$/,"$1"),g=s.slice(1);return{params:i.reduce((m,_,C)=>{let{paramName:P,isOptional:S}=_;if(P==="*"){let D=g[C]||"";d=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const j=g[C];return S&&!j?m[P]=void 0:m[P]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:d,pattern:e}}function y4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ay(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,v)=>(i.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function w4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ay(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Pp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function x4(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?ju(e):e;return{pathname:n?n.startsWith("/")?n:_4(n,t):t,search:C4(i),hash:S4(s)}}function _4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Xd(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Mp(e,t){let n=A4(e);return t?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Op(e,t,n,i){i===void 0&&(i=!1);let s;typeof e=="string"?s=ju(e):(s=Wc({},e),li(!s.pathname||!s.pathname.includes("?"),Xd("?","pathname","search",s)),li(!s.pathname||!s.pathname.includes("#"),Xd("#","pathname","hash",s)),li(!s.search||!s.search.includes("#"),Xd("#","search","hash",s)));let a=e===""||s.pathname==="",d=a?"/":s.pathname,g;if(d==null)g=n;else{let C=t.length-1;if(!i&&d.startsWith("..")){let P=d.split("/");for(;P[0]==="..";)P.shift(),C-=1;s.pathname=P.join("/")}g=C>=0?t[C]:"/"}let v=x4(s,g),m=d&&d!=="/"&&d.endsWith("/"),_=(a||d===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(m||_)&&(v.pathname+="/"),v}const al=e=>e.join("/").replace(/\/\/+/g,"/"),b4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),C4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,S4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function E4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Sy=["post","put","patch","delete"];new Set(Sy);const N4=["get",...Sy];new Set(N4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vc.apply(this,arguments)}const kp=nt.createContext(null),I4=nt.createContext(null),gl=nt.createContext(null),rd=nt.createContext(null),Ma=nt.createContext({outlet:null,matches:[],isDataRoute:!1}),Ey=nt.createContext(null);function T4(e,t){let{relative:n}=t===void 0?{}:t;zu()||li(!1);let{basename:i,navigator:s}=nt.useContext(gl),{hash:a,pathname:d,search:g}=Iy(e,{relative:n}),v=d;return i!=="/"&&(v=d==="/"?i:al([i,d])),s.createHref({pathname:v,search:g,hash:a})}function zu(){return nt.useContext(rd)!=null}function zl(){return zu()||li(!1),nt.useContext(rd).location}function Ny(e){nt.useContext(gl).static||nt.useLayoutEffect(e)}function Jc(){let{isDataRoute:e}=nt.useContext(Ma);return e?V4():L4()}function L4(){zu()||li(!1);let e=nt.useContext(kp),{basename:t,future:n,navigator:i}=nt.useContext(gl),{matches:s}=nt.useContext(Ma),{pathname:a}=zl(),d=JSON.stringify(Mp(s,n.v7_relativeSplatPath)),g=nt.useRef(!1);return Ny(()=>{g.current=!0}),nt.useCallback(function(m,_){if(_===void 0&&(_={}),!g.current)return;if(typeof m=="number"){i.go(m);return}let C=Op(m,JSON.parse(d),a,_.relative==="path");e==null&&t!=="/"&&(C.pathname=C.pathname==="/"?t:al([t,C.pathname])),(_.replace?i.replace:i.push)(C,_.state,_)},[t,i,d,a,e])}const P4=nt.createContext(null);function M4(e){let t=nt.useContext(Ma).outlet;return t&&nt.createElement(P4.Provider,{value:e},t)}function Iy(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=nt.useContext(gl),{matches:s}=nt.useContext(Ma),{pathname:a}=zl(),d=JSON.stringify(Mp(s,i.v7_relativeSplatPath));return nt.useMemo(()=>Op(e,JSON.parse(d),a,n==="path"),[e,d,a,n])}function O4(e,t){return k4(e,t)}function k4(e,t,n,i){zu()||li(!1);let{navigator:s}=nt.useContext(gl),{matches:a}=nt.useContext(Ma),d=a[a.length-1],g=d?d.params:{};d&&d.pathname;let v=d?d.pathnameBase:"/";d&&d.route;let m=zl(),_;if(t){var C;let q=typeof t=="string"?ju(t):t;v==="/"||(C=q.pathname)!=null&&C.startsWith(v)||li(!1),_=q}else _=m;let P=_.pathname||"/",S=P;if(v!=="/"){let q=v.replace(/^\//,"").split("/");S="/"+P.replace(/^\//,"").split("/").slice(q.length).join("/")}let j=o4(e,{pathname:S}),D=j4(j&&j.map(q=>Object.assign({},q,{params:Object.assign({},g,q.params),pathname:al([v,s.encodeLocation?s.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:al([v,s.encodeLocation?s.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),a,n,i);return t&&D?nt.createElement(rd.Provider,{value:{location:Vc({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Qa.Pop}},D):D}function R4(){let e=W4(),t=E4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return nt.createElement(nt.Fragment,null,nt.createElement("h2",null,"Unexpected Application Error!"),nt.createElement("h3",{style:{fontStyle:"italic"}},t),n?nt.createElement("pre",{style:s},n):null,null)}const D4=nt.createElement(R4,null);class B4 extends nt.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?nt.createElement(Ma.Provider,{value:this.props.routeContext},nt.createElement(Ey.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F4(e){let{routeContext:t,match:n,children:i}=e,s=nt.useContext(kp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),nt.createElement(Ma.Provider,{value:t},i)}function j4(e,t,n,i){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let d=e,g=(s=n)==null?void 0:s.errors;if(g!=null){let _=d.findIndex(C=>C.route.id&&(g==null?void 0:g[C.route.id])!==void 0);_>=0||li(!1),d=d.slice(0,Math.min(d.length,_+1))}let v=!1,m=-1;if(n&&i&&i.v7_partialHydration)for(let _=0;_<d.length;_++){let C=d[_];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(m=_),C.route.id){let{loaderData:P,errors:S}=n,j=C.route.loader&&P[C.route.id]===void 0&&(!S||S[C.route.id]===void 0);if(C.route.lazy||j){v=!0,m>=0?d=d.slice(0,m+1):d=[d[0]];break}}}return d.reduceRight((_,C,P)=>{let S,j=!1,D=null,q=null;n&&(S=g&&C.route.id?g[C.route.id]:void 0,D=C.route.errorElement||D4,v&&(m<0&&P===0?(q4("route-fallback"),j=!0,q=null):m===P&&(j=!0,q=C.route.hydrateFallbackElement||null)));let M=t.concat(d.slice(0,P+1)),B=()=>{let F;return S?F=D:j?F=q:C.route.Component?F=nt.createElement(C.route.Component,null):C.route.element?F=C.route.element:F=_,nt.createElement(F4,{match:C,routeContext:{outlet:_,matches:M,isDataRoute:n!=null},children:F})};return n&&(C.route.ErrorBoundary||C.route.errorElement||P===0)?nt.createElement(B4,{location:n.location,revalidation:n.revalidation,component:D,error:S,children:B(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):B()},null)}var Ty=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ty||{}),Ly=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ly||{});function z4(e){let t=nt.useContext(kp);return t||li(!1),t}function U4(e){let t=nt.useContext(I4);return t||li(!1),t}function H4(e){let t=nt.useContext(Ma);return t||li(!1),t}function Py(e){let t=H4(),n=t.matches[t.matches.length-1];return n.route.id||li(!1),n.route.id}function W4(){var e;let t=nt.useContext(Ey),n=U4(),i=Py();return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function V4(){let{router:e}=z4(Ty.UseNavigateStable),t=Py(Ly.UseNavigateStable),n=nt.useRef(!1);return Ny(()=>{n.current=!0}),nt.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Vc({fromRouteId:t},a)))},[e,t])}const vg={};function q4(e,t,n){vg[e]||(vg[e]=!0)}function G4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function yg(e){let{to:t,replace:n,state:i,relative:s}=e;zu()||li(!1);let{future:a,static:d}=nt.useContext(gl),{matches:g}=nt.useContext(Ma),{pathname:v}=zl(),m=Jc(),_=Op(t,Mp(g,a.v7_relativeSplatPath),v,s==="path"),C=JSON.stringify(_);return nt.useEffect(()=>m(JSON.parse(C),{replace:n,state:i,relative:s}),[m,C,s,n,i]),null}function Z4(e){return M4(e.context)}function va(e){li(!1)}function Y4(e){let{basename:t="/",children:n=null,location:i,navigationType:s=Qa.Pop,navigator:a,static:d=!1,future:g}=e;zu()&&li(!1);let v=t.replace(/^\/*/,"/"),m=nt.useMemo(()=>({basename:v,navigator:a,static:d,future:Vc({v7_relativeSplatPath:!1},g)}),[v,g,a,d]);typeof i=="string"&&(i=ju(i));let{pathname:_="/",search:C="",hash:P="",state:S=null,key:j="default"}=i,D=nt.useMemo(()=>{let q=Pp(_,v);return q==null?null:{location:{pathname:q,search:C,hash:P,state:S,key:j},navigationType:s}},[v,_,C,P,S,j,s]);return D==null?null:nt.createElement(gl.Provider,{value:m},nt.createElement(rd.Provider,{children:n,value:D}))}function X4(e){let{children:t,location:n}=e;return O4(m0(t),n)}new Promise(()=>{});function m0(e,t){t===void 0&&(t=[]);let n=[];return nt.Children.forEach(e,(i,s)=>{if(!nt.isValidElement(i))return;let a=[...t,s];if(i.type===nt.Fragment){n.push.apply(n,m0(i.props.children,a));return}i.type!==va&&li(!1),!i.props.index||!i.props.children||li(!1);let d={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=m0(i.props.children,a)),n.push(d)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},v0.apply(this,arguments)}function K4(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,a;for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Q4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function J4(e,t){return e.button===0&&(!t||t==="_self")&&!Q4(e)}const $4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],e8="6";try{window.__reactRouterVersion=e8}catch{}const t8="startTransition",wg=qx[t8];function n8(e){let{basename:t,children:n,future:i,window:s}=e,a=nt.useRef();a.current==null&&(a.current=n4({window:s,v5Compat:!0}));let d=a.current,[g,v]=nt.useState({action:d.action,location:d.location}),{v7_startTransition:m}=i||{},_=nt.useCallback(C=>{m&&wg?wg(()=>v(C)):v(C)},[v,m]);return nt.useLayoutEffect(()=>d.listen(_),[d,_]),nt.useEffect(()=>G4(i),[i]),nt.createElement(Y4,{basename:t,children:n,location:g.location,navigationType:g.action,navigator:d,future:i})}const r8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o8=nt.forwardRef(function(t,n){let{onClick:i,relative:s,reloadDocument:a,replace:d,state:g,target:v,to:m,preventScrollReset:_,viewTransition:C}=t,P=K4(t,$4),{basename:S}=nt.useContext(gl),j,D=!1;if(typeof m=="string"&&i8.test(m)&&(j=m,r8))try{let F=new URL(window.location.href),Z=m.startsWith("//")?new URL(F.protocol+m):new URL(m),ye=Pp(Z.pathname,S);Z.origin===F.origin&&ye!=null?m=ye+Z.search+Z.hash:D=!0}catch{}let q=T4(m,{relative:s}),M=s8(m,{replace:d,state:g,target:v,preventScrollReset:_,relative:s,viewTransition:C});function B(F){i&&i(F),F.defaultPrevented||M(F)}return nt.createElement("a",v0({},P,{href:j||q,onClick:D||a?i:B,ref:n,target:v}))});var xg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xg||(xg={}));var _g;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_g||(_g={}));function s8(e,t){let{target:n,replace:i,state:s,preventScrollReset:a,relative:d,viewTransition:g}=t===void 0?{}:t,v=Jc(),m=zl(),_=Iy(e,{relative:d});return nt.useCallback(C=>{if(J4(C,n)){C.preventDefault();let P=i!==void 0?i:Mf(m)===Mf(_);v(e,{replace:P,state:s,preventScrollReset:a,relative:d,viewTransition:g})}},[m,v,_,i,s,n,e,a,d,g])}function a8({onToggle:e,onLogout:t}){return Re.jsxs("nav",{className:"navbar navbar-dark bg-dark px-3 d-flex align-items-center",children:[Re.jsx("button",{className:"btn btn-outline-light me-3",onClick:e,children:"☰"}),Re.jsx("span",{className:"navbar-brand mb-0 h1",children:"RFID Tracking"}),Re.jsx("button",{className:"btn btn-outline-light ms-auto",onClick:t,children:"Logout"})]})}function l8({collapsed:e}){const t=zl(),n=[{path:"/dashboard",label:"Dashboard"},{path:"/scanner",label:"QR Scanner"},{path:"/tracking",label:"Tracking Data"}];return Re.jsx("div",{className:`sidebar bg-dark text-white ${e?"collapsed":""} d-flex flex-column`,children:Re.jsx("ul",{className:"nav flex-column p-2",children:n.map(i=>Re.jsx("li",{className:"nav-item",children:Re.jsx(o8,{to:i.path,className:`nav-link ${t.pathname===i.path?"active fw-bold":"text-white"}`,children:i.label})},i.path))})})}function u8({onLogout:e}){const[t,n]=nt.useState(!1);return Re.jsxs("div",{className:"d-flex flex-column vh-100",children:[Re.jsx(a8,{onToggle:()=>n(!t),onLogout:e}),Re.jsxs("div",{className:"d-flex flex-grow-1",children:[Re.jsx(l8,{collapsed:t}),Re.jsx("main",{className:"flex-grow-1 p-4 bg-light overflow-auto",children:Re.jsx(Z4,{})})]})]})}function c8({onLoginSuccess:e}){const[t,n]=nt.useState(""),[i,s]=nt.useState(""),[a,d]=nt.useState(""),g=Jc(),v=m=>{m.preventDefault(),t==="admin@gmail.com"&&i==="tes123"?(e(),g("/dashboard")):d("Email atau password salah!")};return Re.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-light",children:Re.jsxs("div",{className:"card p-4 shadow",style:{width:"350px"},children:[Re.jsx("h3",{className:"text-center mb-3",children:"Login"}),a&&Re.jsx("div",{className:"alert alert-danger",children:a}),Re.jsxs("form",{onSubmit:v,children:[Re.jsxs("div",{className:"mb-3",children:[Re.jsx("label",{children:"Email"}),Re.jsx("input",{type:"email",className:"form-control",value:t,onChange:m=>n(m.target.value),required:!0})]}),Re.jsxs("div",{className:"mb-3",children:[Re.jsx("label",{children:"Password"}),Re.jsx("input",{type:"password",className:"form-control",value:i,onChange:m=>s(m.target.value),required:!0})]}),Re.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Login"})]})]})})}function My(e,t){const n=nt.useRef(t);nt.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const h8=1;function f8(e){return Object.freeze({__version:h8,map:e})}function Oy(e,t){return Object.freeze({...e,...t})}const ky=nt.createContext(null),Ry=ky.Provider;function Rp(){const e=nt.useContext(ky);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Dy(e){function t(n,i){const{instance:s,context:a}=e(n).current;return nt.useImperativeHandle(i,()=>s),n.children==null?null:Ll.createElement(Ry,{value:a},n.children)}return nt.forwardRef(t)}function d8(e){function t(n,i){const[s,a]=nt.useState(!1),{instance:d}=e(n,a).current;nt.useImperativeHandle(i,()=>d),nt.useEffect(function(){s&&d.update()},[d,s,n.children]);const g=d._contentNode;return g?_y.createPortal(n.children,g):null}return nt.forwardRef(t)}function p8(e){function t(n,i){const{instance:s}=e(n).current;return nt.useImperativeHandle(i,()=>s),null}return nt.forwardRef(t)}function Dp(e,t){const n=nt.useRef();nt.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function id(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function g8(e,t){return function(i,s){const a=Rp(),d=e(id(i,a),a);return My(a.map,i.attribution),Dp(d.current,i.eventHandlers),t(d.current,a,i,s),d}}var y0={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(tu,function(n){var i="1.9.4";function s(l){var f,x,I,R;for(x=1,I=arguments.length;x<I;x++){R=arguments[x];for(f in R)l[f]=R[f]}return l}var a=Object.create||function(){function l(){}return function(f){return l.prototype=f,new l}}();function d(l,f){var x=Array.prototype.slice;if(l.bind)return l.bind.apply(l,x.call(arguments,1));var I=x.call(arguments,2);return function(){return l.apply(f,I.length?I.concat(x.call(arguments)):arguments)}}var g=0;function v(l){return"_leaflet_id"in l||(l._leaflet_id=++g),l._leaflet_id}function m(l,f,x){var I,R,X,xe;return xe=function(){I=!1,R&&(X.apply(x,R),R=!1)},X=function(){I?R=arguments:(l.apply(x,arguments),setTimeout(xe,f),I=!0)},X}function _(l,f,x){var I=f[1],R=f[0],X=I-R;return l===I&&x?l:((l-R)%X+X)%X+R}function C(){return!1}function P(l,f){if(f===!1)return l;var x=Math.pow(10,f===void 0?6:f);return Math.round(l*x)/x}function S(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function j(l){return S(l).split(/\s+/)}function D(l,f){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?a(l.options):{});for(var x in f)l.options[x]=f[x];return l.options}function q(l,f,x){var I=[];for(var R in l)I.push(encodeURIComponent(x?R.toUpperCase():R)+"="+encodeURIComponent(l[R]));return(!f||f.indexOf("?")===-1?"?":"&")+I.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function B(l,f){return l.replace(M,function(x,I){var R=f[I];if(R===void 0)throw new Error("No value provided for variable "+x);return typeof R=="function"&&(R=R(f)),R})}var F=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function Z(l,f){for(var x=0;x<l.length;x++)if(l[x]===f)return x;return-1}var ye="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Se(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var fe=0;function de(l){var f=+new Date,x=Math.max(0,16-(f-fe));return fe=f+x,window.setTimeout(l,x)}var J=window.requestAnimationFrame||Se("RequestAnimationFrame")||de,be=window.cancelAnimationFrame||Se("CancelAnimationFrame")||Se("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function K(l,f,x){if(x&&J===de)l.call(f);else return J.call(window,d(l,f))}function $(l){l&&be.call(window,l)}var ge={__proto__:null,extend:s,create:a,bind:d,get lastId(){return g},stamp:v,throttle:m,wrapNum:_,falseFn:C,formatNum:P,trim:S,splitWords:j,setOptions:D,getParamString:q,template:B,isArray:F,indexOf:Z,emptyImageUrl:ye,requestFn:J,cancelFn:be,requestAnimFrame:K,cancelAnimFrame:$};function me(){}me.extend=function(l){var f=function(){D(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},x=f.__super__=this.prototype,I=a(x);I.constructor=f,f.prototype=I;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(f[R]=this[R]);return l.statics&&s(f,l.statics),l.includes&&(ce(l.includes),s.apply(null,[I].concat(l.includes))),s(I,l),delete I.statics,delete I.includes,I.options&&(I.options=x.options?a(x.options):{},s(I.options,l.options)),I._initHooks=[],I.callInitHooks=function(){if(!this._initHooksCalled){x.callInitHooks&&x.callInitHooks.call(this),this._initHooksCalled=!0;for(var X=0,xe=I._initHooks.length;X<xe;X++)I._initHooks[X].call(this)}},f},me.include=function(l){var f=this.prototype.options;return s(this.prototype,l),l.options&&(this.prototype.options=f,this.mergeOptions(l.options)),this},me.mergeOptions=function(l){return s(this.prototype.options,l),this},me.addInitHook=function(l){var f=Array.prototype.slice.call(arguments,1),x=typeof l=="function"?l:function(){this[l].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(x),this};function ce(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=F(l)?l:[l];for(var f=0;f<l.length;f++)l[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Be={on:function(l,f,x){if(typeof l=="object")for(var I in l)this._on(I,l[I],f);else{l=j(l);for(var R=0,X=l.length;R<X;R++)this._on(l[R],f,x)}return this},off:function(l,f,x){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var I in l)this._off(I,l[I],f);else{l=j(l);for(var R=arguments.length===1,X=0,xe=l.length;X<xe;X++)R?this._off(l[X]):this._off(l[X],f,x)}return this},_on:function(l,f,x,I){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(l,f,x)===!1){x===this&&(x=void 0);var R={fn:f,ctx:x};I&&(R.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(R)}},_off:function(l,f,x){var I,R,X;if(this._events&&(I=this._events[l],!!I)){if(arguments.length===1){if(this._firingCount)for(R=0,X=I.length;R<X;R++)I[R].fn=C;delete this._events[l];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var xe=this._listens(l,f,x);if(xe!==!1){var De=I[xe];this._firingCount&&(De.fn=C,this._events[l]=I=I.slice()),I.splice(xe,1)}}},fire:function(l,f,x){if(!this.listens(l,x))return this;var I=s({},f,{type:l,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var R=this._events[l];if(R){this._firingCount=this._firingCount+1||1;for(var X=0,xe=R.length;X<xe;X++){var De=R[X],qe=De.fn;De.once&&this.off(l,qe,De.ctx),qe.call(De.ctx||this,I)}this._firingCount--}}return x&&this._propagateEvent(I),this},listens:function(l,f,x,I){typeof l!="string"&&console.warn('"string" type argument expected');var R=f;typeof f!="function"&&(I=!!f,R=void 0,x=void 0);var X=this._events&&this._events[l];if(X&&X.length&&this._listens(l,R,x)!==!1)return!0;if(I){for(var xe in this._eventParents)if(this._eventParents[xe].listens(l,f,x,I))return!0}return!1},_listens:function(l,f,x){if(!this._events)return!1;var I=this._events[l]||[];if(!f)return!!I.length;x===this&&(x=void 0);for(var R=0,X=I.length;R<X;R++)if(I[R].fn===f&&I[R].ctx===x)return R;return!1},once:function(l,f,x){if(typeof l=="object")for(var I in l)this._on(I,l[I],f,!0);else{l=j(l);for(var R=0,X=l.length;R<X;R++)this._on(l[R],f,x,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[v(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[v(l)],this},_propagateEvent:function(l){for(var f in this._eventParents)this._eventParents[f].fire(l.type,s({layer:l.target,propagatedFrom:l.target},l),!0)}};Be.addEventListener=Be.on,Be.removeEventListener=Be.clearAllEventListeners=Be.off,Be.addOneTimeEventListener=Be.once,Be.fireEvent=Be.fire,Be.hasEventListeners=Be.listens;var Le=me.extend(Be);function he(l,f,x){this.x=x?Math.round(l):l,this.y=x?Math.round(f):f}var Pe=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};he.prototype={clone:function(){return new he(this.x,this.y)},add:function(l){return this.clone()._add(Ie(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(Ie(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new he(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new he(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pe(this.x),this.y=Pe(this.y),this},distanceTo:function(l){l=Ie(l);var f=l.x-this.x,x=l.y-this.y;return Math.sqrt(f*f+x*x)},equals:function(l){return l=Ie(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=Ie(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+P(this.x)+", "+P(this.y)+")"}};function Ie(l,f,x){return l instanceof he?l:F(l)?new he(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new he(l.x,l.y):new he(l,f,x)}function He(l,f){if(l)for(var x=f?[l,f]:l,I=0,R=x.length;I<R;I++)this.extend(x[I])}He.prototype={extend:function(l){var f,x;if(!l)return this;if(l instanceof he||typeof l[0]=="number"||"x"in l)f=x=Ie(l);else if(l=V(l),f=l.min,x=l.max,!f||!x)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=x.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(x.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(x.y,this.max.y)),this},getCenter:function(l){return Ie((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return Ie(this.min.x,this.max.y)},getTopRight:function(){return Ie(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var f,x;return typeof l[0]=="number"||l instanceof he?l=Ie(l):l=V(l),l instanceof He?(f=l.min,x=l.max):f=x=l,f.x>=this.min.x&&x.x<=this.max.x&&f.y>=this.min.y&&x.y<=this.max.y},intersects:function(l){l=V(l);var f=this.min,x=this.max,I=l.min,R=l.max,X=R.x>=f.x&&I.x<=x.x,xe=R.y>=f.y&&I.y<=x.y;return X&&xe},overlaps:function(l){l=V(l);var f=this.min,x=this.max,I=l.min,R=l.max,X=R.x>f.x&&I.x<x.x,xe=R.y>f.y&&I.y<x.y;return X&&xe},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var f=this.min,x=this.max,I=Math.abs(f.x-x.x)*l,R=Math.abs(f.y-x.y)*l;return V(Ie(f.x-I,f.y-R),Ie(x.x+I,x.y+R))},equals:function(l){return l?(l=V(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function V(l,f){return!l||l instanceof He?l:new He(l,f)}function oe(l,f){if(l)for(var x=f?[l,f]:l,I=0,R=x.length;I<R;I++)this.extend(x[I])}oe.prototype={extend:function(l){var f=this._southWest,x=this._northEast,I,R;if(l instanceof ve)I=l,R=l;else if(l instanceof oe){if(I=l._southWest,R=l._northEast,!I||!R)return this}else return l?this.extend(ue(l)||se(l)):this;return!f&&!x?(this._southWest=new ve(I.lat,I.lng),this._northEast=new ve(R.lat,R.lng)):(f.lat=Math.min(I.lat,f.lat),f.lng=Math.min(I.lng,f.lng),x.lat=Math.max(R.lat,x.lat),x.lng=Math.max(R.lng,x.lng)),this},pad:function(l){var f=this._southWest,x=this._northEast,I=Math.abs(f.lat-x.lat)*l,R=Math.abs(f.lng-x.lng)*l;return new oe(new ve(f.lat-I,f.lng-R),new ve(x.lat+I,x.lng+R))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof ve||"lat"in l?l=ue(l):l=se(l);var f=this._southWest,x=this._northEast,I,R;return l instanceof oe?(I=l.getSouthWest(),R=l.getNorthEast()):I=R=l,I.lat>=f.lat&&R.lat<=x.lat&&I.lng>=f.lng&&R.lng<=x.lng},intersects:function(l){l=se(l);var f=this._southWest,x=this._northEast,I=l.getSouthWest(),R=l.getNorthEast(),X=R.lat>=f.lat&&I.lat<=x.lat,xe=R.lng>=f.lng&&I.lng<=x.lng;return X&&xe},overlaps:function(l){l=se(l);var f=this._southWest,x=this._northEast,I=l.getSouthWest(),R=l.getNorthEast(),X=R.lat>f.lat&&I.lat<x.lat,xe=R.lng>f.lng&&I.lng<x.lng;return X&&xe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,f){return l?(l=se(l),this._southWest.equals(l.getSouthWest(),f)&&this._northEast.equals(l.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function se(l,f){return l instanceof oe?l:new oe(l,f)}function ve(l,f,x){if(isNaN(l)||isNaN(f))throw new Error("Invalid LatLng object: ("+l+", "+f+")");this.lat=+l,this.lng=+f,x!==void 0&&(this.alt=+x)}ve.prototype={equals:function(l,f){if(!l)return!1;l=ue(l);var x=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return x<=(f===void 0?1e-9:f)},toString:function(l){return"LatLng("+P(this.lat,l)+", "+P(this.lng,l)+")"},distanceTo:function(l){return Fe.distance(this,ue(l))},wrap:function(){return Fe.wrapLatLng(this)},toBounds:function(l){var f=180*l/40075017,x=f/Math.cos(Math.PI/180*this.lat);return se([this.lat-f,this.lng-x],[this.lat+f,this.lng+x])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function ue(l,f,x){return l instanceof ve?l:F(l)&&typeof l[0]!="object"?l.length===3?new ve(l[0],l[1],l[2]):l.length===2?new ve(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new ve(l.lat,"lng"in l?l.lng:l.lon,l.alt):f===void 0?null:new ve(l,f,x)}var Me={latLngToPoint:function(l,f){var x=this.projection.project(l),I=this.scale(f);return this.transformation._transform(x,I)},pointToLatLng:function(l,f){var x=this.scale(f),I=this.transformation.untransform(l,x);return this.projection.unproject(I)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var f=this.projection.bounds,x=this.scale(l),I=this.transformation.transform(f.min,x),R=this.transformation.transform(f.max,x);return new He(I,R)},infinite:!1,wrapLatLng:function(l){var f=this.wrapLng?_(l.lng,this.wrapLng,!0):l.lng,x=this.wrapLat?_(l.lat,this.wrapLat,!0):l.lat,I=l.alt;return new ve(x,f,I)},wrapLatLngBounds:function(l){var f=l.getCenter(),x=this.wrapLatLng(f),I=f.lat-x.lat,R=f.lng-x.lng;if(I===0&&R===0)return l;var X=l.getSouthWest(),xe=l.getNorthEast(),De=new ve(X.lat-I,X.lng-R),qe=new ve(xe.lat-I,xe.lng-R);return new oe(De,qe)}},Fe=s({},Me,{wrapLng:[-180,180],R:6371e3,distance:function(l,f){var x=Math.PI/180,I=l.lat*x,R=f.lat*x,X=Math.sin((f.lat-l.lat)*x/2),xe=Math.sin((f.lng-l.lng)*x/2),De=X*X+Math.cos(I)*Math.cos(R)*xe*xe,qe=2*Math.atan2(Math.sqrt(De),Math.sqrt(1-De));return this.R*qe}}),Ve=6378137,Je={R:Ve,MAX_LATITUDE:85.0511287798,project:function(l){var f=Math.PI/180,x=this.MAX_LATITUDE,I=Math.max(Math.min(x,l.lat),-x),R=Math.sin(I*f);return new he(this.R*l.lng*f,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(l){var f=180/Math.PI;return new ve((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*f,l.x*f/this.R)},bounds:function(){var l=Ve*Math.PI;return new He([-l,-l],[l,l])}()};function ot(l,f,x,I){if(F(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=f,this._c=x,this._d=I}ot.prototype={transform:function(l,f){return this._transform(l.clone(),f)},_transform:function(l,f){return f=f||1,l.x=f*(this._a*l.x+this._b),l.y=f*(this._c*l.y+this._d),l},untransform:function(l,f){return f=f||1,new he((l.x/f-this._b)/this._a,(l.y/f-this._d)/this._c)}};function gt(l,f,x,I){return new ot(l,f,x,I)}var ut=s({},Fe,{code:"EPSG:3857",projection:Je,transformation:function(){var l=.5/(Math.PI*Je.R);return gt(l,.5,-l,.5)}()}),Ye=s({},ut,{code:"EPSG:900913"});function pe(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function fn(l,f){var x="",I,R,X,xe,De,qe;for(I=0,X=l.length;I<X;I++){for(De=l[I],R=0,xe=De.length;R<xe;R++)qe=De[R],x+=(R?"L":"M")+qe.x+" "+qe.y;x+=f?mt.svg?"z":"x":""}return x||"M0 0"}var Ot=document.documentElement.style,pt="ActiveXObject"in window,Ke=pt&&!document.addEventListener,kt="msLaunchUri"in navigator&&!("documentMode"in document),Ze=un("webkit"),nn=un("android"),zt=un("android 2")||un("android 3"),vn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),sn=nn&&un("Google")&&vn<537&&!("AudioNode"in window),Ut=!!window.opera,Rn=!kt&&un("chrome"),Xt=un("gecko")&&!Ze&&!Ut&&!pt,Ct=!Rn&&un("safari"),$t=un("phantom"),Dt="OTransition"in Ot,Kn=navigator.platform.indexOf("Win")===0,Zt=pt&&"transition"in Ot,Ge="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zt,Tt="MozPerspective"in Ot,Gt=!window.L_DISABLE_3D&&(Zt||Ge||Tt)&&!Dt&&!$t,xt=typeof orientation<"u"||un("mobile"),yn=xt&&Ze,an=xt&&Ge,lr=!window.PointerEvent&&window.MSPointerEvent,Kt=!!(window.PointerEvent||lr),Tn="ontouchstart"in window||!!window.TouchEvent,rn=!window.L_NO_TOUCH&&(Tn||Kt),Mn=xt&&Ut,Xr=xt&&Xt,Fr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,sr=function(){var l=!1;try{var f=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",C,f),window.removeEventListener("testPassiveEventSupport",C,f)}catch{}return l}(),pi=function(){return!!document.createElement("canvas").getContext}(),Ht=!!(document.createElementNS&&pe("svg").createSVGRect),jr=!!Ht&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Fo=!Ht&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var f=l.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),zr=navigator.platform.indexOf("Mac")===0,Ci=navigator.platform.indexOf("Linux")===0;function un(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var mt={ie:pt,ielt9:Ke,edge:kt,webkit:Ze,android:nn,android23:zt,androidStock:sn,opera:Ut,chrome:Rn,gecko:Xt,safari:Ct,phantom:$t,opera12:Dt,win:Kn,ie3d:Zt,webkit3d:Ge,gecko3d:Tt,any3d:Gt,mobile:xt,mobileWebkit:yn,mobileWebkit3d:an,msPointer:lr,pointer:Kt,touch:rn,touchNative:Tn,mobileOpera:Mn,mobileGecko:Xr,retina:Fr,passiveEvents:sr,canvas:pi,svg:Ht,vml:Fo,inlineSvg:jr,mac:zr,linux:Ci},Bn=mt.msPointer?"MSPointerDown":"pointerdown",At=mt.msPointer?"MSPointerMove":"pointermove",Si=mt.msPointer?"MSPointerUp":"pointerup",Ei=mt.msPointer?"MSPointerCancel":"pointercancel",Jn={touchstart:Bn,touchmove:At,touchend:Si,touchcancel:Ei},Kr={touchstart:Wi,touchmove:Ns,touchend:Ns,touchcancel:Ns},Ir={},ui=!1;function ci(l,f,x){return f==="touchstart"&&Fn(),Kr[f]?(x=Kr[f].bind(this,x),l.addEventListener(Jn[f],x,!1),x):(console.warn("wrong event specified:",f),C)}function bo(l,f,x){if(!Jn[f]){console.warn("wrong event specified:",f);return}l.removeEventListener(Jn[f],x,!1)}function Es(l){Ir[l.pointerId]=l}function gi(l){Ir[l.pointerId]&&(Ir[l.pointerId]=l)}function mr(l){delete Ir[l.pointerId]}function Fn(){ui||(document.addEventListener(Bn,Es,!0),document.addEventListener(At,gi,!0),document.addEventListener(Si,mr,!0),document.addEventListener(Ei,mr,!0),ui=!0)}function Ns(l,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var x in Ir)f.touches.push(Ir[x]);f.changedTouches=[f],l(f)}}function Wi(l,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&ur(f),Ns(l,f)}function Xs(l){var f={},x,I;for(I in l)x=l[I],f[I]=x&&x.bind?x.bind(l):x;return l=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var st=200;function Vi(l,f){l.addEventListener("dblclick",f);var x=0,I;function R(X){if(X.detail!==1){I=X.detail;return}if(!(X.pointerType==="mouse"||X.sourceCapabilities&&!X.sourceCapabilities.firesTouchEvents)){var xe=ho(X);if(!(xe.some(function(qe){return qe instanceof HTMLLabelElement&&qe.attributes.for})&&!xe.some(function(qe){return qe instanceof HTMLInputElement||qe instanceof HTMLSelectElement}))){var De=Date.now();De-x<=st?(I++,I===2&&f(Xs(X))):I=1,x=De}}}return l.addEventListener("click",R),{dblclick:f,simDblclick:R}}function Qn(l,f){l.removeEventListener("dblclick",f.dblclick),l.removeEventListener("click",f.simDblclick)}var lo=Oe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),jo=Oe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ln=jo==="webkitTransition"||jo==="OTransition"?jo+"End":"transitionend";function Nn(l){return typeof l=="string"?document.getElementById(l):l}function hn(l,f){var x=l.style[f]||l.currentStyle&&l.currentStyle[f];if((!x||x==="auto")&&document.defaultView){var I=document.defaultView.getComputedStyle(l,null);x=I?I[f]:null}return x==="auto"?null:x}function wn(l,f,x){var I=document.createElement(l);return I.className=f||"",x&&x.appendChild(I),I}function Vn(l){var f=l.parentNode;f&&f.removeChild(l)}function $n(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function qn(l){var f=l.parentNode;f&&f.lastChild!==l&&f.appendChild(l)}function hi(l){var f=l.parentNode;f&&f.firstChild!==l&&f.insertBefore(l,f.firstChild)}function uo(l,f){if(l.classList!==void 0)return l.classList.contains(f);var x=jn(l);return x.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(x)}function St(l,f){if(l.classList!==void 0)for(var x=j(f),I=0,R=x.length;I<R;I++)l.classList.add(x[I]);else if(!uo(l,f)){var X=jn(l);zo(l,(X?X+" ":"")+f)}}function An(l,f){l.classList!==void 0?l.classList.remove(f):zo(l,S((" "+jn(l)+" ").replace(" "+f+" "," ")))}function zo(l,f){l.className.baseVal===void 0?l.className=f:l.className.baseVal=f}function jn(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function dn(l,f){"opacity"in l.style?l.style.opacity=f:"filter"in l.style&&Ur(l,f)}function Ur(l,f){var x=!1,I="DXImageTransform.Microsoft.Alpha";try{x=l.filters.item(I)}catch{if(f===1)return}f=Math.round(f*100),x?(x.Enabled=f!==100,x.Opacity=f):l.style.filter+=" progid:"+I+"(opacity="+f+")"}function Oe(l){for(var f=document.documentElement.style,x=0;x<l.length;x++)if(l[x]in f)return l[x];return!1}function ne(l,f,x){var I=f||new he(0,0);l.style[lo]=(mt.ie3d?"translate("+I.x+"px,"+I.y+"px)":"translate3d("+I.x+"px,"+I.y+"px,0)")+(x?" scale("+x+")":"")}function dt(l,f){l._leaflet_pos=f,mt.any3d?ne(l,f):(l.style.left=f.x+"px",l.style.top=f.y+"px")}function Gn(l){return l._leaflet_pos||new he(0,0)}var Tr,qi,Uo;if("onselectstart"in document)Tr=function(){en(window,"selectstart",ur)},qi=function(){wt(window,"selectstart",ur)};else{var Hr=Oe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Tr=function(){if(Hr){var l=document.documentElement.style;Uo=l[Hr],l[Hr]="none"}},qi=function(){Hr&&(document.documentElement.style[Hr]=Uo,Uo=void 0)}}function Bt(){en(window,"dragstart",ur)}function Zn(){wt(window,"dragstart",ur)}var Ho,Wo;function Gi(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(Vo(),Ho=l,Wo=l.style.outlineStyle,l.style.outlineStyle="none",en(window,"keydown",Vo))}function Vo(){Ho&&(Ho.style.outlineStyle=Wo,Ho=void 0,Wo=void 0,wt(window,"keydown",Vo))}function Co(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function Is(l){var f=l.getBoundingClientRect();return{x:f.width/l.offsetWidth||1,y:f.height/l.offsetHeight||1,boundingClientRect:f}}var Lt={__proto__:null,TRANSFORM:lo,TRANSITION:jo,TRANSITION_END:Ln,get:Nn,getStyle:hn,create:wn,remove:Vn,empty:$n,toFront:qn,toBack:hi,hasClass:uo,addClass:St,removeClass:An,setClass:zo,getClass:jn,setOpacity:dn,testProp:Oe,setTransform:ne,setPosition:dt,getPosition:Gn,get disableTextSelection(){return Tr},get enableTextSelection(){return qi},disableImageDrag:Bt,enableImageDrag:Zn,preventOutline:Gi,restoreOutline:Vo,getSizedParentNode:Co,getScale:Is};function en(l,f,x,I){if(f&&typeof f=="object")for(var R in f)Yn(l,R,f[R],x);else{f=j(f);for(var X=0,xe=f.length;X<xe;X++)Yn(l,f[X],x,I)}return this}var Lr="_leaflet_events";function wt(l,f,x,I){if(arguments.length===1)Oa(l),delete l[Lr];else if(f&&typeof f=="object")for(var R in f)ca(l,R,f[R],x);else if(f=j(f),arguments.length===2)Oa(l,function(De){return Z(f,De)!==-1});else for(var X=0,xe=f.length;X<xe;X++)ca(l,f[X],x,I);return this}function Oa(l,f){for(var x in l[Lr]){var I=x.split(/\d/)[0];(!f||f(I))&&ca(l,I,null,null,x)}}var Qt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Yn(l,f,x,I){var R=f+v(x)+(I?"_"+v(I):"");if(l[Lr]&&l[Lr][R])return this;var X=function(De){return x.call(I||l,De||window.event)},xe=X;!mt.touchNative&&mt.pointer&&f.indexOf("touch")===0?X=ci(l,f,X):mt.touch&&f==="dblclick"?X=Vi(l,X):"addEventListener"in l?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?l.addEventListener(Qt[f]||f,X,mt.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(X=function(De){De=De||window.event,Li(l,De)&&xe(De)},l.addEventListener(Qt[f],X,!1)):l.addEventListener(f,xe,!1):l.attachEvent("on"+f,X),l[Lr]=l[Lr]||{},l[Lr][R]=X}function ca(l,f,x,I,R){R=R||f+v(x)+(I?"_"+v(I):"");var X=l[Lr]&&l[Lr][R];if(!X)return this;!mt.touchNative&&mt.pointer&&f.indexOf("touch")===0?bo(l,f,X):mt.touch&&f==="dblclick"?Qn(l,X):"removeEventListener"in l?l.removeEventListener(Qt[f]||f,X,!1):l.detachEvent("on"+f,X),l[Lr][R]=null}function co(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function qo(l){return Yn(l,"wheel",co),this}function mi(l){return en(l,"mousedown touchstart dblclick contextmenu",co),l._leaflet_disable_click=!0,this}function ur(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function fi(l){return ur(l),co(l),this}function ho(l){if(l.composedPath)return l.composedPath();for(var f=[],x=l.target;x;)f.push(x),x=x.parentNode;return f}function ds(l,f){if(!f)return new he(l.clientX,l.clientY);var x=Is(f),I=x.boundingClientRect;return new he((l.clientX-I.left)/x.x-f.clientLeft,(l.clientY-I.top)/x.y-f.clientTop)}var Ks=mt.linux&&mt.chrome?window.devicePixelRatio:mt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function So(l){return mt.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/Ks:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function Li(l,f){var x=f.relatedTarget;if(!x)return!0;try{for(;x&&x!==l;)x=x.parentNode}catch{return!1}return x!==l}var br={__proto__:null,on:en,off:wt,stopPropagation:co,disableScrollPropagation:qo,disableClickPropagation:mi,preventDefault:ur,stop:fi,getPropagationPath:ho,getMousePosition:ds,getWheelDelta:So,isExternalTarget:Li,addListener:en,removeListener:wt},Ts=Le.extend({run:function(l,f,x,I){this.stop(),this._el=l,this._inProgress=!0,this._duration=x||.25,this._easeOutPower=1/Math.max(I||.5,.2),this._startPos=Gn(l),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(l){var f=+new Date-this._startTime,x=this._duration*1e3;f<x?this._runFrame(this._easeOut(f/x),l):(this._runFrame(1),this._complete())},_runFrame:function(l,f){var x=this._startPos.add(this._offset.multiplyBy(l));f&&x._round(),dt(this._el,x),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),gn=Le.extend({options:{crs:ut,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,f){f=D(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(ue(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=jo&&mt.any3d&&!mt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),en(this._proxy,Ln,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,f,x){if(f=f===void 0?this._zoom:this._limitZoom(f),l=this._limitCenter(ue(l),f,this.options.maxBounds),x=x||{},this._stop(),this._loaded&&!x.reset&&x!==!0){x.animate!==void 0&&(x.zoom=s({animate:x.animate},x.zoom),x.pan=s({animate:x.animate,duration:x.duration},x.pan));var I=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,f,x.zoom):this._tryAnimatedPan(l,x.pan);if(I)return clearTimeout(this._sizeTimer),this}return this._resetView(l,f,x.pan&&x.pan.noMoveStart),this},setZoom:function(l,f){return this._loaded?this.setView(this.getCenter(),l,{zoom:f}):(this._zoom=l,this)},zoomIn:function(l,f){return l=l||(mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,f)},zoomOut:function(l,f){return l=l||(mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,f)},setZoomAround:function(l,f,x){var I=this.getZoomScale(f),R=this.getSize().divideBy(2),X=l instanceof he?l:this.latLngToContainerPoint(l),xe=X.subtract(R).multiplyBy(1-1/I),De=this.containerPointToLatLng(R.add(xe));return this.setView(De,f,{zoom:x})},_getBoundsCenterZoom:function(l,f){f=f||{},l=l.getBounds?l.getBounds():se(l);var x=Ie(f.paddingTopLeft||f.padding||[0,0]),I=Ie(f.paddingBottomRight||f.padding||[0,0]),R=this.getBoundsZoom(l,!1,x.add(I));if(R=typeof f.maxZoom=="number"?Math.min(f.maxZoom,R):R,R===1/0)return{center:l.getCenter(),zoom:R};var X=I.subtract(x).divideBy(2),xe=this.project(l.getSouthWest(),R),De=this.project(l.getNorthEast(),R),qe=this.unproject(xe.add(De).divideBy(2).add(X),R);return{center:qe,zoom:R}},fitBounds:function(l,f){if(l=se(l),!l.isValid())throw new Error("Bounds are not valid.");var x=this._getBoundsCenterZoom(l,f);return this.setView(x.center,x.zoom,f)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,f){return this.setView(l,this._zoom,{pan:f})},panBy:function(l,f){if(l=Ie(l).round(),f=f||{},!l.x&&!l.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ts,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){St(this._mapPane,"leaflet-pan-anim");var x=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,x,f.duration||.25,f.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,f,x){if(x=x||{},x.animate===!1||!mt.any3d)return this.setView(l,f,x);this._stop();var I=this.project(this.getCenter()),R=this.project(l),X=this.getSize(),xe=this._zoom;l=ue(l),f=f===void 0?xe:f;var De=Math.max(X.x,X.y),qe=De*this.getZoomScale(xe,f),lt=R.distanceTo(I)||1,bt=1.42,Yt=bt*bt;function En(er){var Di=er?-1:1,fd=er?qe:De,dd=qe*qe-De*De+Di*Yt*Yt*lt*lt,ih=2*fd*Yt*lt,Xl=dd/ih,Xu=Math.sqrt(Xl*Xl+1)-Xl,oh=Xu<1e-9?-18:Math.log(Xu);return oh}function Ri(er){return(Math.exp(er)-Math.exp(-er))/2}function ti(er){return(Math.exp(er)+Math.exp(-er))/2}function To(er){return Ri(er)/ti(er)}var Ji=En(0);function Da(er){return De*(ti(Ji)/ti(Ji+bt*er))}function cd(er){return De*(ti(Ji)*To(Ji+bt*er)-Ri(Ji))/Yt}function $s(er){return 1-Math.pow(1-er,1.5)}var Ko=Date.now(),vs=(En(1)-Ji)/bt,hd=x.duration?1e3*x.duration:1e3*vs*.8;function Yu(){var er=(Date.now()-Ko)/hd,Di=$s(er)*vs;er<=1?(this._flyToFrame=K(Yu,this),this._move(this.unproject(I.add(R.subtract(I).multiplyBy(cd(Di)/lt)),xe),this.getScaleZoom(De/Da(Di),xe),{flyTo:!0})):this._move(l,f)._moveEnd(!0)}return this._moveStart(!0,x.noMoveStart),Yu.call(this),this},flyToBounds:function(l,f){var x=this._getBoundsCenterZoom(l,f);return this.flyTo(x.center,x.zoom,f)},setMaxBounds:function(l){return l=se(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var f=this.options.minZoom;return this.options.minZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var f=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,f){this._enforcingBounds=!0;var x=this.getCenter(),I=this._limitCenter(x,this._zoom,se(l));return x.equals(I)||this.panTo(I,f),this._enforcingBounds=!1,this},panInside:function(l,f){f=f||{};var x=Ie(f.paddingTopLeft||f.padding||[0,0]),I=Ie(f.paddingBottomRight||f.padding||[0,0]),R=this.project(this.getCenter()),X=this.project(l),xe=this.getPixelBounds(),De=V([xe.min.add(x),xe.max.subtract(I)]),qe=De.getSize();if(!De.contains(X)){this._enforcingBounds=!0;var lt=X.subtract(De.getCenter()),bt=De.extend(X).getSize().subtract(qe);R.x+=lt.x<0?-bt.x:bt.x,R.y+=lt.y<0?-bt.y:bt.y,this.panTo(this.unproject(R),f),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=s({animate:!1,pan:!0},l===!0?{animate:!0}:l);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var x=this.getSize(),I=f.divideBy(2).round(),R=x.divideBy(2).round(),X=I.subtract(R);return!X.x&&!X.y?this:(l.animate&&l.pan?this.panBy(X):(l.pan&&this._rawPanBy(X),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:x}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=s({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=d(this._handleGeolocationResponse,this),x=d(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,x,l):navigator.geolocation.getCurrentPosition(f,x,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var f=l.code,x=l.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+x+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var f=l.coords.latitude,x=l.coords.longitude,I=new ve(f,x),R=I.toBounds(l.coords.accuracy*2),X=this._locateOptions;if(X.setView){var xe=this.getBoundsZoom(R);this.setView(I,X.maxZoom?Math.min(xe,X.maxZoom):xe)}var De={latlng:I,bounds:R,timestamp:l.timestamp};for(var qe in l.coords)typeof l.coords[qe]=="number"&&(De[qe]=l.coords[qe]);this.fire("locationfound",De)}},addHandler:function(l,f){if(!f)return this;var x=this[l]=new f(this);return this._handlers.push(x),this.options[l]&&x.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Vn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)Vn(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,f){var x="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),I=wn("div",x,f||this._mapPane);return l&&(this._panes[l]=I),I},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),f=this.unproject(l.getBottomLeft()),x=this.unproject(l.getTopRight());return new oe(f,x)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,f,x){l=se(l),x=Ie(x||[0,0]);var I=this.getZoom()||0,R=this.getMinZoom(),X=this.getMaxZoom(),xe=l.getNorthWest(),De=l.getSouthEast(),qe=this.getSize().subtract(x),lt=V(this.project(De,I),this.project(xe,I)).getSize(),bt=mt.any3d?this.options.zoomSnap:1,Yt=qe.x/lt.x,En=qe.y/lt.y,Ri=f?Math.max(Yt,En):Math.min(Yt,En);return I=this.getScaleZoom(Ri,I),bt&&(I=Math.round(I/(bt/100))*(bt/100),I=f?Math.ceil(I/bt)*bt:Math.floor(I/bt)*bt),Math.max(R,Math.min(X,I))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new he(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,f){var x=this._getTopLeftPoint(l,f);return new He(x,x.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,f){var x=this.options.crs;return f=f===void 0?this._zoom:f,x.scale(l)/x.scale(f)},getScaleZoom:function(l,f){var x=this.options.crs;f=f===void 0?this._zoom:f;var I=x.zoom(l*x.scale(f));return isNaN(I)?1/0:I},project:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(ue(l),f)},unproject:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(Ie(l),f)},layerPointToLatLng:function(l){var f=Ie(l).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(l){var f=this.project(ue(l))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(ue(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(se(l))},distance:function(l,f){return this.options.crs.distance(ue(l),ue(f))},containerPointToLayerPoint:function(l){return Ie(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return Ie(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var f=this.containerPointToLayerPoint(Ie(l));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(l)))},mouseEventToContainerPoint:function(l){return ds(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var f=this._container=Nn(l);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");en(f,"scroll",this._onScroll,this),this._containerId=v(f)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&mt.any3d,St(l,"leaflet-container"+(mt.touch?" leaflet-touch":"")+(mt.retina?" leaflet-retina":"")+(mt.ielt9?" leaflet-oldie":"")+(mt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=hn(l,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),dt(this._mapPane,new he(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(St(l.markerPane,"leaflet-zoom-hide"),St(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,f,x){dt(this._mapPane,new he(0,0));var I=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var R=this._zoom!==f;this._moveStart(R,x)._move(l,f)._moveEnd(R),this.fire("viewreset"),I&&this.fire("load")},_moveStart:function(l,f){return l&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(l,f,x,I){f===void 0&&(f=this._zoom);var R=this._zoom!==f;return this._zoom=f,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),I?x&&x.pinch&&this.fire("zoom",x):((R||x&&x.pinch)&&this.fire("zoom",x),this.fire("move",x)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){dt(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[v(this._container)]=this;var f=l?wt:en;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),mt.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,f){for(var x=[],I,R=f==="mouseout"||f==="mouseover",X=l.target||l.srcElement,xe=!1;X;){if(I=this._targets[v(X)],I&&(f==="click"||f==="preclick")&&this._draggableMoved(I)){xe=!0;break}if(I&&I.listens(f,!0)&&(R&&!Li(X,l)||(x.push(I),R))||X===this._container)break;X=X.parentNode}return!x.length&&!xe&&!R&&this.listens(f,!0)&&(x=[this]),x},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var f=l.target||l.srcElement;if(!(!this._loaded||f._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(f))){var x=l.type;x==="mousedown"&&Gi(f),this._fireDOMEvent(l,x)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,f,x){if(l.type==="click"){var I=s({},l);I.type="preclick",this._fireDOMEvent(I,I.type,x)}var R=this._findEventTargets(l,f);if(x){for(var X=[],xe=0;xe<x.length;xe++)x[xe].listens(f,!0)&&X.push(x[xe]);R=X.concat(R)}if(R.length){f==="contextmenu"&&ur(l);var De=R[0],qe={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var lt=De.getLatLng&&(!De._radius||De._radius<=10);qe.containerPoint=lt?this.latLngToContainerPoint(De.getLatLng()):this.mouseEventToContainerPoint(l),qe.layerPoint=this.containerPointToLayerPoint(qe.containerPoint),qe.latlng=lt?De.getLatLng():this.layerPointToLatLng(qe.layerPoint)}for(xe=0;xe<R.length;xe++)if(R[xe].fire(f,qe,!0),qe.originalEvent._stopped||R[xe].options.bubblingMouseEvents===!1&&Z(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,f=this._handlers.length;l<f;l++)this._handlers[l].disable()},whenReady:function(l,f){return this._loaded?l.call(f||this,{target:this}):this.on("load",l,f),this},_getMapPanePos:function(){return Gn(this._mapPane)||new he(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,f){var x=l&&f!==void 0?this._getNewPixelOrigin(l,f):this.getPixelOrigin();return x.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,f){var x=this.getSize()._divideBy(2);return this.project(l,f)._subtract(x)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,f,x){var I=this._getNewPixelOrigin(x,f);return this.project(l,f)._subtract(I)},_latLngBoundsToNewLayerBounds:function(l,f,x){var I=this._getNewPixelOrigin(x,f);return V([this.project(l.getSouthWest(),f)._subtract(I),this.project(l.getNorthWest(),f)._subtract(I),this.project(l.getSouthEast(),f)._subtract(I),this.project(l.getNorthEast(),f)._subtract(I)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,f,x){if(!x)return l;var I=this.project(l,f),R=this.getSize().divideBy(2),X=new He(I.subtract(R),I.add(R)),xe=this._getBoundsOffset(X,x,f);return Math.abs(xe.x)<=1&&Math.abs(xe.y)<=1?l:this.unproject(I.add(xe),f)},_limitOffset:function(l,f){if(!f)return l;var x=this.getPixelBounds(),I=new He(x.min.add(l),x.max.add(l));return l.add(this._getBoundsOffset(I,f))},_getBoundsOffset:function(l,f,x){var I=V(this.project(f.getNorthEast(),x),this.project(f.getSouthWest(),x)),R=I.min.subtract(l.min),X=I.max.subtract(l.max),xe=this._rebound(R.x,-X.x),De=this._rebound(R.y,-X.y);return new he(xe,De)},_rebound:function(l,f){return l+f>0?Math.round(l-f)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(f))},_limitZoom:function(l){var f=this.getMinZoom(),x=this.getMaxZoom(),I=mt.any3d?this.options.zoomSnap:1;return I&&(l=Math.round(l/I)*I),Math.max(f,Math.min(x,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){An(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,f){var x=this._getCenterOffset(l)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(x)?!1:(this.panBy(x,f),!0)},_createAnimProxy:function(){var l=this._proxy=wn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(f){var x=lo,I=this._proxy.style[x];ne(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),I===this._proxy.style[x]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Vn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),f=this.getZoom();ne(this._proxy,this.project(l,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,f,x){if(this._animatingZoom)return!0;if(x=x||{},!this._zoomAnimated||x.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var I=this.getZoomScale(f),R=this._getCenterOffset(l)._divideBy(1-1/I);return x.animate!==!0&&!this.getSize().contains(R)?!1:(K(function(){this._moveStart(!0,x.noMoveStart||!1)._animateZoom(l,f,!0)},this),!0)},_animateZoom:function(l,f,x,I){this._mapPane&&(x&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=f,St(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:f,noUpdate:I}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&An(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Qs(l,f){return new gn(l,f)}var Qr=me.extend({options:{position:"topright"},initialize:function(l){D(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var f=this._map;return f&&f.removeControl(this),this.options.position=l,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var f=this._container=this.onAdd(l),x=this.getPosition(),I=l._controlCorners[x];return St(f,"leaflet-control"),x.indexOf("bottom")!==-1?I.insertBefore(f,I.firstChild):I.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Vn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),ps=function(l){return new Qr(l)};gn.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},f="leaflet-",x=this._controlContainer=wn("div",f+"control-container",this._container);function I(R,X){var xe=f+R+" "+f+X;l[R+X]=wn("div",xe,x)}I("top","left"),I("top","right"),I("bottom","left"),I("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)Vn(this._controlCorners[l]);Vn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ha=Qr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,f,x,I){return x<I?-1:I<x?1:0}},initialize:function(l,f,x){D(this,x),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var I in l)this._addLayer(l[I],I);for(I in f)this._addLayer(f[I],I,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return Qr.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,f){return this._addLayer(l,f),this._map?this._update():this},addOverlay:function(l,f){return this._addLayer(l,f,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var f=this._getLayer(v(l));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){St(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(St(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):An(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return An(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",f=this._container=wn("div",l),x=this.options.collapsed;f.setAttribute("aria-haspopup",!0),mi(f),qo(f);var I=this._section=wn("section",l+"-list");x&&(this._map.on("click",this.collapse,this),en(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=wn("a",l+"-toggle",f);R.href="#",R.title="Layers",R.setAttribute("role","button"),en(R,{keydown:function(X){X.keyCode===13&&this._expandSafely()},click:function(X){ur(X),this._expandSafely()}},this),x||this.expand(),this._baseLayersList=wn("div",l+"-base",I),this._separator=wn("div",l+"-separator",I),this._overlaysList=wn("div",l+"-overlays",I),f.appendChild(I)},_getLayer:function(l){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&v(this._layers[f].layer)===l)return this._layers[f]},_addLayer:function(l,f,x){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:f,overlay:x}),this.options.sortLayers&&this._layers.sort(d(function(I,R){return this.options.sortFunction(I.layer,R.layer,I.name,R.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;$n(this._baseLayersList),$n(this._overlaysList),this._layerControlInputs=[];var l,f,x,I,R=0;for(x=0;x<this._layers.length;x++)I=this._layers[x],this._addItem(I),f=f||I.overlay,l=l||!I.overlay,R+=I.overlay?0:1;return this.options.hideSingleBase&&(l=l&&R>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=f&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var f=this._getLayer(v(l.target)),x=f.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;x&&this._map.fire(x,f)},_createRadioElement:function(l,f){var x='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(f?' checked="checked"':"")+"/>",I=document.createElement("div");return I.innerHTML=x,I.firstChild},_addItem:function(l){var f=document.createElement("label"),x=this._map.hasLayer(l.layer),I;l.overlay?(I=document.createElement("input"),I.type="checkbox",I.className="leaflet-control-layers-selector",I.defaultChecked=x):I=this._createRadioElement("leaflet-base-layers_"+v(this),x),this._layerControlInputs.push(I),I.layerId=v(l.layer),en(I,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+l.name;var X=document.createElement("span");f.appendChild(X),X.appendChild(I),X.appendChild(R);var xe=l.overlay?this._overlaysList:this._baseLayersList;return xe.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,f,x,I=[],R=[];this._handlingClick=!0;for(var X=l.length-1;X>=0;X--)f=l[X],x=this._getLayer(f.layerId).layer,f.checked?I.push(x):f.checked||R.push(x);for(X=0;X<R.length;X++)this._map.hasLayer(R[X])&&this._map.removeLayer(R[X]);for(X=0;X<I.length;X++)this._map.hasLayer(I[X])||this._map.addLayer(I[X]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,f,x,I=this._map.getZoom(),R=l.length-1;R>=0;R--)f=l[R],x=this._getLayer(f.layerId).layer,f.disabled=x.options.minZoom!==void 0&&I<x.options.minZoom||x.options.maxZoom!==void 0&&I>x.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,en(l,"click",ur),this.expand();var f=this;setTimeout(function(){wt(l,"click",ur),f._preventClick=!1})}}),Sn=function(l,f,x){return new ha(l,f,x)},Zi=Qr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var f="leaflet-control-zoom",x=wn("div",f+" leaflet-bar"),I=this.options;return this._zoomInButton=this._createButton(I.zoomInText,I.zoomInTitle,f+"-in",x,this._zoomIn),this._zoomOutButton=this._createButton(I.zoomOutText,I.zoomOutTitle,f+"-out",x,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),x},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,f,x,I,R){var X=wn("a",x,I);return X.innerHTML=l,X.href="#",X.title=f,X.setAttribute("role","button"),X.setAttribute("aria-label",f),mi(X),en(X,"click",fi),en(X,"click",R,this),en(X,"click",this._refocusOnMap,this),X},_updateDisabled:function(){var l=this._map,f="leaflet-disabled";An(this._zoomInButton,f),An(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(St(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(St(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});gn.mergeOptions({zoomControl:!0}),gn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Zi,this.addControl(this.zoomControl))});var Ls=function(l){return new Zi(l)},Yi=Qr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var f="leaflet-control-scale",x=wn("div",f),I=this.options;return this._addScales(I,f+"-line",x),l.on(I.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),x},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,f,x){l.metric&&(this._mScale=wn("div",f,x)),l.imperial&&(this._iScale=wn("div",f,x))},_update:function(){var l=this._map,f=l.getSize().y/2,x=l.distance(l.containerPointToLatLng([0,f]),l.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(x)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var f=this._getRoundNum(l),x=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,x,f/l)},_updateImperial:function(l){var f=l*3.2808399,x,I,R;f>5280?(x=f/5280,I=this._getRoundNum(x),this._updateScale(this._iScale,I+" mi",I/x)):(R=this._getRoundNum(f),this._updateScale(this._iScale,R+" ft",R/f))},_updateScale:function(l,f,x){l.style.width=Math.round(this.options.maxWidth*x)+"px",l.innerHTML=f},_getRoundNum:function(l){var f=Math.pow(10,(Math.floor(l)+"").length-1),x=l/f;return x=x>=10?10:x>=5?5:x>=3?3:x>=2?2:1,f*x}}),Ps=function(l){return new Yi(l)},We='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',E=Qr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(mt.inlineSvg?We+" ":"")+"Leaflet</a>"},initialize:function(l){D(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=wn("div","leaflet-control-attribution"),mi(this._container);for(var f in l._layers)l._layers[f].getAttribution&&this.addAttribution(l._layers[f].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var f in this._attributions)this._attributions[f]&&l.push(f);var x=[];this.options.prefix&&x.push(this.options.prefix),l.length&&x.push(l.join(", ")),this._container.innerHTML=x.join(' <span aria-hidden="true">|</span> ')}}});gn.mergeOptions({attributionControl:!0}),gn.addInitHook(function(){this.options.attributionControl&&new E().addTo(this)});var H=function(l){return new E(l)};Qr.Layers=ha,Qr.Zoom=Zi,Qr.Scale=Yi,Qr.Attribution=E,ps.layers=Sn,ps.zoom=Ls,ps.scale=Ps,ps.attribution=H;var re=me.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});re.addTo=function(l,f){return l.addHandler(f,this),this};var _e={Events:Be},Ne=mt.touch?"touchstart mousedown":"mousedown",Xe=Le.extend({options:{clickTolerance:3},initialize:function(l,f,x,I){D(this,I),this._element=l,this._dragStartTarget=f||l,this._preventOutline=x},enable:function(){this._enabled||(en(this._dragStartTarget,Ne,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Xe._dragging===this&&this.finishDrag(!0),wt(this._dragStartTarget,Ne,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!uo(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){Xe._dragging===this&&this.finishDrag();return}if(!(Xe._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(Xe._dragging=this,this._preventOutline&&Gi(this._element),Bt(),Tr(),!this._moving)){this.fire("down");var f=l.touches?l.touches[0]:l,x=Co(this._element);this._startPoint=new he(f.clientX,f.clientY),this._startPos=Gn(this._element),this._parentScale=Is(x);var I=l.type==="mousedown";en(document,I?"mousemove":"touchmove",this._onMove,this),en(document,I?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var f=l.touches&&l.touches.length===1?l.touches[0]:l,x=new he(f.clientX,f.clientY)._subtract(this._startPoint);!x.x&&!x.y||Math.abs(x.x)+Math.abs(x.y)<this.options.clickTolerance||(x.x/=this._parentScale.x,x.y/=this._parentScale.y,ur(l),this._moved||(this.fire("dragstart"),this._moved=!0,St(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),St(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(x),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),dt(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){An(document.body,"leaflet-dragging"),this._lastTarget&&(An(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),wt(document,"mousemove touchmove",this._onMove,this),wt(document,"mouseup touchend touchcancel",this._onUp,this),Zn(),qi();var f=this._moved&&this._moving;this._moving=!1,Xe._dragging=!1,f&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function at(l,f,x){var I,R=[1,4,2,8],X,xe,De,qe,lt,bt,Yt,En;for(X=0,bt=l.length;X<bt;X++)l[X]._code=Sr(l[X],f);for(De=0;De<4;De++){for(Yt=R[De],I=[],X=0,bt=l.length,xe=bt-1;X<bt;xe=X++)qe=l[X],lt=l[xe],qe._code&Yt?lt._code&Yt||(En=Cr(lt,qe,Yt,f,x),En._code=Sr(En,f),I.push(En)):(lt._code&Yt&&(En=Cr(lt,qe,Yt,f,x),En._code=Sr(En,f),I.push(En)),I.push(qe));l=I}return l}function Et(l,f){var x,I,R,X,xe,De,qe,lt,bt;if(!l||l.length===0)throw new Error("latlngs not passed");Mr(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Yt=ue([0,0]),En=se(l),Ri=En.getNorthWest().distanceTo(En.getSouthWest())*En.getNorthEast().distanceTo(En.getNorthWest());Ri<1700&&(Yt=vt(l));var ti=l.length,To=[];for(x=0;x<ti;x++){var Ji=ue(l[x]);To.push(f.project(ue([Ji.lat-Yt.lat,Ji.lng-Yt.lng])))}for(De=qe=lt=0,x=0,I=ti-1;x<ti;I=x++)R=To[x],X=To[I],xe=R.y*X.x-X.y*R.x,qe+=(R.x+X.x)*xe,lt+=(R.y+X.y)*xe,De+=xe*3;De===0?bt=To[0]:bt=[qe/De,lt/De];var Da=f.unproject(Ie(bt));return ue([Da.lat+Yt.lat,Da.lng+Yt.lng])}function vt(l){for(var f=0,x=0,I=0,R=0;R<l.length;R++){var X=ue(l[R]);f+=X.lat,x+=X.lng,I++}return ue([f/I,x/I])}var tn={__proto__:null,clipPolygon:at,polygonCenter:Et,centroid:vt};function Nt(l,f){if(!f||!l.length)return l.slice();var x=f*f;return l=Pr(l,x),l=on(l,x),l}function In(l,f,x){return Math.sqrt(Xi(l,f,x,!0))}function zn(l,f,x){return Xi(l,f,x)}function on(l,f){var x=l.length,I=typeof Uint8Array<"u"?Uint8Array:Array,R=new I(x);R[0]=R[x-1]=1,yt(l,R,f,0,x-1);var X,xe=[];for(X=0;X<x;X++)R[X]&&xe.push(l[X]);return xe}function yt(l,f,x,I,R){var X=0,xe,De,qe;for(De=I+1;De<=R-1;De++)qe=Xi(l[De],l[I],l[R],!0),qe>X&&(xe=De,X=qe);X>x&&(f[xe]=1,yt(l,f,x,I,xe),yt(l,f,x,xe,R))}function Pr(l,f){for(var x=[l[0]],I=1,R=0,X=l.length;I<X;I++)Pi(l[I],l[R])>f&&(x.push(l[I]),R=I);return R<X-1&&x.push(l[X-1]),x}var ln;function ar(l,f,x,I,R){var X=I?ln:Sr(l,x),xe=Sr(f,x),De,qe,lt;for(ln=xe;;){if(!(X|xe))return[l,f];if(X&xe)return!1;De=X||xe,qe=Cr(l,f,De,x,R),lt=Sr(qe,x),De===X?(l=qe,X=lt):(f=qe,xe=lt)}}function Cr(l,f,x,I,R){var X=f.x-l.x,xe=f.y-l.y,De=I.min,qe=I.max,lt,bt;return x&8?(lt=l.x+X*(qe.y-l.y)/xe,bt=qe.y):x&4?(lt=l.x+X*(De.y-l.y)/xe,bt=De.y):x&2?(lt=qe.x,bt=l.y+xe*(qe.x-l.x)/X):x&1&&(lt=De.x,bt=l.y+xe*(De.x-l.x)/X),new he(lt,bt,R)}function Sr(l,f){var x=0;return l.x<f.min.x?x|=1:l.x>f.max.x&&(x|=2),l.y<f.min.y?x|=4:l.y>f.max.y&&(x|=8),x}function Pi(l,f){var x=f.x-l.x,I=f.y-l.y;return x*x+I*I}function Xi(l,f,x,I){var R=f.x,X=f.y,xe=x.x-R,De=x.y-X,qe=xe*xe+De*De,lt;return qe>0&&(lt=((l.x-R)*xe+(l.y-X)*De)/qe,lt>1?(R=x.x,X=x.y):lt>0&&(R+=xe*lt,X+=De*lt)),xe=l.x-R,De=l.y-X,I?xe*xe+De*De:new he(R,X)}function Mr(l){return!F(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function fo(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Mr(l)}function Go(l,f){var x,I,R,X,xe,De,qe,lt;if(!l||l.length===0)throw new Error("latlngs not passed");Mr(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var bt=ue([0,0]),Yt=se(l),En=Yt.getNorthWest().distanceTo(Yt.getSouthWest())*Yt.getNorthEast().distanceTo(Yt.getNorthWest());En<1700&&(bt=vt(l));var Ri=l.length,ti=[];for(x=0;x<Ri;x++){var To=ue(l[x]);ti.push(f.project(ue([To.lat-bt.lat,To.lng-bt.lng])))}for(x=0,I=0;x<Ri-1;x++)I+=ti[x].distanceTo(ti[x+1])/2;if(I===0)lt=ti[0];else for(x=0,X=0;x<Ri-1;x++)if(xe=ti[x],De=ti[x+1],R=xe.distanceTo(De),X+=R,X>I){qe=(X-I)/R,lt=[De.x-qe*(De.x-xe.x),De.y-qe*(De.y-xe.y)];break}var Ji=f.unproject(Ie(lt));return ue([Ji.lat+bt.lat,Ji.lng+bt.lng])}var gs={__proto__:null,simplify:Nt,pointToSegmentDistance:In,closestPointOnSegment:zn,clipSegment:ar,_getEdgeIntersection:Cr,_getBitCode:Sr,_sqClosestPointOnSegment:Xi,isFlat:Mr,_flat:fo,polylineCenter:Go},Zo={project:function(l){return new he(l.lng,l.lat)},unproject:function(l){return new ve(l.y,l.x)},bounds:new He([-180,-90],[180,90])},cr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new He([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var f=Math.PI/180,x=this.R,I=l.lat*f,R=this.R_MINOR/x,X=Math.sqrt(1-R*R),xe=X*Math.sin(I),De=Math.tan(Math.PI/4-I/2)/Math.pow((1-xe)/(1+xe),X/2);return I=-x*Math.log(Math.max(De,1e-10)),new he(l.lng*f*x,I)},unproject:function(l){for(var f=180/Math.PI,x=this.R,I=this.R_MINOR/x,R=Math.sqrt(1-I*I),X=Math.exp(-l.y/x),xe=Math.PI/2-2*Math.atan(X),De=0,qe=.1,lt;De<15&&Math.abs(qe)>1e-7;De++)lt=R*Math.sin(xe),lt=Math.pow((1-lt)/(1+lt),R/2),qe=Math.PI/2-2*Math.atan(X*lt)-xe,xe+=qe;return new ve(xe*f,l.x*f/x)}},Yo={__proto__:null,LonLat:Zo,Mercator:cr,SphericalMercator:Je},Ms=s({},Fe,{code:"EPSG:3395",projection:cr,transformation:function(){var l=.5/(Math.PI*cr.R);return gt(l,.5,-l,.5)}()}),Eo=s({},Fe,{code:"EPSG:4326",projection:Zo,transformation:gt(1/180,1,-1/180,.5)}),fa=s({},Me,{projection:Zo,transformation:gt(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,f){var x=f.lng-l.lng,I=f.lat-l.lat;return Math.sqrt(x*x+I*I)},infinite:!0});Me.Earth=Fe,Me.EPSG3395=Ms,Me.EPSG3857=ut,Me.EPSG900913=Ye,Me.EPSG4326=Eo,Me.Simple=fa;var xn=Le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[v(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[v(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var f=l.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var x=this.getEvents();f.on(x,this),this.once("remove",function(){f.off(x,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});gn.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var f=v(l);return this._layers[f]?this:(this._layers[f]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var f=v(l);return this._layers[f]?(this._loaded&&l.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return v(l)in this._layers},eachLayer:function(l,f){for(var x in this._layers)l.call(f,this._layers[x]);return this},_addLayers:function(l){l=l?F(l)?l:[l]:[];for(var f=0,x=l.length;f<x;f++)this.addLayer(l[f])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[v(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var f=v(l);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,f=-1/0,x=this._getZoomSpan();for(var I in this._zoomBoundLayers){var R=this._zoomBoundLayers[I].options;l=R.minZoom===void 0?l:Math.min(l,R.minZoom),f=R.maxZoom===void 0?f:Math.max(f,R.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=l===1/0?void 0:l,x!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Jr=xn.extend({initialize:function(l,f){D(this,f),this._layers={};var x,I;if(l)for(x=0,I=l.length;x<I;x++)this.addLayer(l[x])},addLayer:function(l){var f=this.getLayerId(l);return this._layers[f]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var f=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(l){var f=typeof l=="number"?l:this.getLayerId(l);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var f=Array.prototype.slice.call(arguments,1),x,I;for(x in this._layers)I=this._layers[x],I[l]&&I[l].apply(I,f);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,f){for(var x in this._layers)l.call(f,this._layers[x]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return v(l)}}),$r=function(l,f){return new Jr(l,f)},Mi=Jr.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),Jr.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),Jr.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new oe;for(var f in this._layers){var x=this._layers[f];l.extend(x.getBounds?x.getBounds():x.getLatLng())}return l}}),vr=function(l,f){return new Mi(l,f)},Ki=me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){D(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,f){var x=this._getIconUrl(l);if(!x){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var I=this._createImg(x,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(I,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(I.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),I},_setIconStyles:function(l,f){var x=this.options,I=x[f+"Size"];typeof I=="number"&&(I=[I,I]);var R=Ie(I),X=Ie(f==="shadow"&&x.shadowAnchor||x.iconAnchor||R&&R.divideBy(2,!0));l.className="leaflet-marker-"+f+" "+(x.className||""),X&&(l.style.marginLeft=-X.x+"px",l.style.marginTop=-X.y+"px"),R&&(l.style.width=R.x+"px",l.style.height=R.y+"px")},_createImg:function(l,f){return f=f||document.createElement("img"),f.src=l,f},_getIconUrl:function(l){return mt.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function Os(l){return new Ki(l)}var Xo=Ki.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof Xo.imagePath!="string"&&(Xo.imagePath=this._detectIconPath()),(this.options.imagePath||Xo.imagePath)+Ki.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var f=function(x,I,R){var X=I.exec(x);return X&&X[R]};return l=f(l,/^url\((['"])?(.+)\1\)$/,2),l&&f(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=wn("div","leaflet-default-icon-path",document.body),f=hn(l,"background-image")||hn(l,"backgroundImage");if(document.body.removeChild(l),f=this._stripUrl(f),f)return f;var x=document.querySelector('link[href$="leaflet.css"]');return x?x.href.substring(0,x.href.length-11-1):""}}),No=re.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new Xe(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),St(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&An(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var f=this._marker,x=f._map,I=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,X=Gn(f._icon),xe=x.getPixelBounds(),De=x.getPixelOrigin(),qe=V(xe.min._subtract(De).add(R),xe.max._subtract(De).subtract(R));if(!qe.contains(X)){var lt=Ie((Math.max(qe.max.x,X.x)-qe.max.x)/(xe.max.x-qe.max.x)-(Math.min(qe.min.x,X.x)-qe.min.x)/(xe.min.x-qe.min.x),(Math.max(qe.max.y,X.y)-qe.max.y)/(xe.max.y-qe.max.y)-(Math.min(qe.min.y,X.y)-qe.min.y)/(xe.min.y-qe.min.y)).multiplyBy(I);x.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),dt(f._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=K(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,l)))},_onDrag:function(l){var f=this._marker,x=f._shadow,I=Gn(f._icon),R=f._map.layerPointToLatLng(I);x&&dt(x,I),f._latlng=R,l.latlng=R,l.oldLatLng=this._oldLatLng,f.fire("move",l).fire("drag",l)},_onDragEnd:function(l){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),Or=xn.extend({options:{icon:new Xo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,f){D(this,f),this._latlng=ue(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var f=this._latlng;return this._latlng=ue(l),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),x=l.icon.createIcon(this._icon),I=!1;x!==this._icon&&(this._icon&&this._removeIcon(),I=!0,l.title&&(x.title=l.title),x.tagName==="IMG"&&(x.alt=l.alt||"")),St(x,f),l.keyboard&&(x.tabIndex="0",x.setAttribute("role","button")),this._icon=x,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&en(x,"focus",this._panOnFocus,this);var R=l.icon.createShadow(this._shadow),X=!1;R!==this._shadow&&(this._removeShadow(),X=!0),R&&(St(R,f),R.alt=""),this._shadow=R,l.opacity<1&&this._updateOpacity(),I&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&X&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wt(this._icon,"focus",this._panOnFocus,this),Vn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Vn(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&dt(this._icon,l),this._shadow&&dt(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(St(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),No)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new No(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&dn(this._icon,l),this._shadow&&dn(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var f=this.options.icon.options,x=f.iconSize?Ie(f.iconSize):Ie(0,0),I=f.iconAnchor?Ie(f.iconAnchor):Ie(0,0);l.panInside(this._latlng,{paddingTopLeft:I,paddingBottomRight:x.subtract(I)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Oi(l,f){return new Or(l,f)}var dr=xn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return D(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),vi=dr.extend({options:{fill:!0,radius:10},initialize:function(l,f){D(this,f),this._latlng=ue(l),this._radius=this.options.radius},setLatLng:function(l){var f=this._latlng;return this._latlng=ue(l),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var f=l&&l.radius||this._radius;return dr.prototype.setStyle.call(this,l),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,f=this._radiusY||l,x=this._clickTolerance(),I=[l+x,f+x];this._pxBounds=new He(this._point.subtract(I),this._point.add(I))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function pn(l,f){return new vi(l,f)}var ki=vi.extend({initialize:function(l,f,x){if(typeof f=="number"&&(f=s({},x,{radius:f})),D(this,f),this._latlng=ue(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new oe(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:dr.prototype.setStyle,_project:function(){var l=this._latlng.lng,f=this._latlng.lat,x=this._map,I=x.options.crs;if(I.distance===Fe.distance){var R=Math.PI/180,X=this._mRadius/Fe.R/R,xe=x.project([f+X,l]),De=x.project([f-X,l]),qe=xe.add(De).divideBy(2),lt=x.unproject(qe).lat,bt=Math.acos((Math.cos(X*R)-Math.sin(f*R)*Math.sin(lt*R))/(Math.cos(f*R)*Math.cos(lt*R)))/R;(isNaN(bt)||bt===0)&&(bt=X/Math.cos(Math.PI/180*f)),this._point=qe.subtract(x.getPixelOrigin()),this._radius=isNaN(bt)?0:qe.x-x.project([lt,l-bt]).x,this._radiusY=qe.y-xe.y}else{var Yt=I.unproject(I.project(this._latlng).subtract([this._mRadius,0]));this._point=x.latLngToLayerPoint(this._latlng),this._radius=this._point.x-x.latLngToLayerPoint(Yt).x}this._updateBounds()}});function U(l,f,x){return new ki(l,f,x)}var r=dr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,f){D(this,f),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var f=1/0,x=null,I=Xi,R,X,xe=0,De=this._parts.length;xe<De;xe++)for(var qe=this._parts[xe],lt=1,bt=qe.length;lt<bt;lt++){R=qe[lt-1],X=qe[lt];var Yt=I(l,R,X,!0);Yt<f&&(f=Yt,x=I(l,R,X))}return x&&(x.distance=Math.sqrt(f)),x},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Go(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,f){return f=f||this._defaultShape(),l=ue(l),f.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new oe,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return Mr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var f=[],x=Mr(l),I=0,R=l.length;I<R;I++)x?(f[I]=ue(l[I]),this._bounds.extend(f[I])):f[I]=this._convertLatLngs(l[I]);return f},_project:function(){var l=new He;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),f=new he(l,l);this._rawPxBounds&&(this._pxBounds=new He([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(l,f,x){var I=l[0]instanceof ve,R=l.length,X,xe;if(I){for(xe=[],X=0;X<R;X++)xe[X]=this._map.latLngToLayerPoint(l[X]),x.extend(xe[X]);f.push(xe)}else for(X=0;X<R;X++)this._projectLatlngs(l[X],f,x)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,x,I,R,X,xe,De,qe;for(x=0,R=0,X=this._rings.length;x<X;x++)for(qe=this._rings[x],I=0,xe=qe.length;I<xe-1;I++)De=ar(qe[I],qe[I+1],l,I,!0),De&&(f[R]=f[R]||[],f[R].push(De[0]),(De[1]!==qe[I+1]||I===xe-2)&&(f[R].push(De[1]),R++))}},_simplifyPoints:function(){for(var l=this._parts,f=this.options.smoothFactor,x=0,I=l.length;x<I;x++)l[x]=Nt(l[x],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,f){var x,I,R,X,xe,De,qe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(x=0,X=this._parts.length;x<X;x++)for(De=this._parts[x],I=0,xe=De.length,R=xe-1;I<xe;R=I++)if(!(!f&&I===0)&&In(l,De[R],De[I])<=qe)return!0;return!1}});function o(l,f){return new r(l,f)}r._flat=fo;var u=r.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Et(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var f=r.prototype._convertLatLngs.call(this,l),x=f.length;return x>=2&&f[0]instanceof ve&&f[0].equals(f[x-1])&&f.pop(),f},_setLatLngs:function(l){r.prototype._setLatLngs.call(this,l),Mr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Mr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,f=this.options.weight,x=new he(f,f);if(l=new He(l.min.subtract(x),l.max.add(x)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var I=0,R=this._rings.length,X;I<R;I++)X=at(this._rings[I],l,!0),X.length&&this._parts.push(X)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var f=!1,x,I,R,X,xe,De,qe,lt;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(X=0,qe=this._parts.length;X<qe;X++)for(x=this._parts[X],xe=0,lt=x.length,De=lt-1;xe<lt;De=xe++)I=x[xe],R=x[De],I.y>l.y!=R.y>l.y&&l.x<(R.x-I.x)*(l.y-I.y)/(R.y-I.y)+I.x&&(f=!f);return f||r.prototype._containsPoint.call(this,l,!0)}});function c(l,f){return new u(l,f)}var h=Mi.extend({initialize:function(l,f){D(this,f),this._layers={},l&&this.addData(l)},addData:function(l){var f=F(l)?l:l.features,x,I,R;if(f){for(x=0,I=f.length;x<I;x++)R=f[x],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var X=this.options;if(X.filter&&!X.filter(l))return this;var xe=p(l,X);return xe?(xe.feature=ie(l),xe.defaultOptions=xe.options,this.resetStyle(xe),X.onEachFeature&&X.onEachFeature(l,xe),this.addLayer(xe)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=s({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(f){this._setLayerStyle(f,l)},this)},_setLayerStyle:function(l,f){l.setStyle&&(typeof f=="function"&&(f=f(l.feature)),l.setStyle(f))}});function p(l,f){var x=l.type==="Feature"?l.geometry:l,I=x?x.coordinates:null,R=[],X=f&&f.pointToLayer,xe=f&&f.coordsToLatLng||b,De,qe,lt,bt;if(!I&&!x)return null;switch(x.type){case"Point":return De=xe(I),w(X,l,De,f);case"MultiPoint":for(lt=0,bt=I.length;lt<bt;lt++)De=xe(I[lt]),R.push(w(X,l,De,f));return new Mi(R);case"LineString":case"MultiLineString":return qe=N(I,x.type==="LineString"?0:1,xe),new r(qe,f);case"Polygon":case"MultiPolygon":return qe=N(I,x.type==="Polygon"?1:2,xe),new u(qe,f);case"GeometryCollection":for(lt=0,bt=x.geometries.length;lt<bt;lt++){var Yt=p({geometry:x.geometries[lt],type:"Feature",properties:l.properties},f);Yt&&R.push(Yt)}return new Mi(R);case"FeatureCollection":for(lt=0,bt=x.features.length;lt<bt;lt++){var En=p(x.features[lt],f);En&&R.push(En)}return new Mi(R);default:throw new Error("Invalid GeoJSON object.")}}function w(l,f,x,I){return l?l(f,x):new Or(x,I&&I.markersInheritOptions&&I)}function b(l){return new ve(l[1],l[0],l[2])}function N(l,f,x){for(var I=[],R=0,X=l.length,xe;R<X;R++)xe=f?N(l[R],f-1,x):(x||b)(l[R]),I.push(xe);return I}function O(l,f){return l=ue(l),l.alt!==void 0?[P(l.lng,f),P(l.lat,f),P(l.alt,f)]:[P(l.lng,f),P(l.lat,f)]}function z(l,f,x,I){for(var R=[],X=0,xe=l.length;X<xe;X++)R.push(f?z(l[X],Mr(l[X])?0:f-1,x,I):O(l[X],I));return!f&&x&&R.length>0&&R.push(R[0].slice()),R}function G(l,f){return l.feature?s({},l.feature,{geometry:f}):ie(f)}function ie(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var we={toGeoJSON:function(l){return G(this,{type:"Point",coordinates:O(this.getLatLng(),l)})}};Or.include(we),ki.include(we),vi.include(we),r.include({toGeoJSON:function(l){var f=!Mr(this._latlngs),x=z(this._latlngs,f?1:0,!1,l);return G(this,{type:(f?"Multi":"")+"LineString",coordinates:x})}}),u.include({toGeoJSON:function(l){var f=!Mr(this._latlngs),x=f&&!Mr(this._latlngs[0]),I=z(this._latlngs,x?2:f?1:0,!0,l);return f||(I=[I]),G(this,{type:(x?"Multi":"")+"Polygon",coordinates:I})}}),Jr.include({toMultiPoint:function(l){var f=[];return this.eachLayer(function(x){f.push(x.toGeoJSON(l).geometry.coordinates)}),G(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(l){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(l);var x=f==="GeometryCollection",I=[];return this.eachLayer(function(R){if(R.toGeoJSON){var X=R.toGeoJSON(l);if(x)I.push(X.geometry);else{var xe=ie(X);xe.type==="FeatureCollection"?I.push.apply(I,xe.features):I.push(xe)}}}),x?G(this,{geometries:I,type:"GeometryCollection"}):{type:"FeatureCollection",features:I}}});function Ae(l,f){return new h(l,f)}var Te=Ae,ze=xn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,f,x){this._url=l,this._bounds=se(f),D(this,x)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(St(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Vn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&qn(this._image),this},bringToBack:function(){return this._map&&hi(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=se(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",f=this._image=l?this._url:wn("img");if(St(f,"leaflet-image-layer"),this._zoomAnimated&&St(f,"leaflet-zoom-animated"),this.options.className&&St(f,this.options.className),f.onselectstart=C,f.onmousemove=C,f.onload=d(this.fire,this,"load"),f.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(l){var f=this._map.getZoomScale(l.zoom),x=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;ne(this._image,x,f)},_reset:function(){var l=this._image,f=new He(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),x=f.getSize();dt(l,f.min),l.style.width=x.x+"px",l.style.height=x.y+"px"},_updateOpacity:function(){dn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),$e=function(l,f,x){return new ze(l,f,x)},rt=ze.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",f=this._image=l?this._url:wn("video");if(St(f,"leaflet-image-layer"),this._zoomAnimated&&St(f,"leaflet-zoom-animated"),this.options.className&&St(f,this.options.className),f.onselectstart=C,f.onmousemove=C,f.onloadeddata=d(this.fire,this,"load"),l){for(var x=f.getElementsByTagName("source"),I=[],R=0;R<x.length;R++)I.push(x[R].src);this._url=x.length>0?I:[f.src];return}F(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var X=0;X<this._url.length;X++){var xe=wn("source");xe.src=this._url[X],f.appendChild(xe)}}});function tt(l,f,x){return new rt(l,f,x)}var Wt=ze.extend({_initImage:function(){var l=this._image=this._url;St(l,"leaflet-image-layer"),this._zoomAnimated&&St(l,"leaflet-zoom-animated"),this.options.className&&St(l,this.options.className),l.onselectstart=C,l.onmousemove=C}});function Jt(l,f,x){return new Wt(l,f,x)}var Xn=xn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,f){l&&(l instanceof ve||F(l))?(this._latlng=ue(l),D(this,f)):(D(this,l),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&dn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&dn(this._container,1),this.bringToFront(),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(dn(this._container,0),this._removeTimeout=setTimeout(d(Vn,void 0,this._container),200)):Vn(this._container),this.options.interactive&&(An(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=ue(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qn(this._container),this},bringToBack:function(){return this._map&&hi(this._container),this},_prepareOpen:function(l){var f=this._source;if(!f._map)return!1;if(f instanceof Mi){f=null;var x=this._source._layers;for(var I in x)if(x[I]._map){f=x[I];break}if(!f)return!1;this._source=f}if(!l)if(f.getCenter)l=f.getCenter();else if(f.getLatLng)l=f.getLatLng();else if(f.getBounds)l=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")l.innerHTML=f;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),f=Ie(this.options.offset),x=this._getAnchor();this._zoomAnimated?dt(this._container,l.add(x)):f=f.add(l).add(x);var I=this._containerBottom=-f.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=I+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});gn.include({_initOverlay:function(l,f,x,I){var R=f;return R instanceof l||(R=new l(I).setContent(f)),x&&R.setLatLng(x),R}}),xn.include({_initOverlay:function(l,f,x,I){var R=x;return R instanceof l?(D(R,I),R._source=this):(R=f&&!I?f:new l(I,this),R.setContent(x)),R}});var kr=Xn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Xn.prototype.openOn.call(this,l)},onAdd:function(l){Xn.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof dr||this._source.on("preclick",co))},onRemove:function(l){Xn.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof dr||this._source.off("preclick",co))},getEvents:function(){var l=Xn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",f=this._container=wn("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),x=this._wrapper=wn("div",l+"-content-wrapper",f);if(this._contentNode=wn("div",l+"-content",x),mi(f),qo(this._contentNode),en(f,"contextmenu",co),this._tipContainer=wn("div",l+"-tip-container",f),this._tip=wn("div",l+"-tip",this._tipContainer),this.options.closeButton){var I=this._closeButton=wn("a",l+"-close-button",f);I.setAttribute("role","button"),I.setAttribute("aria-label","Close popup"),I.href="#close",I.innerHTML='<span aria-hidden="true">&#215;</span>',en(I,"click",function(R){ur(R),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,f=l.style;f.width="",f.whiteSpace="nowrap";var x=l.offsetWidth;x=Math.min(x,this.options.maxWidth),x=Math.max(x,this.options.minWidth),f.width=x+1+"px",f.whiteSpace="",f.height="";var I=l.offsetHeight,R=this.options.maxHeight,X="leaflet-popup-scrolled";R&&I>R?(f.height=R+"px",St(l,X)):An(l,X),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),x=this._getAnchor();dt(this._container,f.add(x))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,f=parseInt(hn(this._container,"marginBottom"),10)||0,x=this._container.offsetHeight+f,I=this._containerWidth,R=new he(this._containerLeft,-x-this._containerBottom);R._add(Gn(this._container));var X=l.layerPointToContainerPoint(R),xe=Ie(this.options.autoPanPadding),De=Ie(this.options.autoPanPaddingTopLeft||xe),qe=Ie(this.options.autoPanPaddingBottomRight||xe),lt=l.getSize(),bt=0,Yt=0;X.x+I+qe.x>lt.x&&(bt=X.x+I-lt.x+qe.x),X.x-bt-De.x<0&&(bt=X.x-De.x),X.y+x+qe.y>lt.y&&(Yt=X.y+x-lt.y+qe.y),X.y-Yt-De.y<0&&(Yt=X.y-De.y),(bt||Yt)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([bt,Yt]))}},_getAnchor:function(){return Ie(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ei=function(l,f){return new kr(l,f)};gn.mergeOptions({closePopupOnClick:!0}),gn.include({openPopup:function(l,f,x){return this._initOverlay(kr,l,f,x).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),xn.include({bindPopup:function(l,f){return this._popup=this._initOverlay(kr,this._popup,l,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof Mi||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){fi(l);var f=l.layer||l.target;if(this._popup._source===f&&!(f instanceof dr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=f,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var On=Xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Xn.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Xn.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Xn.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",f=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=wn("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var f,x,I=this._map,R=this._container,X=I.latLngToContainerPoint(I.getCenter()),xe=I.layerPointToContainerPoint(l),De=this.options.direction,qe=R.offsetWidth,lt=R.offsetHeight,bt=Ie(this.options.offset),Yt=this._getAnchor();De==="top"?(f=qe/2,x=lt):De==="bottom"?(f=qe/2,x=0):De==="center"?(f=qe/2,x=lt/2):De==="right"?(f=0,x=lt/2):De==="left"?(f=qe,x=lt/2):xe.x<X.x?(De="right",f=0,x=lt/2):(De="left",f=qe+(bt.x+Yt.x)*2,x=lt/2),l=l.subtract(Ie(f,x,!0)).add(bt).add(Yt),An(R,"leaflet-tooltip-right"),An(R,"leaflet-tooltip-left"),An(R,"leaflet-tooltip-top"),An(R,"leaflet-tooltip-bottom"),St(R,"leaflet-tooltip-"+De),dt(R,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&dn(this._container,l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(f)},_getAnchor:function(){return Ie(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Wr=function(l,f){return new On(l,f)};gn.include({openTooltip:function(l,f,x){return this._initOverlay(On,l,f,x).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),xn.include({bindTooltip:function(l,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(On,this._tooltip,l,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var f=l?"off":"on",x={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?x.add=this._openTooltip:(x.mouseover=this._openTooltip,x.mouseout=this.closeTooltip,x.click=this._openTooltip,this._map?this._addFocusListeners():x.add=this._addFocusListeners),this._tooltip.options.sticky&&(x.mousemove=this._moveTooltip),this[f](x),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof Mi||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&(en(f,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),en(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var f=l.latlng,x,I;this._tooltip.options.sticky&&l.originalEvent&&(x=this._map.mouseEventToContainerPoint(l.originalEvent),I=this._map.containerPointToLayerPoint(x),f=this._map.layerPointToLatLng(I)),this._tooltip.setLatLng(f)}});var yi=Ki.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var f=l&&l.tagName==="DIV"?l:document.createElement("div"),x=this.options;if(x.html instanceof Element?($n(f),f.appendChild(x.html)):f.innerHTML=x.html!==!1?x.html:"",x.bgPos){var I=Ie(x.bgPos);f.style.backgroundPosition=-I.x+"px "+-I.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function ks(l){return new yi(l)}Ki.Default=Xo;var po=xn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:mt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){D(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),Vn(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(hi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof he?l:new he(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var f=this.getPane().children,x=-l(-1/0,1/0),I=0,R=f.length,X;I<R;I++)X=f[I].style.zIndex,f[I]!==this._container&&X&&(x=l(x,+X));isFinite(x)&&(this.options.zIndex=x+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!mt.ielt9){dn(this._container,this.options.opacity);var l=+new Date,f=!1,x=!1;for(var I in this._tiles){var R=this._tiles[I];if(!(!R.current||!R.loaded)){var X=Math.min(1,(l-R.loaded)/200);dn(R.el,X),X<1?f=!0:(R.active?x=!0:this._onOpaqueTile(R),R.active=!0)}}x&&!this._noPrune&&this._pruneTiles(),f&&($(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=wn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,f=this.options.maxZoom;if(l!==void 0){for(var x in this._levels)x=Number(x),this._levels[x].el.children.length||x===l?(this._levels[x].el.style.zIndex=f-Math.abs(l-x),this._onUpdateLevel(x)):(Vn(this._levels[x].el),this._removeTilesAtZoom(x),this._onRemoveLevel(x),delete this._levels[x]);var I=this._levels[l],R=this._map;return I||(I=this._levels[l]={},I.el=wn("div","leaflet-tile-container leaflet-zoom-animated",this._container),I.el.style.zIndex=f,I.origin=R.project(R.unproject(R.getPixelOrigin()),l).round(),I.zoom=l,this._setZoomTransform(I,R.getCenter(),R.getZoom()),C(I.el.offsetWidth),this._onCreateLevel(I)),this._level=I,I}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var l,f,x=this._map.getZoom();if(x>this.options.maxZoom||x<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)f=this._tiles[l],f.retain=f.current;for(l in this._tiles)if(f=this._tiles[l],f.current&&!f.active){var I=f.coords;this._retainParent(I.x,I.y,I.z,I.z-5)||this._retainChildren(I.x,I.y,I.z,I.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var f in this._tiles)this._tiles[f].coords.z===l&&this._removeTile(f)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)Vn(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,f,x,I){var R=Math.floor(l/2),X=Math.floor(f/2),xe=x-1,De=new he(+R,+X);De.z=+xe;var qe=this._tileCoordsToKey(De),lt=this._tiles[qe];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),xe>I?this._retainParent(R,X,xe,I):!1)},_retainChildren:function(l,f,x,I){for(var R=2*l;R<2*l+2;R++)for(var X=2*f;X<2*f+2;X++){var xe=new he(R,X);xe.z=x+1;var De=this._tileCoordsToKey(xe),qe=this._tiles[De];if(qe&&qe.active){qe.retain=!0;continue}else qe&&qe.loaded&&(qe.retain=!0);x+1<I&&this._retainChildren(R,X,x+1,I)}},_resetView:function(l){var f=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var f=this.options;return f.minNativeZoom!==void 0&&l<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<l?f.maxNativeZoom:l},_setView:function(l,f,x,I){var R=Math.round(f);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var X=this.options.updateWhenZooming&&R!==this._tileZoom;(!I||X)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(l),x||this._pruneTiles(),this._noPrune=!!x),this._setZoomTransforms(l,f)},_setZoomTransforms:function(l,f){for(var x in this._levels)this._setZoomTransform(this._levels[x],l,f)},_setZoomTransform:function(l,f,x){var I=this._map.getZoomScale(x,l.zoom),R=l.origin.multiplyBy(I).subtract(this._map._getNewPixelOrigin(f,x)).round();mt.any3d?ne(l.el,R,I):dt(l.el,R)},_resetGrid:function(){var l=this._map,f=l.options.crs,x=this._tileSize=this.getTileSize(),I=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,f.wrapLng[0]],I).x/x.x),Math.ceil(l.project([0,f.wrapLng[1]],I).x/x.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([f.wrapLat[0],0],I).y/x.x),Math.ceil(l.project([f.wrapLat[1],0],I).y/x.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var f=this._map,x=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),I=f.getZoomScale(x,this._tileZoom),R=f.project(l,this._tileZoom).floor(),X=f.getSize().divideBy(I*2);return new He(R.subtract(X),R.add(X))},_update:function(l){var f=this._map;if(f){var x=this._clampZoom(f.getZoom());if(l===void 0&&(l=f.getCenter()),this._tileZoom!==void 0){var I=this._getTiledPixelBounds(l),R=this._pxBoundsToTileRange(I),X=R.getCenter(),xe=[],De=this.options.keepBuffer,qe=new He(R.getBottomLeft().subtract([De,-De]),R.getTopRight().add([De,-De]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var bt=this._tiles[lt].coords;(bt.z!==this._tileZoom||!qe.contains(new he(bt.x,bt.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(x-this._tileZoom)>1){this._setView(l,x);return}for(var Yt=R.min.y;Yt<=R.max.y;Yt++)for(var En=R.min.x;En<=R.max.x;En++){var Ri=new he(En,Yt);if(Ri.z=this._tileZoom,!!this._isValidTile(Ri)){var ti=this._tiles[this._tileCoordsToKey(Ri)];ti?ti.current=!0:xe.push(Ri)}}if(xe.sort(function(Ji,Da){return Ji.distanceTo(X)-Da.distanceTo(X)}),xe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var To=document.createDocumentFragment();for(En=0;En<xe.length;En++)this._addTile(xe[En],To);this._level.el.appendChild(To)}}}},_isValidTile:function(l){var f=this._map.options.crs;if(!f.infinite){var x=this._globalTileRange;if(!f.wrapLng&&(l.x<x.min.x||l.x>x.max.x)||!f.wrapLat&&(l.y<x.min.y||l.y>x.max.y))return!1}if(!this.options.bounds)return!0;var I=this._tileCoordsToBounds(l);return se(this.options.bounds).overlaps(I)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var f=this._map,x=this.getTileSize(),I=l.scaleBy(x),R=I.add(x),X=f.unproject(I,l.z),xe=f.unproject(R,l.z);return[X,xe]},_tileCoordsToBounds:function(l){var f=this._tileCoordsToNwSe(l),x=new oe(f[0],f[1]);return this.options.noWrap||(x=this._map.wrapLatLngBounds(x)),x},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var f=l.split(":"),x=new he(+f[0],+f[1]);return x.z=+f[2],x},_removeTile:function(l){var f=this._tiles[l];f&&(Vn(f.el),delete this._tiles[l],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){St(l,"leaflet-tile");var f=this.getTileSize();l.style.width=f.x+"px",l.style.height=f.y+"px",l.onselectstart=C,l.onmousemove=C,mt.ielt9&&this.options.opacity<1&&dn(l,this.options.opacity)},_addTile:function(l,f){var x=this._getTilePos(l),I=this._tileCoordsToKey(l),R=this.createTile(this._wrapCoords(l),d(this._tileReady,this,l));this._initTile(R),this.createTile.length<2&&K(d(this._tileReady,this,l,null,R)),dt(R,x),this._tiles[I]={el:R,coords:l,current:!0},f.appendChild(R),this.fire("tileloadstart",{tile:R,coords:l})},_tileReady:function(l,f,x){f&&this.fire("tileerror",{error:f,tile:x,coords:l});var I=this._tileCoordsToKey(l);x=this._tiles[I],x&&(x.loaded=+new Date,this._map._fadeAnimated?(dn(x.el,0),$(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(x.active=!0,this._pruneTiles()),f||(St(x.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:x.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),mt.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var f=new he(this._wrapX?_(l.x,this._wrapX):l.x,this._wrapY?_(l.y,this._wrapY):l.y);return f.z=l.z,f},_pxBoundsToTileRange:function(l){var f=this.getTileSize();return new He(l.min.unscaleBy(f).floor(),l.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function Wl(l){return new po(l)}var Io=po.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,f){this._url=l,f=D(this,f),f.detectRetina&&mt.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,f){return this._url===l&&f===void 0&&(f=!0),this._url=l,f||this.redraw(),this},createTile:function(l,f){var x=document.createElement("img");return en(x,"load",d(this._tileOnLoad,this,f,x)),en(x,"error",d(this._tileOnError,this,f,x)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(x.referrerPolicy=this.options.referrerPolicy),x.alt="",x.src=this.getTileUrl(l),x},getTileUrl:function(l){var f={r:mt.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var x=this._globalTileRange.max.y-l.y;this.options.tms&&(f.y=x),f["-y"]=x}return B(this._url,s(f,this.options))},_tileOnLoad:function(l,f){mt.ielt9?setTimeout(d(l,this,null,f),0):l(null,f)},_tileOnError:function(l,f,x){var I=this.options.errorTileUrl;I&&f.getAttribute("src")!==I&&(f.src=I),l(x,f)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,f=this.options.maxZoom,x=this.options.zoomReverse,I=this.options.zoomOffset;return x&&(l=f-l),l+I},_getSubdomain:function(l){var f=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var l,f;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(f=this._tiles[l].el,f.onload=C,f.onerror=C,!f.complete)){f.src=ye;var x=this._tiles[l].coords;Vn(f),delete this._tiles[l],this.fire("tileabort",{tile:f,coords:x})}},_removeTile:function(l){var f=this._tiles[l];if(f)return f.el.setAttribute("src",ye),po.prototype._removeTile.call(this,l)},_tileReady:function(l,f,x){if(!(!this._map||x&&x.getAttribute("src")===ye))return po.prototype._tileReady.call(this,l,f,x)}});function Wu(l,f){return new Io(l,f)}var Vu=Io.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,f){this._url=l;var x=s({},this.defaultWmsParams);for(var I in f)I in this.options||(x[I]=f[I]);f=D(this,f);var R=f.detectRetina&&mt.retina?2:1,X=this.getTileSize();x.width=X.x*R,x.height=X.y*R,this.wmsParams=x},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Io.prototype.onAdd.call(this,l)},getTileUrl:function(l){var f=this._tileCoordsToNwSe(l),x=this._crs,I=V(x.project(f[0]),x.project(f[1])),R=I.min,X=I.max,xe=(this._wmsVersion>=1.3&&this._crs===Eo?[R.y,R.x,X.y,X.x]:[R.x,R.y,X.x,X.y]).join(","),De=Io.prototype.getTileUrl.call(this,l);return De+q(this.wmsParams,De,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+xe},setParams:function(l,f){return s(this.wmsParams,l),f||this.redraw(),this}});function th(l,f){return new Vu(l,f)}Io.WMS=Vu,Wu.wms=th;var ms=xn.extend({options:{padding:.1},initialize:function(l){D(this,l),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),St(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,f){var x=this._map.getZoomScale(f,this._zoom),I=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,f),X=I.multiplyBy(-x).add(R).subtract(this._map._getNewPixelOrigin(l,f));mt.any3d?ne(this._container,X,x):dt(this._container,X)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,f=this._map.getSize(),x=this._map.containerPointToLayerPoint(f.multiplyBy(-l)).round();this._bounds=new He(x,x.add(f.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qu=ms.extend({options:{tolerance:0},getEvents:function(){var l=ms.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ms.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");en(l,"mousemove",this._onMouseMove,this),en(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),en(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,Vn(this._container),wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var f in this._layers)l=this._layers[f],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ms.prototype._update.call(this);var l=this._bounds,f=this._container,x=l.getSize(),I=mt.retina?2:1;dt(f,l.min),f.width=I*x.x,f.height=I*x.y,f.style.width=x.x+"px",f.style.height=x.y+"px",mt.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){ms.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[v(l)]=l;var f=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var f=l._order,x=f.next,I=f.prev;x?x.prev=I:this._drawLast=I,I?I.next=x:this._drawFirst=x,delete l._order,delete this._layers[v(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var f=l.options.dashArray.split(/[, ]+/),x=[],I,R;for(R=0;R<f.length;R++){if(I=Number(f[R]),isNaN(I))return;x.push(I)}l.options._dashArray=x}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var f=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new He,this._redrawBounds.extend(l._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(l._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var f=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,f=this._redrawBounds;if(this._ctx.save(),f){var x=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,x.x,x.y),this._ctx.clip()}this._drawing=!0;for(var I=this._drawFirst;I;I=I.next)l=I.layer,(!f||l._pxBounds&&l._pxBounds.intersects(f))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,f){if(this._drawing){var x,I,R,X,xe=l._parts,De=xe.length,qe=this._ctx;if(De){for(qe.beginPath(),x=0;x<De;x++){for(I=0,R=xe[x].length;I<R;I++)X=xe[x][I],qe[I?"lineTo":"moveTo"](X.x,X.y);f&&qe.closePath()}this._fillStroke(qe,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var f=l._point,x=this._ctx,I=Math.max(Math.round(l._radius),1),R=(Math.max(Math.round(l._radiusY),1)||I)/I;R!==1&&(x.save(),x.scale(1,R)),x.beginPath(),x.arc(f.x,f.y/R,I,0,Math.PI*2,!1),R!==1&&x.restore(),this._fillStroke(x,l)}},_fillStroke:function(l,f){var x=f.options;x.fill&&(l.globalAlpha=x.fillOpacity,l.fillStyle=x.fillColor||x.color,l.fill(x.fillRule||"evenodd")),x.stroke&&x.weight!==0&&(l.setLineDash&&l.setLineDash(f.options&&f.options._dashArray||[]),l.globalAlpha=x.opacity,l.lineWidth=x.weight,l.strokeStyle=x.color,l.lineCap=x.lineCap,l.lineJoin=x.lineJoin,l.stroke())},_onClick:function(l){for(var f=this._map.mouseEventToLayerPoint(l),x,I,R=this._drawFirst;R;R=R.next)x=R.layer,x.options.interactive&&x._containsPoint(f)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(x))&&(I=x);this._fireEvent(I?[I]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,f)}},_handleMouseOut:function(l){var f=this._hoveredLayer;f&&(An(this._container,"leaflet-interactive"),this._fireEvent([f],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,f){if(!this._mouseHoverThrottled){for(var x,I,R=this._drawFirst;R;R=R.next)x=R.layer,x.options.interactive&&x._containsPoint(f)&&(I=x);I!==this._hoveredLayer&&(this._handleMouseOut(l),I&&(St(this._container,"leaflet-interactive"),this._fireEvent([I],l,"mouseover"),this._hoveredLayer=I)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,f,x){this._map._fireDOMEvent(f,x||f.type,l)},_bringToFront:function(l){var f=l._order;if(f){var x=f.next,I=f.prev;if(x)x.prev=I;else return;I?I.next=x:x&&(this._drawFirst=x),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(l)}},_bringToBack:function(l){var f=l._order;if(f){var x=f.next,I=f.prev;if(I)I.next=x;else return;x?x.prev=I:I&&(this._drawLast=I),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(l)}}});function Gu(l){return mt.canvas?new qu(l):null}var ka=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),nh={_initContainer:function(){this._container=wn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ms.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var f=l._container=ka("shape");St(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",l._path=ka("path"),f.appendChild(l._path),this._updateStyle(l),this._layers[v(l)]=l},_addPath:function(l){var f=l._container;this._container.appendChild(f),l.options.interactive&&l.addInteractiveTarget(f)},_removePath:function(l){var f=l._container;Vn(f),l.removeInteractiveTarget(f),delete this._layers[v(l)]},_updateStyle:function(l){var f=l._stroke,x=l._fill,I=l.options,R=l._container;R.stroked=!!I.stroke,R.filled=!!I.fill,I.stroke?(f||(f=l._stroke=ka("stroke")),R.appendChild(f),f.weight=I.weight+"px",f.color=I.color,f.opacity=I.opacity,I.dashArray?f.dashStyle=F(I.dashArray)?I.dashArray.join(" "):I.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=I.lineCap.replace("butt","flat"),f.joinstyle=I.lineJoin):f&&(R.removeChild(f),l._stroke=null),I.fill?(x||(x=l._fill=ka("fill")),R.appendChild(x),x.color=I.fillColor||I.color,x.opacity=I.fillOpacity):x&&(R.removeChild(x),l._fill=null)},_updateCircle:function(l){var f=l._point.round(),x=Math.round(l._radius),I=Math.round(l._radiusY||x);this._setPath(l,l._empty()?"M0 0":"AL "+f.x+","+f.y+" "+x+","+I+" 0,"+65535*360)},_setPath:function(l,f){l._path.v=f},_bringToFront:function(l){qn(l._container)},_bringToBack:function(l){hi(l._container)}},Ra=mt.vml?ka:pe,Js=ms.extend({_initContainer:function(){this._container=Ra("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ra("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Vn(this._container),wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ms.prototype._update.call(this);var l=this._bounds,f=l.getSize(),x=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,x.setAttribute("width",f.x),x.setAttribute("height",f.y)),dt(x,l.min),x.setAttribute("viewBox",[l.min.x,l.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(l){var f=l._path=Ra("path");l.options.className&&St(f,l.options.className),l.options.interactive&&St(f,"leaflet-interactive"),this._updateStyle(l),this._layers[v(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){Vn(l._path),l.removeInteractiveTarget(l._path),delete this._layers[v(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var f=l._path,x=l.options;f&&(x.stroke?(f.setAttribute("stroke",x.color),f.setAttribute("stroke-opacity",x.opacity),f.setAttribute("stroke-width",x.weight),f.setAttribute("stroke-linecap",x.lineCap),f.setAttribute("stroke-linejoin",x.lineJoin),x.dashArray?f.setAttribute("stroke-dasharray",x.dashArray):f.removeAttribute("stroke-dasharray"),x.dashOffset?f.setAttribute("stroke-dashoffset",x.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),x.fill?(f.setAttribute("fill",x.fillColor||x.color),f.setAttribute("fill-opacity",x.fillOpacity),f.setAttribute("fill-rule",x.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(l,f){this._setPath(l,fn(l._parts,f))},_updateCircle:function(l){var f=l._point,x=Math.max(Math.round(l._radius),1),I=Math.max(Math.round(l._radiusY),1)||x,R="a"+x+","+I+" 0 1,0 ",X=l._empty()?"M0 0":"M"+(f.x-x)+","+f.y+R+x*2+",0 "+R+-x*2+",0 ";this._setPath(l,X)},_setPath:function(l,f){l._path.setAttribute("d",f)},_bringToFront:function(l){qn(l._path)},_bringToBack:function(l){hi(l._path)}});mt.vml&&Js.include(nh);function Qi(l){return mt.svg||mt.vml?new Js(l):null}gn.include({getRenderer:function(l){var f=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var f=this._paneRenderers[l];return f===void 0&&(f=this._createRenderer({pane:l}),this._paneRenderers[l]=f),f},_createRenderer:function(l){return this.options.preferCanvas&&Gu(l)||Qi(l)}});var go=u.extend({initialize:function(l,f){u.prototype.initialize.call(this,this._boundsToLatLngs(l),f)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=se(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function Vl(l,f){return new go(l,f)}Js.create=Ra,Js.pointsToPath=fn,h.geometryToLayer=p,h.coordsToLatLng=b,h.coordsToLatLngs=N,h.latLngToCoords=O,h.latLngsToCoords=z,h.getFeature=G,h.asFeature=ie,gn.mergeOptions({boxZoom:!0});var ml=re.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){en(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Vn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Tr(),Bt(),this._startPoint=this._map.mouseEventToContainerPoint(l),en(document,{contextmenu:fi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=wn("div","leaflet-zoom-box",this._container),St(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var f=new He(this._point,this._startPoint),x=f.getSize();dt(this._box,f.min),this._box.style.width=x.x+"px",this._box.style.height=x.y+"px"},_finish:function(){this._moved&&(Vn(this._box),An(this._container,"leaflet-crosshair")),qi(),Zn(),wt(document,{contextmenu:fi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var f=new oe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gn.addInitHook("addHandler","boxZoom",ml),gn.mergeOptions({doubleClickZoom:!0});var Zu=re.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var f=this._map,x=f.getZoom(),I=f.options.zoomDelta,R=l.originalEvent.shiftKey?x-I:x+I;f.options.doubleClickZoom==="center"?f.setZoom(R):f.setZoomAround(l.containerPoint,R)}});gn.addInitHook("addHandler","doubleClickZoom",Zu),gn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vl=re.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new Xe(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}St(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){An(this._map._container,"leaflet-grab"),An(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=se(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var f=this._lastTime=+new Date,x=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(x),this._times.push(f),this._prunePositions(f)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,f){return l-(l-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;l.x<f.min.x&&(l.x=this._viscousLimit(l.x,f.min.x)),l.y<f.min.y&&(l.y=this._viscousLimit(l.y,f.min.y)),l.x>f.max.x&&(l.x=this._viscousLimit(l.x,f.max.x)),l.y>f.max.y&&(l.y=this._viscousLimit(l.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,f=Math.round(l/2),x=this._initialWorldOffset,I=this._draggable._newPos.x,R=(I-f+x)%l+f-x,X=(I+f+x)%l-f-x,xe=Math.abs(R+x)<Math.abs(X+x)?R:X;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=xe},_onDragEnd:function(l){var f=this._map,x=f.options,I=!x.inertia||l.noInertia||this._times.length<2;if(f.fire("dragend",l),I)f.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),X=(this._lastTime-this._times[0])/1e3,xe=x.easeLinearity,De=R.multiplyBy(xe/X),qe=De.distanceTo([0,0]),lt=Math.min(x.inertiaMaxSpeed,qe),bt=De.multiplyBy(lt/qe),Yt=lt/(x.inertiaDeceleration*xe),En=bt.multiplyBy(-Yt/2).round();!En.x&&!En.y?f.fire("moveend"):(En=f._limitOffset(En,f.options.maxBounds),K(function(){f.panBy(En,{duration:Yt,easeLinearity:xe,noMoveStart:!0,animate:!0})}))}}});gn.addInitHook("addHandler","dragging",vl),gn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yl=re.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),en(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,f=document.documentElement,x=l.scrollTop||f.scrollTop,I=l.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(I,x)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var f=this._panKeys={},x=this.keyCodes,I,R;for(I=0,R=x.left.length;I<R;I++)f[x.left[I]]=[-1*l,0];for(I=0,R=x.right.length;I<R;I++)f[x.right[I]]=[l,0];for(I=0,R=x.down.length;I<R;I++)f[x.down[I]]=[0,l];for(I=0,R=x.up.length;I<R;I++)f[x.up[I]]=[0,-1*l]},_setZoomDelta:function(l){var f=this._zoomKeys={},x=this.keyCodes,I,R;for(I=0,R=x.zoomIn.length;I<R;I++)f[x.zoomIn[I]]=l;for(I=0,R=x.zoomOut.length;I<R;I++)f[x.zoomOut[I]]=-l},_addHooks:function(){en(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var f=l.keyCode,x=this._map,I;if(f in this._panKeys){if(!x._panAnim||!x._panAnim._inProgress)if(I=this._panKeys[f],l.shiftKey&&(I=Ie(I).multiplyBy(3)),x.options.maxBounds&&(I=x._limitOffset(Ie(I),x.options.maxBounds)),x.options.worldCopyJump){var R=x.wrapLatLng(x.unproject(x.project(x.getCenter()).add(I)));x.panTo(R)}else x.panBy(I)}else if(f in this._zoomKeys)x.setZoom(x.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&x._popup&&x._popup.options.closeOnEscapeKey)x.closePopup();else return;fi(l)}}});gn.addInitHook("addHandler","keyboard",yl),gn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ql=re.extend({addHooks:function(){en(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var f=So(l),x=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var I=Math.max(x-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),I),fi(l)},_performZoom:function(){var l=this._map,f=l.getZoom(),x=this._map.options.zoomSnap||0;l._stop();var I=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(I))))/Math.LN2,X=x?Math.ceil(R/x)*x:R,xe=l._limitZoom(f+(this._delta>0?X:-X))-f;this._delta=0,this._startTime=null,xe&&(l.options.scrollWheelZoom==="center"?l.setZoom(f+xe):l.setZoomAround(this._lastMousePos,f+xe))}});gn.addInitHook("addHandler","scrollWheelZoom",ql);var rh=600;gn.mergeOptions({tapHold:mt.touchNative&&mt.safari&&mt.mobile,tapTolerance:15});var Gl=re.extend({addHooks:function(){en(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var f=l.touches[0];this._startPos=this._newPos=new he(f.clientX,f.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(en(document,"touchend",ur),en(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),rh),en(document,"touchend touchcancel contextmenu",this._cancel,this),en(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){wt(document,"touchend",ur),wt(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),wt(document,"touchend touchcancel contextmenu",this._cancel,this),wt(document,"touchmove",this._onMove,this)},_onMove:function(l){var f=l.touches[0];this._newPos=new he(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,f){var x=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});x._simulated=!0,f.target.dispatchEvent(x)}});gn.addInitHook("addHandler","tapHold",Gl),gn.mergeOptions({touchZoom:mt.touch,bounceAtZoomLimits:!0});var Zl=re.extend({addHooks:function(){St(this._map._container,"leaflet-touch-zoom"),en(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){An(this._map._container,"leaflet-touch-zoom"),wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var f=this._map;if(!(!l.touches||l.touches.length!==2||f._animatingZoom||this._zooming)){var x=f.mouseEventToContainerPoint(l.touches[0]),I=f.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(x.add(I)._divideBy(2))),this._startDist=x.distanceTo(I),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),en(document,"touchmove",this._onTouchMove,this),en(document,"touchend touchcancel",this._onTouchEnd,this),ur(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var f=this._map,x=f.mouseEventToContainerPoint(l.touches[0]),I=f.mouseEventToContainerPoint(l.touches[1]),R=x.distanceTo(I)/this._startDist;if(this._zoom=f.getScaleZoom(R,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&R<1||this._zoom>f.getMaxZoom()&&R>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var X=x._add(I)._divideBy(2)._subtract(this._centerPoint);if(R===1&&X.x===0&&X.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(X),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var xe=d(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(xe,this,!0),ur(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),wt(document,"touchmove",this._onTouchMove,this),wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gn.addInitHook("addHandler","touchZoom",Zl),gn.BoxZoom=ml,gn.DoubleClickZoom=Zu,gn.Drag=vl,gn.Keyboard=yl,gn.ScrollWheelZoom=ql,gn.TapHold=Gl,gn.TouchZoom=Zl,n.Bounds=He,n.Browser=mt,n.CRS=Me,n.Canvas=qu,n.Circle=ki,n.CircleMarker=vi,n.Class=me,n.Control=Qr,n.DivIcon=yi,n.DivOverlay=Xn,n.DomEvent=br,n.DomUtil=Lt,n.Draggable=Xe,n.Evented=Le,n.FeatureGroup=Mi,n.GeoJSON=h,n.GridLayer=po,n.Handler=re,n.Icon=Ki,n.ImageOverlay=ze,n.LatLng=ve,n.LatLngBounds=oe,n.Layer=xn,n.LayerGroup=Jr,n.LineUtil=gs,n.Map=gn,n.Marker=Or,n.Mixin=_e,n.Path=dr,n.Point=he,n.PolyUtil=tn,n.Polygon=u,n.Polyline=r,n.Popup=kr,n.PosAnimation=Ts,n.Projection=Yo,n.Rectangle=go,n.Renderer=ms,n.SVG=Js,n.SVGOverlay=Wt,n.TileLayer=Io,n.Tooltip=On,n.Transformation=ot,n.Util=ge,n.VideoOverlay=rt,n.bind=d,n.bounds=V,n.canvas=Gu,n.circle=U,n.circleMarker=pn,n.control=ps,n.divIcon=ks,n.extend=s,n.featureGroup=vr,n.geoJSON=Ae,n.geoJson=Te,n.gridLayer=Wl,n.icon=Os,n.imageOverlay=$e,n.latLng=ue,n.latLngBounds=se,n.layerGroup=$r,n.map=Qs,n.marker=Oi,n.point=Ie,n.polygon=c,n.polyline=o,n.popup=ei,n.rectangle=Vl,n.setOptions=D,n.stamp=v,n.svg=Qi,n.svgOverlay=Jt,n.tileLayer=Wu,n.tooltip=Wr,n.transformation=gt,n.version=i,n.videoOverlay=tt;var Yl=window.L;n.noConflict=function(){return window.L=Yl,this},window.L=n})})(y0,y0.exports);var Uu=y0.exports;const m8=D0(Uu);function od(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function sd(e,t){return t==null?function(i,s){const a=nt.useRef();return a.current||(a.current=e(i,s)),a}:function(i,s){const a=nt.useRef();a.current||(a.current=e(i,s));const d=nt.useRef(i),{instance:g}=a.current;return nt.useEffect(function(){d.current!==i&&(t(g,i,d.current),d.current=i)},[g,i,s]),a}}function By(e,t){nt.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Fy(e){return function(n){const i=Rp(),s=e(id(n,i),i);return My(i.map,n.attribution),Dp(s.current,n.eventHandlers),By(s.current,i),s}}function v8(e,t){const n=nt.useRef();nt.useEffect(function(){if(t.pathOptions!==n.current){const s=t.pathOptions??{};e.instance.setStyle(s),n.current=s}},[e,t])}function y8(e){return function(n){const i=Rp(),s=e(id(n,i),i);return Dp(s.current,n.eventHandlers),By(s.current,i),v8(s.current,n),s}}function w8(e,t){const n=sd(e,t),i=Fy(n);return Dy(i)}function x8(e,t){const n=sd(e),i=g8(n,t);return d8(i)}function _8(e,t){const n=sd(e,t),i=y8(n);return Dy(i)}function A8(e,t){const n=sd(e,t),i=Fy(n);return p8(i)}function b8(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function w0(){return w0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w0.apply(this,arguments)}function C8({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:a,placeholder:d,style:g,whenReady:v,zoom:m,..._},C){const[P]=nt.useState({className:s,id:a,style:g}),[S,j]=nt.useState(null);nt.useImperativeHandle(C,()=>(S==null?void 0:S.map)??null,[S]);const D=nt.useCallback(M=>{if(M!==null&&S===null){const B=new Uu.Map(M,_);n!=null&&m!=null?B.setView(n,m):e!=null&&B.fitBounds(e,t),v!=null&&B.whenReady(v),j(f8(B))}},[]);nt.useEffect(()=>()=>{S==null||S.map.remove()},[S]);const q=S?Ll.createElement(Ry,{value:S},i):d??null;return Ll.createElement("div",w0({},P,{ref:D}),q)}const S8=nt.forwardRef(C8),jy=w8(function({position:t,...n},i){const s=new Uu.Marker(t,n);return od(s,Oy(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),E8=_8(function({positions:t,...n},i){const s=new Uu.Polyline(t,n);return od(s,Oy(i,{overlayContainer:s}))},function(t,n,i){n.positions!==i.positions&&t.setLatLngs(n.positions)}),zy=x8(function(t,n){const i=new Uu.Popup(t,n.overlayContainer);return od(i,n)},function(t,n,{position:i},s){nt.useEffect(function(){const{instance:d}=t;function g(m){m.popup===d&&(d.update(),s(!0))}function v(m){m.popup===d&&s(!1)}return n.map.on({popupopen:g,popupclose:v}),n.overlayContainer==null?(i!=null&&d.setLatLng(i),d.openOn(n.map)):n.overlayContainer.bindPopup(d),function(){var _;n.map.off({popupopen:g,popupclose:v}),(_=n.overlayContainer)==null||_.unbindPopup(),n.map.removeLayer(d)}},[t,n,s,i])}),N8=A8(function({url:t,...n},i){const s=new Uu.TileLayer(t,id(n,i));return od(s,i)},function(t,n,i){b8(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)}),$c=nt.createContext(),I8=({children:e})=>{const[t,n]=nt.useState([]),[i,s]=nt.useState([]),a=m=>{n(_=>[..._,m])},d=(m,_)=>{n(C=>C.map(P=>P.uid===m?{...P,..._}:P))},g=m=>{n(_=>_.filter(C=>C.uid!==m)),s(_=>_.filter(C=>C.uid!==m))},v=({uid:m,name:_,cp:C,time:P,proof:S})=>{s(j=>{const D=[...j],q=D.findIndex(M=>M.uid===m&&M.cp===C);return q!==-1?D[q]={...D[q],time:P,proof:S||D[q].proof}:D.push({uid:m,name:_,cp:C,time:P,proof:S}),D})};return Re.jsx($c.Provider,{value:{items:t,history:i,addItem:a,updateItem:d,removeItem:g,addHistory:v},children:e})},Ag=(e,t,n)=>e+(t-e)*n,T8=({item:e})=>{const t=nt.useRef(null),[n,i]=nt.useState(e.cpLocations[e.currentCP]||[-6.2088,106.8456]);return nt.useEffect(()=>{if(!t.current)return;const s=n,a=e.cpLocations[e.currentCP]||[-6.2088,106.8456];let d=0;const g=1e4,v=100,_=1/(g/v/(e.cpLocations.length-1)),C=setInterval(()=>{if(d+=_,d>=1)clearInterval(C),i(a);else{const P=Ag(s[0],a[0],d),S=Ag(s[1],a[1],d);i([P,S])}},v);return()=>clearInterval(C)},[e.currentCP]),Re.jsx(jy,{ref:t,position:n,icon:m8.icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/684/684908.png",iconSize:[30,30]}),children:Re.jsxs(zy,{children:[Re.jsx("b",{children:e.name})," ",Re.jsx("br",{}),"Status: ",e.status," ",Re.jsx("br",{}),"CP: ",e.currentCP,"/",e.targetCP]})})},L8=()=>{var i;const{items:e}=nt.useContext($c),[t,n]=nt.useState([]);return nt.useEffect(()=>{const s=setInterval(()=>{const a=new Date,d=e.map(g=>{if(!g.lastCheckpointTime)return{msg:`${g.name} belum mulai`,type:"secondary"};const v=(a-new Date(g.lastCheckpointTime))/1e3;return g.status==="SAMPAI"?{msg:`${g.name} sudah sampai tujuan`,type:"success"}:v<=10?{msg:`${g.name} Tepat Waktu`,type:"success"}:v<=15?{msg:`${g.name} Rawan Terlambat`,type:"warning"}:{msg:`${g.name} Terlambat`,type:"danger"}});n(d)},1e3);return()=>clearInterval(s)},[e]),Re.jsxs("div",{className:"p-4",children:[Re.jsx("h2",{className:"mb-4",children:"Dashboard"}),Re.jsxs("div",{className:"card mb-4 shadow-sm",children:[Re.jsx("div",{className:"card-header bg-success text-white",children:"Daftar Barang"}),Re.jsx("div",{className:"card-body",children:Re.jsxs("table",{className:"table table-bordered table-striped",children:[Re.jsx("thead",{className:"table-dark",children:Re.jsxs("tr",{children:[Re.jsx("th",{children:"Nama Barang"}),Re.jsx("th",{children:"Status"}),Re.jsx("th",{children:"Checkpoint"}),Re.jsx("th",{children:"Jadwal"})]})}),Re.jsx("tbody",{children:e.map(s=>Re.jsxs("tr",{children:[Re.jsx("td",{children:s.name}),Re.jsx("td",{children:s.status}),Re.jsxs("td",{children:[s.currentCP,"/",s.targetCP]}),Re.jsx("td",{children:s.schedule})]},s.uid))})]})})]}),Re.jsxs("div",{className:"card mb-4 shadow-sm",children:[Re.jsx("div",{className:"card-header bg-primary text-white",children:"Peta Perjalanan"}),Re.jsx("div",{className:"card-body p-0",children:Re.jsxs(S8,{center:((i=e[0])==null?void 0:i.cpLocations[0])||[-6.2088,106.8456],zoom:5,style:{height:"400px",width:"100%"},children:[Re.jsx(N8,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map((s,a)=>Re.jsxs(Ll.Fragment,{children:[Re.jsx(E8,{positions:s.cpLocations,color:"blue"}),s.cpLocations.map((d,g)=>Re.jsx(jy,{position:d,children:Re.jsx(zy,{children:g===0?"Mulai":g===s.cpLocations.length-1?"Sampai":`CP${g}`})},`cp-${a}-${g}`)),Re.jsx(T8,{item:s})]},a))]})})]}),Re.jsxs("div",{className:"card shadow-sm",children:[Re.jsx("div",{className:"card-header bg-warning text-dark",children:"Status Alert"}),Re.jsx("div",{className:"card-body",children:t.map((s,a)=>Re.jsx("div",{className:`alert alert-${s.type} mb-2`,children:s.msg},a))})]})]})};var It;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(It||(It={}));var bg=new Map([[It.QR_CODE,"QR_CODE"],[It.AZTEC,"AZTEC"],[It.CODABAR,"CODABAR"],[It.CODE_39,"CODE_39"],[It.CODE_93,"CODE_93"],[It.CODE_128,"CODE_128"],[It.DATA_MATRIX,"DATA_MATRIX"],[It.MAXICODE,"MAXICODE"],[It.ITF,"ITF"],[It.EAN_13,"EAN_13"],[It.EAN_8,"EAN_8"],[It.PDF_417,"PDF_417"],[It.RSS_14,"RSS_14"],[It.RSS_EXPANDED,"RSS_EXPANDED"],[It.UPC_A,"UPC_A"],[It.UPC_E,"UPC_E"],[It.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Cg;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Cg||(Cg={}));function P8(e){return Object.values(It).includes(e)}var cl;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(cl||(cl={}));var Us=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[cl.SCAN_TYPE_CAMERA,cl.SCAN_TYPE_FILE],e}(),Uy=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!bg.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,bg.get(t))},e}(),Sg=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),x0;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(x0||(x0={}));var Hy=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:x0.UNKWOWN_ERROR}},e}(),Wy=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ia(e){return typeof e>"u"||e===null}function M8(e,t,n){return e>n?n:e<t?t:e}var mu=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),rr=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Eg=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Vy=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var i=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(s),d=Object.keys(t),g=0,v=d;g<v.length;g++){var m=v[g];if(a.has(m))return n.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),_0={exports:{}};(function(e,t){(function(n,i){i(t)})(tu,function(n){function i(U){return U==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,r){U.__proto__=r}||function(U,r){for(var o in r)r.hasOwnProperty(o)&&(U[o]=r[o])};function a(U,r){s(U,r);function o(){this.constructor=U}U.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}function d(U,r){var o=Object.setPrototypeOf;o?o(U,r):U.__proto__=r}function g(U,r){r===void 0&&(r=U.constructor);var o=Error.captureStackTrace;o&&o(U,r)}var v=function(U){a(r,U);function r(o){var u=this.constructor,c=U.call(this,o)||this;return Object.defineProperty(c,"name",{value:u.name,enumerable:!1}),d(c,u.prototype),g(c),c}return r}(Error);class m extends v{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}m.kind="Exception";class _ extends m{}_.kind="ArgumentException";class C extends m{}C.kind="IllegalArgumentException";class P{constructor(r){if(this.binarizer=r,r===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,o){return this.binarizer.getBlackRow(r,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,o,u,c){const h=this.binarizer.getLuminanceSource().crop(r,o,u,c);return new P(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new P(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new P(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class S extends m{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class j{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(r,o,u,c,h){for(;h--;)u[c++]=r[o++]}static currentTimeMillis(){return Date.now()}}class q extends m{}q.kind="IndexOutOfBoundsException";class M extends q{constructor(r=void 0,o=void 0){super(o),this.index=r,this.message=o}}M.kind="ArrayIndexOutOfBoundsException";class B{static fill(r,o){for(let u=0,c=r.length;u<c;u++)r[u]=o}static fillWithin(r,o,u,c){B.rangeCheck(r.length,o,u);for(let h=o;h<u;h++)r[h]=c}static rangeCheck(r,o,u){if(o>u)throw new C("fromIndex("+o+") > toIndex("+u+")");if(o<0)throw new M(o);if(u>r)throw new M(u)}static asList(...r){return r}static create(r,o,u){return Array.from({length:r}).map(h=>Array.from({length:o}).fill(u))}static createInt32Array(r,o,u){return Array.from({length:r}).map(h=>Int32Array.from({length:o}).fill(u))}static equals(r,o){if(!r||!o||!r.length||!o.length||r.length!==o.length)return!1;for(let u=0,c=r.length;u<c;u++)if(r[u]!==o[u])return!1;return!0}static hashCode(r){if(r===null)return 0;let o=1;for(const u of r)o=31*o+u;return o}static fillUint8Array(r,o){for(let u=0;u!==r.length;u++)r[u]=o}static copyOf(r,o){return r.slice(0,o)}static copyOfUint8Array(r,o){if(r.length<=o){const u=new Uint8Array(o);return u.set(r),u}return r.slice(0,o)}static copyOfRange(r,o,u){const c=u-o,h=new Int32Array(c);return D.arraycopy(r,o,h,0,c),h}static binarySearch(r,o,u){u===void 0&&(u=B.numberComparator);let c=0,h=r.length-1;for(;c<=h;){const p=h+c>>1,w=u(o,r[p]);if(w>0)c=p+1;else if(w<0)h=p-1;else return p}return-c-1}static numberComparator(r,o){return r-o}}class F{static numberOfTrailingZeros(r){let o;if(r===0)return 32;let u=31;return o=r<<16,o!==0&&(u-=16,r=o),o=r<<8,o!==0&&(u-=8,r=o),o=r<<4,o!==0&&(u-=4,r=o),o=r<<2,o!==0&&(u-=2,r=o),u-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let o=1;return r>>>16||(o+=16,r<<=16),r>>>24||(o+=8,r<<=8),r>>>28||(o+=4,r<<=4),r>>>30||(o+=2,r<<=2),o-=r>>>31,o}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,o){return Math.trunc(r/o)}static parseInt(r,o=void 0){return parseInt(r,o)}}F.MIN_VALUE_32_BITS=-2147483648,F.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Z{constructor(r,o){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,o==null?this.bits=Z.makeArray(r):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const o=Z.makeArray(r);D.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const o=this.size;if(r>=o)return o;const u=this.bits;let c=Math.floor(r/32),h=u[c];h&=~((1<<(r&31))-1);const p=u.length;for(;h===0;){if(++c===p)return o;h=u[c]}const w=c*32+F.numberOfTrailingZeros(h);return w>o?o:w}getNextUnset(r){const o=this.size;if(r>=o)return o;const u=this.bits;let c=Math.floor(r/32),h=~u[c];h&=~((1<<(r&31))-1);const p=u.length;for(;h===0;){if(++c===p)return o;h=~u[c]}const w=c*32+F.numberOfTrailingZeros(h);return w>o?o:w}setBulk(r,o){this.bits[Math.floor(r/32)]=o}setRange(r,o){if(o<r||r<0||o>this.size)throw new C;if(o===r)return;o--;const u=Math.floor(r/32),c=Math.floor(o/32),h=this.bits;for(let p=u;p<=c;p++){const w=p>u?0:r&31,N=(2<<(p<c?31:o&31))-(1<<w);h[p]|=N}}clear(){const r=this.bits.length,o=this.bits;for(let u=0;u<r;u++)o[u]=0}isRange(r,o,u){if(o<r||r<0||o>this.size)throw new C;if(o===r)return!0;o--;const c=Math.floor(r/32),h=Math.floor(o/32),p=this.bits;for(let w=c;w<=h;w++){const b=w>c?0:r&31,O=(2<<(w<h?31:o&31))-(1<<b)&4294967295;if((p[w]&O)!==(u?O:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,o){if(o<0||o>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let u=o;u>0;u--)this.appendBit((r>>u-1&1)===1)}appendBitArray(r){const o=r.size;this.ensureCapacity(this.size+o);for(let u=0;u<o;u++)this.appendBit(r.get(u))}xor(r){if(this.size!==r.size)throw new C("Sizes don't match");const o=this.bits;for(let u=0,c=o.length;u<c;u++)o[u]^=r.bits[u]}toBytes(r,o,u,c){for(let h=0;h<c;h++){let p=0;for(let w=0;w<8;w++)this.get(r)&&(p|=1<<7-w),r++;o[u+h]=p}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),u=o+1,c=this.bits;for(let h=0;h<u;h++){let p=c[h];p=p>>1&1431655765|(p&1431655765)<<1,p=p>>2&858993459|(p&858993459)<<2,p=p>>4&252645135|(p&252645135)<<4,p=p>>8&16711935|(p&16711935)<<8,p=p>>16&65535|(p&65535)<<16,r[o-h]=p}if(this.size!==u*32){const h=u*32-this.size;let p=r[0]>>>h;for(let w=1;w<u;w++){const b=r[w];p|=b<<32-h,r[w-1]=p,p=b>>>h}r[u-1]=p}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof Z))return!1;const o=r;return this.size===o.size&&B.equals(this.bits,o.bits)}hashCode(){return 31*this.size+B.hashCode(this.bits)}toString(){let r="";for(let o=0,u=this.size;o<u;o++)o&7||(r+=" "),r+=this.get(o)?"X":".";return r}clone(){return new Z(this.size,this.bits.slice())}}var ye;(function(U){U[U.OTHER=0]="OTHER",U[U.PURE_BARCODE=1]="PURE_BARCODE",U[U.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",U[U.TRY_HARDER=3]="TRY_HARDER",U[U.CHARACTER_SET=4]="CHARACTER_SET",U[U.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",U[U.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",U[U.ASSUME_GS1=7]="ASSUME_GS1",U[U.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",U[U.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",U[U.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ye||(ye={}));var Se=ye;class fe extends m{static getFormatInstance(){return new fe}}fe.kind="FormatException";var de;(function(U){U[U.Cp437=0]="Cp437",U[U.ISO8859_1=1]="ISO8859_1",U[U.ISO8859_2=2]="ISO8859_2",U[U.ISO8859_3=3]="ISO8859_3",U[U.ISO8859_4=4]="ISO8859_4",U[U.ISO8859_5=5]="ISO8859_5",U[U.ISO8859_6=6]="ISO8859_6",U[U.ISO8859_7=7]="ISO8859_7",U[U.ISO8859_8=8]="ISO8859_8",U[U.ISO8859_9=9]="ISO8859_9",U[U.ISO8859_10=10]="ISO8859_10",U[U.ISO8859_11=11]="ISO8859_11",U[U.ISO8859_13=12]="ISO8859_13",U[U.ISO8859_14=13]="ISO8859_14",U[U.ISO8859_15=14]="ISO8859_15",U[U.ISO8859_16=15]="ISO8859_16",U[U.SJIS=16]="SJIS",U[U.Cp1250=17]="Cp1250",U[U.Cp1251=18]="Cp1251",U[U.Cp1252=19]="Cp1252",U[U.Cp1256=20]="Cp1256",U[U.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",U[U.UTF8=22]="UTF8",U[U.ASCII=23]="ASCII",U[U.Big5=24]="Big5",U[U.GB18030=25]="GB18030",U[U.EUC_KR=26]="EUC_KR"})(de||(de={}));class J{constructor(r,o,u,...c){this.valueIdentifier=r,this.name=u,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=c,J.VALUE_IDENTIFIER_TO_ECI.set(r,this),J.NAME_TO_ECI.set(u,this);const h=this.values;for(let p=0,w=h.length;p!==w;p++){const b=h[p];J.VALUES_TO_ECI.set(b,this)}for(const p of c)J.NAME_TO_ECI.set(p,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new fe("incorect value");const o=J.VALUES_TO_ECI.get(r);if(o===void 0)throw new fe("incorect value");return o}static getCharacterSetECIByName(r){const o=J.NAME_TO_ECI.get(r);if(o===void 0)throw new fe("incorect value");return o}equals(r){if(!(r instanceof J))return!1;const o=r;return this.getName()===o.getName()}}J.VALUE_IDENTIFIER_TO_ECI=new Map,J.VALUES_TO_ECI=new Map,J.NAME_TO_ECI=new Map,J.Cp437=new J(de.Cp437,Int32Array.from([0,2]),"Cp437"),J.ISO8859_1=new J(de.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),J.ISO8859_2=new J(de.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),J.ISO8859_3=new J(de.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),J.ISO8859_4=new J(de.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),J.ISO8859_5=new J(de.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),J.ISO8859_6=new J(de.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),J.ISO8859_7=new J(de.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),J.ISO8859_8=new J(de.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),J.ISO8859_9=new J(de.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),J.ISO8859_10=new J(de.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),J.ISO8859_11=new J(de.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),J.ISO8859_13=new J(de.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),J.ISO8859_14=new J(de.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),J.ISO8859_15=new J(de.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),J.ISO8859_16=new J(de.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),J.SJIS=new J(de.SJIS,20,"SJIS","Shift_JIS"),J.Cp1250=new J(de.Cp1250,21,"Cp1250","windows-1250"),J.Cp1251=new J(de.Cp1251,22,"Cp1251","windows-1251"),J.Cp1252=new J(de.Cp1252,23,"Cp1252","windows-1252"),J.Cp1256=new J(de.Cp1256,24,"Cp1256","windows-1256"),J.UnicodeBigUnmarked=new J(de.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),J.UTF8=new J(de.UTF8,26,"UTF8","UTF-8"),J.ASCII=new J(de.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),J.Big5=new J(de.Big5,28,"Big5"),J.GB18030=new J(de.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),J.EUC_KR=new J(de.EUC_KR,30,"EUC_KR","EUC-KR");class be extends m{}be.kind="UnsupportedOperationException";class K{static decode(r,o){const u=this.encodingName(o);return this.customDecoder?this.customDecoder(r,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(r,u):new TextDecoder(u).decode(r)}static shouldDecodeOnFallback(r){return!K.isBrowser()&&r==="ISO-8859-1"}static encode(r,o){const u=this.encodingName(o);return this.customEncoder?this.customEncoder(r,u):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof J?r:J.getCharacterSetECIByName(r)}static decodeFallback(r,o){const u=this.encodingCharacterSet(o);if(K.isDecodeFallbackSupported(u)){let c="";for(let h=0,p=r.length;h<p;h++){let w=r[h].toString(16);w.length<2&&(w="0"+w),c+="%"+w}return decodeURIComponent(c)}if(u.equals(J.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new be(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(J.UTF8)||r.equals(J.ISO8859_1)||r.equals(J.ASCII)}static encodeFallback(r){const u=btoa(unescape(encodeURIComponent(r))).split(""),c=[];for(let h=0;h<u.length;h++)c.push(u[h].charCodeAt(0));return new Uint8Array(c)}}class ${static castAsNonUtf8Char(r,o=null){const u=o?o.getName():this.ISO88591;return K.decode(new Uint8Array([r]),u)}static guessEncoding(r,o){if(o!=null&&o.get(Se.CHARACTER_SET)!==void 0)return o.get(Se.CHARACTER_SET).toString();const u=r.length;let c=!0,h=!0,p=!0,w=0,b=0,N=0,O=0,z=0,G=0,ie=0,we=0,Ae=0,Te=0,ze=0;const $e=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let rt=0;rt<u&&(c||h||p);rt++){const tt=r[rt]&255;p&&(w>0?tt&128?w--:p=!1:tt&128&&(tt&64?(w++,tt&32?(w++,tt&16?(w++,tt&8?p=!1:O++):N++):b++):p=!1)),c&&(tt>127&&tt<160?c=!1:tt>159&&(tt<192||tt===215||tt===247)&&ze++),h&&(z>0?tt<64||tt===127||tt>252?h=!1:z--:tt===128||tt===160||tt>239?h=!1:tt>160&&tt<224?(G++,we=0,ie++,ie>Ae&&(Ae=ie)):tt>127?(z++,ie=0,we++,we>Te&&(Te=we)):(ie=0,we=0))}return p&&w>0&&(p=!1),h&&z>0&&(h=!1),p&&($e||b+N+O>0)?$.UTF8:h&&($.ASSUME_SHIFT_JIS||Ae>=3||Te>=3)?$.SHIFT_JIS:c&&h?Ae===2&&G===2||ze*10>=u?$.SHIFT_JIS:$.ISO88591:c?$.ISO88591:h?$.SHIFT_JIS:p?$.UTF8:$.PLATFORM_DEFAULT_ENCODING}static format(r,...o){let u=-1;function c(p,w,b,N,O,z){if(p==="%%")return"%";if(o[++u]===void 0)return;p=N?parseInt(N.substr(1)):void 0;let G=O?parseInt(O.substr(1)):void 0,ie;switch(z){case"s":ie=o[u];break;case"c":ie=o[u][0];break;case"f":ie=parseFloat(o[u]).toFixed(p);break;case"p":ie=parseFloat(o[u]).toPrecision(p);break;case"e":ie=parseFloat(o[u]).toExponential(p);break;case"x":ie=parseInt(o[u]).toString(G||16);break;case"d":ie=parseFloat(parseInt(o[u],G||10).toPrecision(p)).toFixed(0);break}ie=typeof ie=="object"?JSON.stringify(ie):(+ie).toString(G);let we=parseInt(b),Ae=b&&b[0]+""=="0"?"0":" ";for(;ie.length<we;)ie=w!==void 0?ie+Ae:Ae+ie;return ie}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(h,c)}static getBytes(r,o){return K.encode(r,o)}static getCharCode(r,o=0){return r.charCodeAt(o)}static getCharAt(r){return String.fromCharCode(r)}}$.SHIFT_JIS=J.SJIS.getName(),$.GB2312="GB2312",$.ISO88591=J.ISO8859_1.getName(),$.EUC_JP="EUC_JP",$.UTF8=J.UTF8.getName(),$.PLATFORM_DEFAULT_ENCODING=$.UTF8,$.ASSUME_SHIFT_JIS=!1;class ge{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=$.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,o,u){for(let c=o;o<o+u;c++)this.append(r[c]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+1)}substring(r,o){return this.value.substring(r,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+o.length)}}class me{constructor(r,o,u,c){if(this.width=r,this.height=o,this.rowSize=u,this.bits=c,o==null&&(o=r),this.height=o,r<1||o<1)throw new C("Both dimensions must be greater than 0");u==null&&(u=Math.floor((r+31)/32)),this.rowSize=u,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const o=r.length,u=r[0].length,c=new me(u,o);for(let h=0;h<o;h++){const p=r[h];for(let w=0;w<u;w++)p[w]&&c.set(w,h)}return c}static parseFromString(r,o,u){if(r===null)throw new C("stringRepresentation cannot be null");const c=new Array(r.length);let h=0,p=0,w=-1,b=0,N=0;for(;N<r.length;)if(r.charAt(N)===`
`||r.charAt(N)==="\r"){if(h>p){if(w===-1)w=h-p;else if(h-p!==w)throw new C("row lengths do not match");p=h,b++}N++}else if(r.substring(N,N+o.length)===o)N+=o.length,c[h]=!0,h++;else if(r.substring(N,N+u.length)===u)N+=u.length,c[h]=!1,h++;else throw new C("illegal character encountered: "+r.substring(N));if(h>p){if(w===-1)w=h-p;else if(h-p!==w)throw new C("row lengths do not match");b++}const O=new me(w,b);for(let z=0;z<h;z++)c[z]&&O.set(Math.floor(z%w),Math.floor(z/w));return O}get(r,o){const u=o*this.rowSize+Math.floor(r/32);return(this.bits[u]>>>(r&31)&1)!==0}set(r,o){const u=o*this.rowSize+Math.floor(r/32);this.bits[u]|=1<<(r&31)&4294967295}unset(r,o){const u=o*this.rowSize+Math.floor(r/32);this.bits[u]&=~(1<<(r&31)&4294967295)}flip(r,o){const u=o*this.rowSize+Math.floor(r/32);this.bits[u]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new C("input matrix dimensions do not match");const o=new Z(Math.floor(this.width/32)+1),u=this.rowSize,c=this.bits;for(let h=0,p=this.height;h<p;h++){const w=h*u,b=r.getRow(h,o).getBitArray();for(let N=0;N<u;N++)c[w+N]^=b[N]}}clear(){const r=this.bits,o=r.length;for(let u=0;u<o;u++)r[u]=0}setRegion(r,o,u,c){if(o<0||r<0)throw new C("Left and top must be nonnegative");if(c<1||u<1)throw new C("Height and width must be at least 1");const h=r+u,p=o+c;if(p>this.height||h>this.width)throw new C("The region must fit inside the matrix");const w=this.rowSize,b=this.bits;for(let N=o;N<p;N++){const O=N*w;for(let z=r;z<h;z++)b[O+Math.floor(z/32)]|=1<<(z&31)&4294967295}}getRow(r,o){o==null||o.getSize()<this.width?o=new Z(this.width):o.clear();const u=this.rowSize,c=this.bits,h=r*u;for(let p=0;p<u;p++)o.setBulk(p*32,c[h+p]);return o}setRow(r,o){D.arraycopy(o.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),o=this.getHeight();let u=new Z(r),c=new Z(r);for(let h=0,p=Math.floor((o+1)/2);h<p;h++)u=this.getRow(h,u),c=this.getRow(o-1-h,c),u.reverse(),c.reverse(),this.setRow(h,c),this.setRow(o-1-h,u)}getEnclosingRectangle(){const r=this.width,o=this.height,u=this.rowSize,c=this.bits;let h=r,p=o,w=-1,b=-1;for(let N=0;N<o;N++)for(let O=0;O<u;O++){const z=c[N*u+O];if(z!==0){if(N<p&&(p=N),N>b&&(b=N),O*32<h){let G=0;for(;!(z<<31-G&4294967295);)G++;O*32+G<h&&(h=O*32+G)}if(O*32+31>w){let G=31;for(;!(z>>>G);)G--;O*32+G>w&&(w=O*32+G)}}}return w<h||b<p?null:Int32Array.from([h,p,w-h+1,b-p+1])}getTopLeftOnBit(){const r=this.rowSize,o=this.bits;let u=0;for(;u<o.length&&o[u]===0;)u++;if(u===o.length)return null;const c=u/r;let h=u%r*32;const p=o[u];let w=0;for(;!(p<<31-w&4294967295);)w++;return h+=w,Int32Array.from([h,c])}getBottomRightOnBit(){const r=this.rowSize,o=this.bits;let u=o.length-1;for(;u>=0&&o[u]===0;)u--;if(u<0)return null;const c=Math.floor(u/r);let h=Math.floor(u%r)*32;const p=o[u];let w=31;for(;!(p>>>w);)w--;return h+=w,Int32Array.from([h,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof me))return!1;const o=r;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&B.equals(this.bits,o.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+B.hashCode(this.bits),r}toString(r="X ",o="  ",u=`
`){return this.buildToString(r,o,u)}buildToString(r,o,u){let c=new ge;for(let h=0,p=this.height;h<p;h++){for(let w=0,b=this.width;w<b;w++)c.append(this.get(w,h)?r:o);c.append(u)}return c.toString()}clone(){return new me(this.width,this.height,this.rowSize,this.bits.slice())}}class ce extends m{static getNotFoundInstance(){return new ce}}ce.kind="NotFoundException";class Be extends j{constructor(r){super(r),this.luminances=Be.EMPTY,this.buckets=new Int32Array(Be.LUMINANCE_BUCKETS)}getBlackRow(r,o){const u=this.getLuminanceSource(),c=u.getWidth();o==null||o.getSize()<c?o=new Z(c):o.clear(),this.initArrays(c);const h=u.getRow(r,this.luminances),p=this.buckets;for(let b=0;b<c;b++)p[(h[b]&255)>>Be.LUMINANCE_SHIFT]++;const w=Be.estimateBlackPoint(p);if(c<3)for(let b=0;b<c;b++)(h[b]&255)<w&&o.set(b);else{let b=h[0]&255,N=h[1]&255;for(let O=1;O<c-1;O++){const z=h[O+1]&255;(N*4-b-z)/2<w&&o.set(O),b=N,N=z}}return o}getBlackMatrix(){const r=this.getLuminanceSource(),o=r.getWidth(),u=r.getHeight(),c=new me(o,u);this.initArrays(o);const h=this.buckets;for(let b=1;b<5;b++){const N=Math.floor(u*b/5),O=r.getRow(N,this.luminances),z=Math.floor(o*4/5);for(let G=Math.floor(o/5);G<z;G++){const ie=O[G]&255;h[ie>>Be.LUMINANCE_SHIFT]++}}const p=Be.estimateBlackPoint(h),w=r.getMatrix();for(let b=0;b<u;b++){const N=b*o;for(let O=0;O<o;O++)(w[N+O]&255)<p&&c.set(O,b)}return c}createBinarizer(r){return new Be(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const o=this.buckets;for(let u=0;u<Be.LUMINANCE_BUCKETS;u++)o[u]=0}static estimateBlackPoint(r){const o=r.length;let u=0,c=0,h=0;for(let O=0;O<o;O++)r[O]>h&&(c=O,h=r[O]),r[O]>u&&(u=r[O]);let p=0,w=0;for(let O=0;O<o;O++){const z=O-c,G=r[O]*z*z;G>w&&(p=O,w=G)}if(c>p){const O=c;c=p,p=O}if(p-c<=o/16)throw new ce;let b=p-1,N=-1;for(let O=p-1;O>c;O--){const z=O-c,G=z*z*(p-O)*(u-r[O]);G>N&&(b=O,N=G)}return b<<Be.LUMINANCE_SHIFT}}Be.LUMINANCE_BITS=5,Be.LUMINANCE_SHIFT=8-Be.LUMINANCE_BITS,Be.LUMINANCE_BUCKETS=1<<Be.LUMINANCE_BITS,Be.EMPTY=Uint8ClampedArray.from([0]);class Le extends Be{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),o=r.getWidth(),u=r.getHeight();if(o>=Le.MINIMUM_DIMENSION&&u>=Le.MINIMUM_DIMENSION){const c=r.getMatrix();let h=o>>Le.BLOCK_SIZE_POWER;o&Le.BLOCK_SIZE_MASK&&h++;let p=u>>Le.BLOCK_SIZE_POWER;u&Le.BLOCK_SIZE_MASK&&p++;const w=Le.calculateBlackPoints(c,h,p,o,u),b=new me(o,u);Le.calculateThresholdForBlock(c,h,p,o,u,w,b),this.matrix=b}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new Le(r)}static calculateThresholdForBlock(r,o,u,c,h,p,w){const b=h-Le.BLOCK_SIZE,N=c-Le.BLOCK_SIZE;for(let O=0;O<u;O++){let z=O<<Le.BLOCK_SIZE_POWER;z>b&&(z=b);const G=Le.cap(O,2,u-3);for(let ie=0;ie<o;ie++){let we=ie<<Le.BLOCK_SIZE_POWER;we>N&&(we=N);const Ae=Le.cap(ie,2,o-3);let Te=0;for(let $e=-2;$e<=2;$e++){const rt=p[G+$e];Te+=rt[Ae-2]+rt[Ae-1]+rt[Ae]+rt[Ae+1]+rt[Ae+2]}const ze=Te/25;Le.thresholdBlock(r,we,z,ze,c,w)}}}static cap(r,o,u){return r<o?o:r>u?u:r}static thresholdBlock(r,o,u,c,h,p){for(let w=0,b=u*h+o;w<Le.BLOCK_SIZE;w++,b+=h)for(let N=0;N<Le.BLOCK_SIZE;N++)(r[b+N]&255)<=c&&p.set(o+N,u+w)}static calculateBlackPoints(r,o,u,c,h){const p=h-Le.BLOCK_SIZE,w=c-Le.BLOCK_SIZE,b=new Array(u);for(let N=0;N<u;N++){b[N]=new Int32Array(o);let O=N<<Le.BLOCK_SIZE_POWER;O>p&&(O=p);for(let z=0;z<o;z++){let G=z<<Le.BLOCK_SIZE_POWER;G>w&&(G=w);let ie=0,we=255,Ae=0;for(let ze=0,$e=O*c+G;ze<Le.BLOCK_SIZE;ze++,$e+=c){for(let rt=0;rt<Le.BLOCK_SIZE;rt++){const tt=r[$e+rt]&255;ie+=tt,tt<we&&(we=tt),tt>Ae&&(Ae=tt)}if(Ae-we>Le.MIN_DYNAMIC_RANGE)for(ze++,$e+=c;ze<Le.BLOCK_SIZE;ze++,$e+=c)for(let rt=0;rt<Le.BLOCK_SIZE;rt++)ie+=r[$e+rt]&255}let Te=ie>>Le.BLOCK_SIZE_POWER*2;if(Ae-we<=Le.MIN_DYNAMIC_RANGE&&(Te=we/2,N>0&&z>0)){const ze=(b[N-1][z]+2*b[N][z-1]+b[N-1][z-1])/4;we<ze&&(Te=ze)}b[N][z]=Te}}return b}}Le.BLOCK_SIZE_POWER=3,Le.BLOCK_SIZE=1<<Le.BLOCK_SIZE_POWER,Le.BLOCK_SIZE_MASK=Le.BLOCK_SIZE-1,Le.MINIMUM_DIMENSION=Le.BLOCK_SIZE*5,Le.MIN_DYNAMIC_RANGE=24;class he{constructor(r,o){this.width=r,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,o,u,c){throw new be("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new be("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new be("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let o=new ge;for(let u=0;u<this.height;u++){const c=this.getRow(u,r);for(let h=0;h<this.width;h++){const p=c[h]&255;let w;p<64?w="#":p<128?w="+":p<192?w=".":w=" ",o.append(w)}o.append(`
`)}return o.toString()}}class Pe extends he{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,o){const u=this.delegate.getRow(r,o),c=this.getWidth();for(let h=0;h<c;h++)u[h]=255-(u[h]&255);return u}getMatrix(){const r=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(o);for(let c=0;c<o;c++)u[c]=255-(r[c]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(r,o,u,c){return new Pe(this.delegate.crop(r,o,u,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Pe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Pe(this.delegate.rotateCounterClockwise45())}}class Ie extends he{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=Ie.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const o=r.getContext("2d").getImageData(0,0,r.width,r.height);return Ie.toGrayscaleBuffer(o.data,r.width,r.height)}static toGrayscaleBuffer(r,o,u){const c=new Uint8ClampedArray(o*u);for(let h=0,p=0,w=r.length;h<w;h+=4,p++){let b;if(r[h+3]===0)b=255;else{const O=r[h],z=r[h+1],G=r[h+2];b=306*O+601*z+117*G+512>>10}c[p]=b}return c}getRow(r,o){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const u=this.getWidth(),c=r*u;return o===null?o=this.buffer.slice(c,c+u):(o.length<u&&(o=new Uint8ClampedArray(u)),o.set(this.buffer.slice(c,c+u))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,o,u,c){return super.crop(r,o,u,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const o=this.getTempCanvasElement(),u=o.getContext("2d"),c=r*Ie.DEGREE_TO_RADIANS,h=this.canvas.width,p=this.canvas.height,w=Math.ceil(Math.abs(Math.cos(c))*h+Math.abs(Math.sin(c))*p),b=Math.ceil(Math.abs(Math.sin(c))*h+Math.abs(Math.cos(c))*p);return o.width=w,o.height=b,u.translate(w/2,b/2),u.rotate(c),u.drawImage(this.canvas,h/-2,p/-2),this.buffer=Ie.makeBufferFromCanvasImageData(o),this}invert(){return new Pe(this)}}Ie.DEGREE_TO_RADIANS=Math.PI/180;class He{constructor(r,o,u){this.deviceId=r,this.label=o,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var V=(globalThis||tu||self||window||void 0)&&(globalThis||tu||self||window||void 0).__awaiter||function(U,r,o,u){function c(h){return h instanceof o?h:new o(function(p){p(h)})}return new(o||(o=Promise))(function(h,p){function w(O){try{N(u.next(O))}catch(z){p(z)}}function b(O){try{N(u.throw(O))}catch(z){p(z)}}function N(O){O.done?h(O.value):c(O.value).then(w,b)}N((u=u.apply(U,r||[])).next())})};class oe{constructor(r,o=500,u){this.reader=r,this.timeBetweenScansMillis=o,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return V(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const u of r){const c=u.kind==="video"?"videoinput":u.kind;if(c!=="videoinput")continue;const h=u.deviceId||u.id,p=u.label||`Video device ${o.length+1}`,w=u.groupId,b={deviceId:h,label:p,kind:c,groupId:w};o.push(b)}return o})}getVideoInputDevices(){return V(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new He(o.deviceId,o.label))})}findDeviceById(r){return V(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(u=>u.deviceId===r):null})}decodeFromInputVideoDevice(r,o){return V(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,o)})}decodeOnceFromVideoDevice(r,o){return V(this,void 0,void 0,function*(){this.reset();let u;r?u={deviceId:{exact:r}}:u={facingMode:"environment"};const c={video:u};return yield this.decodeOnceFromConstraints(c,o)})}decodeOnceFromConstraints(r,o){return V(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(u,o)})}decodeOnceFromStream(r,o){return V(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(r,o);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(r,o,u){return V(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,o,u)})}decodeFromVideoDevice(r,o,u){return V(this,void 0,void 0,function*(){let c;r?c={deviceId:{exact:r}}:c={facingMode:"environment"};const h={video:c};return yield this.decodeFromConstraints(h,o,u)})}decodeFromConstraints(r,o,u){return V(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(c,o,u)})}decodeFromStream(r,o,u){return V(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(r,o);return yield this.decodeContinuously(c,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,o){return V(this,void 0,void 0,function*(){const u=this.prepareVideoElement(o);return this.addVideoSource(u,r),this.videoElement=u,this.stream=r,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(r){return new Promise((o,u)=>this.playVideoOnLoad(r,()=>o()))}playVideoOnLoad(r,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",o),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return V(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,o){const u=document.getElementById(r);if(!u)throw new _(`element with id '${r}' not found`);if(u.nodeName.toLowerCase()!==o.toLowerCase())throw new _(`element with id '${r}' must be an ${o} element`);return u}decodeFromImage(r,o){if(!r&&!o)throw new _("either imageElement with a src set or an url must be provided");return o&&!r?this.decodeFromImageUrl(o):this.decodeFromImageElement(r)}decodeFromVideo(r,o){if(!r&&!o)throw new _("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,o,u){if(r===void 0&&o===void 0)throw new _("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrlContinuously(o,u):this.decodeFromVideoElementContinuously(r,u)}decodeFromImageElement(r){if(!r)throw new _("An image element must be provided.");this.reset();const o=this.prepareImageElement(r);this.imageElement=o;let u;return this.isImageLoaded(o)?u=this.decodeOnce(o,!1,!0):u=this._decodeOnLoadImage(o),u}decodeFromVideoElement(r){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(r,o){const u=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(u,o)}_decodeFromVideoElementSetup(r){if(!r)throw new _("A video element must be provided.");this.reset();const o=this.prepareVideoElement(r);return this.videoElement=o,o}decodeFromImageUrl(r){if(!r)throw new _("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const u=this._decodeOnLoadImage(o);return o.src=r,u}decodeFromVideoUrl(r){if(!r)throw new _("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),u=this.decodeFromVideoElement(o);return o.src=r,u}decodeFromVideoUrlContinuously(r,o){if(!r)throw new _("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(u,o);return u.src=r,c}_decodeOnLoadImage(r){return new Promise((o,u)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(o,u),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return V(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,o){return V(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,o)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let o;return typeof r>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(o=r),o}prepareVideoElement(r){let o;return!r&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(o=r),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(r,o=!0,u=!0){this._stopAsyncDecode=!1;const c=(h,p)=>{if(this._stopAsyncDecode){p(new ce("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const w=this.decode(r);h(w)}catch(w){const b=o&&w instanceof ce,O=(w instanceof S||w instanceof fe)&&u;if(b||O)return setTimeout(c,this._timeBetweenDecodingAttempts,h,p);p(w)}};return new Promise((h,p)=>c(h,p))}decodeContinuously(r,o){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(r);o(c,null),setTimeout(u,this.timeBetweenScansMillis)}catch(c){o(null,c);const h=c instanceof S||c instanceof fe,p=c instanceof ce;(h||p)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(r){const o=this.createBinaryBitmap(r);return this.decodeBitmap(o)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,o,u){o||(o={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(r,o,u=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const o=this.getCaptureCanvas(r),u=new Ie(o),c=new Le(u);return new P(c)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const o=this.createCaptureCanvas(r);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let u,c;return typeof r<"u"&&(r instanceof HTMLVideoElement?(u=r.videoWidth,c=r.videoHeight):r instanceof HTMLImageElement&&(u=r.naturalWidth||r.width,c=r.naturalHeight||r.height)),o.style.width=u+"px",o.style.height=c+"px",o.width=u,o.height=c,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,o){try{r.srcObject=o}catch{r.src=URL.createObjectURL(o)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class se{constructor(r,o,u=o==null?0:8*o.length,c,h,p=D.currentTimeMillis()){this.text=r,this.rawBytes=o,this.numBits=u,this.resultPoints=c,this.format=h,this.timestamp=p,this.text=r,this.rawBytes=o,u==null?this.numBits=o==null?0:8*o.length:this.numBits=u,this.resultPoints=c,this.format=h,this.resultMetadata=null,p==null?this.timestamp=D.currentTimeMillis():this.timestamp=p}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,o)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const o=this.resultPoints;if(o===null)this.resultPoints=r;else if(r!==null&&r.length>0){const u=new Array(o.length+r.length);D.arraycopy(o,0,u,0,o.length),D.arraycopy(r,0,u,o.length,r.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ve;(function(U){U[U.AZTEC=0]="AZTEC",U[U.CODABAR=1]="CODABAR",U[U.CODE_39=2]="CODE_39",U[U.CODE_93=3]="CODE_93",U[U.CODE_128=4]="CODE_128",U[U.DATA_MATRIX=5]="DATA_MATRIX",U[U.EAN_8=6]="EAN_8",U[U.EAN_13=7]="EAN_13",U[U.ITF=8]="ITF",U[U.MAXICODE=9]="MAXICODE",U[U.PDF_417=10]="PDF_417",U[U.QR_CODE=11]="QR_CODE",U[U.RSS_14=12]="RSS_14",U[U.RSS_EXPANDED=13]="RSS_EXPANDED",U[U.UPC_A=14]="UPC_A",U[U.UPC_E=15]="UPC_E",U[U.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ve||(ve={}));var ue=ve,Me;(function(U){U[U.OTHER=0]="OTHER",U[U.ORIENTATION=1]="ORIENTATION",U[U.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",U[U.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",U[U.ISSUE_NUMBER=4]="ISSUE_NUMBER",U[U.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",U[U.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",U[U.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",U[U.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",U[U.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",U[U.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Me||(Me={}));var Fe=Me;class Ve{constructor(r,o,u,c,h=-1,p=-1){this.rawBytes=r,this.text=o,this.byteSegments=u,this.ecLevel=c,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=p,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Je{exp(r){return this.expTable[r]}log(r){if(r===0)throw new C;return this.logTable[r]}static addOrSubtract(r,o){return r^o}}class ot{constructor(r,o){if(o.length===0)throw new C;this.field=r;const u=o.length;if(u>1&&o[0]===0){let c=1;for(;c<u&&o[c]===0;)c++;c===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-c),D.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const o=this.coefficients;let u;if(r===1){u=0;for(let p=0,w=o.length;p!==w;p++){const b=o[p];u=Je.addOrSubtract(u,b)}return u}u=o[0];const c=o.length,h=this.field;for(let p=1;p<c;p++)u=Je.addOrSubtract(h.multiply(r,u),o[p]);return u}addOrSubtract(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,u=r.coefficients;if(o.length>u.length){const p=o;o=u,u=p}let c=new Int32Array(u.length);const h=u.length-o.length;D.arraycopy(u,0,c,0,h);for(let p=h;p<u.length;p++)c[p]=Je.addOrSubtract(o[p-h],u[p]);return new ot(this.field,c)}multiply(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const o=this.coefficients,u=o.length,c=r.coefficients,h=c.length,p=new Int32Array(u+h-1),w=this.field;for(let b=0;b<u;b++){const N=o[b];for(let O=0;O<h;O++)p[b+O]=Je.addOrSubtract(p[b+O],w.multiply(N,c[O]))}return new ot(w,p)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const o=this.coefficients.length,u=this.field,c=new Int32Array(o),h=this.coefficients;for(let p=0;p<o;p++)c[p]=u.multiply(h[p],r);return new ot(u,c)}multiplyByMonomial(r,o){if(r<0)throw new C;if(o===0)return this.field.getZero();const u=this.coefficients,c=u.length,h=new Int32Array(c+r),p=this.field;for(let w=0;w<c;w++)h[w]=p.multiply(u[w],o);return new ot(p,h)}divide(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new C("Divide by 0");const o=this.field;let u=o.getZero(),c=this;const h=r.getCoefficient(r.getDegree()),p=o.inverse(h);for(;c.getDegree()>=r.getDegree()&&!c.isZero();){const w=c.getDegree()-r.getDegree(),b=o.multiply(c.getCoefficient(c.getDegree()),p),N=r.multiplyByMonomial(w,b),O=o.buildMonomial(w,b);u=u.addOrSubtract(O),c=c.addOrSubtract(N)}return[u,c]}toString(){let r="";for(let o=this.getDegree();o>=0;o--){let u=this.getCoefficient(o);if(u!==0){if(u<0?(r+=" - ",u=-u):r.length>0&&(r+=" + "),o===0||u!==1){const c=this.field.log(u);c===0?r+="1":c===1?r+="a":(r+="a^",r+=c)}o!==0&&(o===1?r+="x":(r+="x^",r+=o))}}return r}}class gt extends m{}gt.kind="ArithmeticException";class ut extends Je{constructor(r,o,u){super(),this.primitive=r,this.size=o,this.generatorBase=u;const c=new Int32Array(o);let h=1;for(let w=0;w<o;w++)c[w]=h,h*=2,h>=o&&(h^=r,h&=o-1);this.expTable=c;const p=new Int32Array(o);for(let w=0;w<o-1;w++)p[c[w]]=w;this.logTable=p,this.zero=new ot(this,Int32Array.from([0])),this.one=new ot(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new C;if(o===0)return this.zero;const u=new Int32Array(r+1);return u[0]=o,new ot(this,u)}inverse(r){if(r===0)throw new gt;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+F.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}ut.AZTEC_DATA_12=new ut(4201,4096,1),ut.AZTEC_DATA_10=new ut(1033,1024,1),ut.AZTEC_DATA_6=new ut(67,64,1),ut.AZTEC_PARAM=new ut(19,16,1),ut.QR_CODE_FIELD_256=new ut(285,256,0),ut.DATA_MATRIX_FIELD_256=new ut(301,256,1),ut.AZTEC_DATA_8=ut.DATA_MATRIX_FIELD_256,ut.MAXICODE_FIELD_64=ut.AZTEC_DATA_6;class Ye extends m{}Ye.kind="ReedSolomonException";class pe extends m{}pe.kind="IllegalStateException";class fn{constructor(r){this.field=r}decode(r,o){const u=this.field,c=new ot(u,r),h=new Int32Array(o);let p=!0;for(let ie=0;ie<o;ie++){const we=c.evaluateAt(u.exp(ie+u.getGeneratorBase()));h[h.length-1-ie]=we,we!==0&&(p=!1)}if(p)return;const w=new ot(u,h),b=this.runEuclideanAlgorithm(u.buildMonomial(o,1),w,o),N=b[0],O=b[1],z=this.findErrorLocations(N),G=this.findErrorMagnitudes(O,z);for(let ie=0;ie<z.length;ie++){const we=r.length-1-u.log(z[ie]);if(we<0)throw new Ye("Bad error location");r[we]=ut.addOrSubtract(r[we],G[ie])}}runEuclideanAlgorithm(r,o,u){if(r.getDegree()<o.getDegree()){const ie=r;r=o,o=ie}const c=this.field;let h=r,p=o,w=c.getZero(),b=c.getOne();for(;p.getDegree()>=(u/2|0);){let ie=h,we=w;if(h=p,w=b,h.isZero())throw new Ye("r_{i-1} was zero");p=ie;let Ae=c.getZero();const Te=h.getCoefficient(h.getDegree()),ze=c.inverse(Te);for(;p.getDegree()>=h.getDegree()&&!p.isZero();){const $e=p.getDegree()-h.getDegree(),rt=c.multiply(p.getCoefficient(p.getDegree()),ze);Ae=Ae.addOrSubtract(c.buildMonomial($e,rt)),p=p.addOrSubtract(h.multiplyByMonomial($e,rt))}if(b=Ae.multiply(w).addOrSubtract(we),p.getDegree()>=h.getDegree())throw new pe("Division algorithm failed to reduce polynomial?")}const N=b.getCoefficient(0);if(N===0)throw new Ye("sigmaTilde(0) was zero");const O=c.inverse(N),z=b.multiplyScalar(O),G=p.multiplyScalar(O);return[z,G]}findErrorLocations(r){const o=r.getDegree();if(o===1)return Int32Array.from([r.getCoefficient(1)]);const u=new Int32Array(o);let c=0;const h=this.field;for(let p=1;p<h.getSize()&&c<o;p++)r.evaluateAt(p)===0&&(u[c]=h.inverse(p),c++);if(c!==o)throw new Ye("Error locator degree does not match number of roots");return u}findErrorMagnitudes(r,o){const u=o.length,c=new Int32Array(u),h=this.field;for(let p=0;p<u;p++){const w=h.inverse(o[p]);let b=1;for(let N=0;N<u;N++)if(p!==N){const O=h.multiply(o[N],w),z=O&1?O&-2:O|1;b=h.multiply(b,z)}c[p]=h.multiply(r.evaluateAt(w),h.inverse(b)),h.getGeneratorBase()!==0&&(c[p]=h.multiply(c[p],w))}return c}}var Ot;(function(U){U[U.UPPER=0]="UPPER",U[U.LOWER=1]="LOWER",U[U.MIXED=2]="MIXED",U[U.DIGIT=3]="DIGIT",U[U.PUNCT=4]="PUNCT",U[U.BINARY=5]="BINARY"})(Ot||(Ot={}));class pt{decode(r){this.ddata=r;let o=r.getBits(),u=this.extractBits(o),c=this.correctBits(u),h=pt.convertBoolArrayToByteArray(c),p=pt.getEncodedData(c),w=new Ve(h,p,null,null);return w.setNumBits(c.length),w}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let o=r.length,u=Ot.UPPER,c=Ot.UPPER,h="",p=0;for(;p<o;)if(c===Ot.BINARY){if(o-p<5)break;let w=pt.readCode(r,p,5);if(p+=5,w===0){if(o-p<11)break;w=pt.readCode(r,p,11)+31,p+=11}for(let b=0;b<w;b++){if(o-p<8){p=o;break}const N=pt.readCode(r,p,8);h+=$.castAsNonUtf8Char(N),p+=8}c=u}else{let w=c===Ot.DIGIT?4:5;if(o-p<w)break;let b=pt.readCode(r,p,w);p+=w;let N=pt.getCharacter(c,b);N.startsWith("CTRL_")?(u=c,c=pt.getTable(N.charAt(5)),N.charAt(6)==="L"&&(u=c)):(h+=N,c=u)}return h}static getTable(r){switch(r){case"L":return Ot.LOWER;case"P":return Ot.PUNCT;case"M":return Ot.MIXED;case"D":return Ot.DIGIT;case"B":return Ot.BINARY;case"U":default:return Ot.UPPER}}static getCharacter(r,o){switch(r){case Ot.UPPER:return pt.UPPER_TABLE[o];case Ot.LOWER:return pt.LOWER_TABLE[o];case Ot.MIXED:return pt.MIXED_TABLE[o];case Ot.PUNCT:return pt.PUNCT_TABLE[o];case Ot.DIGIT:return pt.DIGIT_TABLE[o];default:throw new pe("Bad table")}}correctBits(r){let o,u;this.ddata.getNbLayers()<=2?(u=6,o=ut.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,o=ut.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,o=ut.AZTEC_DATA_10):(u=12,o=ut.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),h=r.length/u;if(h<c)throw new fe;let p=r.length%u,w=new Int32Array(h);for(let G=0;G<h;G++,p+=u)w[G]=pt.readCode(r,p,u);try{new fn(o).decode(w,h-c)}catch(G){throw new fe(G)}let b=(1<<u)-1,N=0;for(let G=0;G<c;G++){let ie=w[G];if(ie===0||ie===b)throw new fe;(ie===1||ie===b-1)&&N++}let O=new Array(c*u-N),z=0;for(let G=0;G<c;G++){let ie=w[G];if(ie===1||ie===b-1)O.fill(ie>1,z,z+u-1),z+=u-1;else for(let we=u-1;we>=0;--we)O[z++]=(ie&1<<we)!==0}return O}extractBits(r){let o=this.ddata.isCompact(),u=this.ddata.getNbLayers(),c=(o?11:14)+u*4,h=new Int32Array(c),p=new Array(this.totalBitsInLayer(u,o));if(o)for(let w=0;w<h.length;w++)h[w]=w;else{let w=c+1+2*F.truncDivision(F.truncDivision(c,2)-1,15),b=c/2,N=F.truncDivision(w,2);for(let O=0;O<b;O++){let z=O+F.truncDivision(O,15);h[b-O-1]=N-z-1,h[b+O]=N+z+1}}for(let w=0,b=0;w<u;w++){let N=(u-w)*4+(o?9:12),O=w*2,z=c-1-O;for(let G=0;G<N;G++){let ie=G*2;for(let we=0;we<2;we++)p[b+ie+we]=r.get(h[O+we],h[O+G]),p[b+2*N+ie+we]=r.get(h[O+G],h[z-we]),p[b+4*N+ie+we]=r.get(h[z-we],h[z-G]),p[b+6*N+ie+we]=r.get(h[z-G],h[O+we])}b+=N*8}return p}static readCode(r,o,u){let c=0;for(let h=o;h<o+u;h++)c<<=1,r[h]&&(c|=1);return c}static readByte(r,o){let u=r.length-o;return u>=8?pt.readCode(r,o,8):pt.readCode(r,o,u)<<8-u}static convertBoolArrayToByteArray(r){let o=new Uint8Array((r.length+7)/8);for(let u=0;u<o.length;u++)o[u]=pt.readByte(r,8*u);return o}totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}pt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],pt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],pt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],pt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],pt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ke{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,o,u,c){const h=r-u,p=o-c;return Math.sqrt(h*h+p*p)}static sum(r){let o=0;for(let u=0,c=r.length;u!==c;u++){const h=r[u];o+=h}return o}}class kt{static floatToIntBits(r){return r}}kt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ze{constructor(r,o){this.x=r,this.y=o}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof Ze){const o=r;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*kt.floatToIntBits(this.x)+kt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const o=this.distance(r[0],r[1]),u=this.distance(r[1],r[2]),c=this.distance(r[0],r[2]);let h,p,w;if(u>=o&&u>=c?(p=r[0],h=r[1],w=r[2]):c>=u&&c>=o?(p=r[1],h=r[0],w=r[2]):(p=r[2],h=r[0],w=r[1]),this.crossProductZ(h,p,w)<0){const b=h;h=w,w=b}r[0]=h,r[1]=p,r[2]=w}static distance(r,o){return Ke.distance(r.x,r.y,o.x,o.y)}static crossProductZ(r,o,u){const c=o.x,h=o.y;return(u.x-c)*(r.y-h)-(u.y-h)*(r.x-c)}}class nn{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class zt extends nn{constructor(r,o,u,c,h){super(r,o),this.compact=u,this.nbDatablocks=c,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class vn{constructor(r,o,u,c){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),o==null&&(o=vn.INIT_SIZE),u==null&&(u=r.getWidth()/2|0),c==null&&(c=r.getHeight()/2|0);const h=o/2|0;if(this.leftInit=u-h,this.rightInit=u+h,this.upInit=c-h,this.downInit=c+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ce}detect(){let r=this.leftInit,o=this.rightInit,u=this.upInit,c=this.downInit,h=!1,p=!0,w=!1,b=!1,N=!1,O=!1,z=!1;const G=this.width,ie=this.height;for(;p;){p=!1;let we=!0;for(;(we||!b)&&o<G;)we=this.containsBlackPoint(u,c,o,!1),we?(o++,p=!0,b=!0):b||o++;if(o>=G){h=!0;break}let Ae=!0;for(;(Ae||!N)&&c<ie;)Ae=this.containsBlackPoint(r,o,c,!0),Ae?(c++,p=!0,N=!0):N||c++;if(c>=ie){h=!0;break}let Te=!0;for(;(Te||!O)&&r>=0;)Te=this.containsBlackPoint(u,c,r,!1),Te?(r--,p=!0,O=!0):O||r--;if(r<0){h=!0;break}let ze=!0;for(;(ze||!z)&&u>=0;)ze=this.containsBlackPoint(r,o,u,!0),ze?(u--,p=!0,z=!0):z||u--;if(u<0){h=!0;break}p&&(w=!0)}if(!h&&w){const we=o-r;let Ae=null;for(let rt=1;Ae===null&&rt<we;rt++)Ae=this.getBlackPointOnSegment(r,c-rt,r+rt,c);if(Ae==null)throw new ce;let Te=null;for(let rt=1;Te===null&&rt<we;rt++)Te=this.getBlackPointOnSegment(r,u+rt,r+rt,u);if(Te==null)throw new ce;let ze=null;for(let rt=1;ze===null&&rt<we;rt++)ze=this.getBlackPointOnSegment(o,u+rt,o-rt,u);if(ze==null)throw new ce;let $e=null;for(let rt=1;$e===null&&rt<we;rt++)$e=this.getBlackPointOnSegment(o,c-rt,o-rt,c);if($e==null)throw new ce;return this.centerEdges($e,Ae,ze,Te)}else throw new ce}getBlackPointOnSegment(r,o,u,c){const h=Ke.round(Ke.distance(r,o,u,c)),p=(u-r)/h,w=(c-o)/h,b=this.image;for(let N=0;N<h;N++){const O=Ke.round(r+N*p),z=Ke.round(o+N*w);if(b.get(O,z))return new Ze(O,z)}return null}centerEdges(r,o,u,c){const h=r.getX(),p=r.getY(),w=o.getX(),b=o.getY(),N=u.getX(),O=u.getY(),z=c.getX(),G=c.getY(),ie=vn.CORR;return h<this.width/2?[new Ze(z-ie,G+ie),new Ze(w+ie,b+ie),new Ze(N-ie,O-ie),new Ze(h+ie,p-ie)]:[new Ze(z+ie,G+ie),new Ze(w+ie,b-ie),new Ze(N-ie,O+ie),new Ze(h-ie,p-ie)]}containsBlackPoint(r,o,u,c){const h=this.image;if(c){for(let p=r;p<=o;p++)if(h.get(p,u))return!0}else for(let p=r;p<=o;p++)if(h.get(u,p))return!0;return!1}}vn.INIT_SIZE=10,vn.CORR=1;class sn{static checkAndNudgePoints(r,o){const u=r.getWidth(),c=r.getHeight();let h=!0;for(let p=0;p<o.length&&h;p+=2){const w=Math.floor(o[p]),b=Math.floor(o[p+1]);if(w<-1||w>u||b<-1||b>c)throw new ce;h=!1,w===-1?(o[p]=0,h=!0):w===u&&(o[p]=u-1,h=!0),b===-1?(o[p+1]=0,h=!0):b===c&&(o[p+1]=c-1,h=!0)}h=!0;for(let p=o.length-2;p>=0&&h;p-=2){const w=Math.floor(o[p]),b=Math.floor(o[p+1]);if(w<-1||w>u||b<-1||b>c)throw new ce;h=!1,w===-1?(o[p]=0,h=!0):w===u&&(o[p]=u-1,h=!0),b===-1?(o[p+1]=0,h=!0):b===c&&(o[p+1]=c-1,h=!0)}}}class Ut{constructor(r,o,u,c,h,p,w,b,N){this.a11=r,this.a21=o,this.a31=u,this.a12=c,this.a22=h,this.a32=p,this.a13=w,this.a23=b,this.a33=N}static quadrilateralToQuadrilateral(r,o,u,c,h,p,w,b,N,O,z,G,ie,we,Ae,Te){const ze=Ut.quadrilateralToSquare(r,o,u,c,h,p,w,b);return Ut.squareToQuadrilateral(N,O,z,G,ie,we,Ae,Te).times(ze)}transformPoints(r){const o=r.length,u=this.a11,c=this.a12,h=this.a13,p=this.a21,w=this.a22,b=this.a23,N=this.a31,O=this.a32,z=this.a33;for(let G=0;G<o;G+=2){const ie=r[G],we=r[G+1],Ae=h*ie+b*we+z;r[G]=(u*ie+p*we+N)/Ae,r[G+1]=(c*ie+w*we+O)/Ae}}transformPointsWithValues(r,o){const u=this.a11,c=this.a12,h=this.a13,p=this.a21,w=this.a22,b=this.a23,N=this.a31,O=this.a32,z=this.a33,G=r.length;for(let ie=0;ie<G;ie++){const we=r[ie],Ae=o[ie],Te=h*we+b*Ae+z;r[ie]=(u*we+p*Ae+N)/Te,o[ie]=(c*we+w*Ae+O)/Te}}static squareToQuadrilateral(r,o,u,c,h,p,w,b){const N=r-u+h-w,O=o-c+p-b;if(N===0&&O===0)return new Ut(u-r,h-u,r,c-o,p-c,o,0,0,1);{const z=u-h,G=w-h,ie=c-p,we=b-p,Ae=z*we-G*ie,Te=(N*we-G*O)/Ae,ze=(z*O-N*ie)/Ae;return new Ut(u-r+Te*u,w-r+ze*w,r,c-o+Te*c,b-o+ze*b,o,Te,ze,1)}}static quadrilateralToSquare(r,o,u,c,h,p,w,b){return Ut.squareToQuadrilateral(r,o,u,c,h,p,w,b).buildAdjoint()}buildAdjoint(){return new Ut(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new Ut(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Rn extends sn{sampleGrid(r,o,u,c,h,p,w,b,N,O,z,G,ie,we,Ae,Te,ze,$e,rt){const tt=Ut.quadrilateralToQuadrilateral(c,h,p,w,b,N,O,z,G,ie,we,Ae,Te,ze,$e,rt);return this.sampleGridWithTransform(r,o,u,tt)}sampleGridWithTransform(r,o,u,c){if(o<=0||u<=0)throw new ce;const h=new me(o,u),p=new Float32Array(2*o);for(let w=0;w<u;w++){const b=p.length,N=w+.5;for(let O=0;O<b;O+=2)p[O]=O/2+.5,p[O+1]=N;c.transformPoints(p),sn.checkAndNudgePoints(r,p);try{for(let O=0;O<b;O+=2)r.get(Math.floor(p[O]),Math.floor(p[O+1]))&&h.set(O/2,w)}catch{throw new ce}}return h}}class Xt{static setGridSampler(r){Xt.gridSampler=r}static getInstance(){return Xt.gridSampler}}Xt.gridSampler=new Rn;class Ct{constructor(r,o){this.x=r,this.y=o}toResultPoint(){return new Ze(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class $t{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let o=this.getMatrixCenter(),u=this.getBullsEyeCorners(o);if(r){let p=u[0];u[0]=u[2],u[2]=p}this.extractParameters(u);let c=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),h=this.getMatrixCornerPoints(u);return new zt(c,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new ce;let o=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(r[0],r[1],o),this.sampleLine(r[1],r[2],o),this.sampleLine(r[2],r[3],o),this.sampleLine(r[3],r[0],o)]);this.shift=this.getRotation(u,o);let c=0;for(let p=0;p<4;p++){let w=u[(this.shift+p)%4];this.compact?(c<<=7,c+=w>>1&127):(c<<=10,c+=(w>>2&992)+(w>>1&31))}let h=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(r,o){let u=0;r.forEach((c,h,p)=>{let w=(c>>o-2<<1)+(c&1);u=(u<<3)+w}),u=((u&1)<<11)+(u>>1);for(let c=0;c<4;c++)if(F.bitCount(u^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new ce}getCorrectedParameterData(r,o){let u,c;o?(u=7,c=2):(u=10,c=4);let h=u-c,p=new Int32Array(u);for(let b=u-1;b>=0;--b)p[b]=r&15,r>>=4;try{new fn(ut.AZTEC_PARAM).decode(p,h)}catch{throw new ce}let w=0;for(let b=0;b<c;b++)w=(w<<4)+p[b];return w}getBullsEyeCorners(r){let o=r,u=r,c=r,h=r,p=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let z=this.getFirstDifferent(o,p,1,-1),G=this.getFirstDifferent(u,p,1,1),ie=this.getFirstDifferent(c,p,-1,1),we=this.getFirstDifferent(h,p,-1,-1);if(this.nbCenterLayers>2){let Ae=this.distancePoint(we,z)*this.nbCenterLayers/(this.distancePoint(h,o)*(this.nbCenterLayers+2));if(Ae<.75||Ae>1.25||!this.isWhiteOrBlackRectangle(z,G,ie,we))break}o=z,u=G,c=ie,h=we,p=!p}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ce;this.compact=this.nbCenterLayers===5;let w=new Ze(o.getX()+.5,o.getY()-.5),b=new Ze(u.getX()+.5,u.getY()+.5),N=new Ze(c.getX()-.5,c.getY()+.5),O=new Ze(h.getX()-.5,h.getY()-.5);return this.expandSquare([w,b,N,O],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,o,u,c;try{let w=new vn(this.image).detect();r=w[0],o=w[1],u=w[2],c=w[3]}catch{let b=this.image.getWidth()/2,N=this.image.getHeight()/2;r=this.getFirstDifferent(new Ct(b+7,N-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Ct(b+7,N+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new Ct(b-7,N+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Ct(b-7,N-7),!1,-1,-1).toResultPoint()}let h=Ke.round((r.getX()+c.getX()+o.getX()+u.getX())/4),p=Ke.round((r.getY()+c.getY()+o.getY()+u.getY())/4);try{let w=new vn(this.image,15,h,p).detect();r=w[0],o=w[1],u=w[2],c=w[3]}catch{r=this.getFirstDifferent(new Ct(h+7,p-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Ct(h+7,p+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new Ct(h-7,p+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Ct(h-7,p-7),!1,-1,-1).toResultPoint()}return h=Ke.round((r.getX()+c.getX()+o.getX()+u.getX())/4),p=Ke.round((r.getY()+c.getY()+o.getY()+u.getY())/4),new Ct(h,p)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,o,u,c,h){let p=Xt.getInstance(),w=this.getDimension(),b=w/2-this.nbCenterLayers,N=w/2+this.nbCenterLayers;return p.sampleGrid(r,w,w,b,b,N,b,N,N,b,N,o.getX(),o.getY(),u.getX(),u.getY(),c.getX(),c.getY(),h.getX(),h.getY())}sampleLine(r,o,u){let c=0,h=this.distanceResultPoint(r,o),p=h/u,w=r.getX(),b=r.getY(),N=p*(o.getX()-r.getX())/h,O=p*(o.getY()-r.getY())/h;for(let z=0;z<u;z++)this.image.get(Ke.round(w+z*N),Ke.round(b+z*O))&&(c|=1<<u-z-1);return c}isWhiteOrBlackRectangle(r,o,u,c){let h=3;r=new Ct(r.getX()-h,r.getY()+h),o=new Ct(o.getX()-h,o.getY()-h),u=new Ct(u.getX()+h,u.getY()-h),c=new Ct(c.getX()+h,c.getY()+h);let p=this.getColor(c,r);if(p===0)return!1;let w=this.getColor(r,o);return w!==p||(w=this.getColor(o,u),w!==p)?!1:(w=this.getColor(u,c),w===p)}getColor(r,o){let u=this.distancePoint(r,o),c=(o.getX()-r.getX())/u,h=(o.getY()-r.getY())/u,p=0,w=r.getX(),b=r.getY(),N=this.image.get(r.getX(),r.getY()),O=Math.ceil(u);for(let G=0;G<O;G++)w+=c,b+=h,this.image.get(Ke.round(w),Ke.round(b))!==N&&p++;let z=p/u;return z>.1&&z<.9?0:z<=.1===N?1:-1}getFirstDifferent(r,o,u,c){let h=r.getX()+u,p=r.getY()+c;for(;this.isValid(h,p)&&this.image.get(h,p)===o;)h+=u,p+=c;for(h-=u,p-=c;this.isValid(h,p)&&this.image.get(h,p)===o;)h+=u;for(h-=u;this.isValid(h,p)&&this.image.get(h,p)===o;)p+=c;return p-=c,new Ct(h,p)}expandSquare(r,o,u){let c=u/(2*o),h=r[0].getX()-r[2].getX(),p=r[0].getY()-r[2].getY(),w=(r[0].getX()+r[2].getX())/2,b=(r[0].getY()+r[2].getY())/2,N=new Ze(w+c*h,b+c*p),O=new Ze(w-c*h,b-c*p);h=r[1].getX()-r[3].getX(),p=r[1].getY()-r[3].getY(),w=(r[1].getX()+r[3].getX())/2,b=(r[1].getY()+r[3].getY())/2;let z=new Ze(w+c*h,b+c*p),G=new Ze(w-c*h,b-c*p);return[N,z,O,G]}isValid(r,o){return r>=0&&r<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(r){let o=Ke.round(r.getX()),u=Ke.round(r.getY());return this.isValid(o,u)}distancePoint(r,o){return Ke.distance(r.getX(),r.getY(),o.getX(),o.getY())}distanceResultPoint(r,o){return Ke.distance(r.getX(),r.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(F.truncDivision(this.nbLayers-4,8)+1)+15}}class Dt{decode(r,o=null){let u=null,c=new $t(r.getBlackMatrix()),h=null,p=null;try{let O=c.detectMirror(!1);h=O.getPoints(),this.reportFoundResultPoints(o,h),p=new pt().decode(O)}catch(O){u=O}if(p==null)try{let O=c.detectMirror(!0);h=O.getPoints(),this.reportFoundResultPoints(o,h),p=new pt().decode(O)}catch(O){throw u??O}let w=new se(p.getText(),p.getRawBytes(),p.getNumBits(),h,ue.AZTEC,D.currentTimeMillis()),b=p.getByteSegments();b!=null&&w.putMetadata(Fe.BYTE_SEGMENTS,b);let N=p.getECLevel();return N!=null&&w.putMetadata(Fe.ERROR_CORRECTION_LEVEL,N),w}reportFoundResultPoints(r,o){if(r!=null){let u=r.get(Se.NEED_RESULT_POINT_CALLBACK);u!=null&&o.forEach((c,h,p)=>{u.foundPossibleResultPoint(c)})}}reset(){}}class Kn extends oe{constructor(r=500){super(new Dt,r)}}class Zt{decode(r,o){try{return this.doDecode(r,o)}catch{if(o&&o.get(Se.TRY_HARDER)===!0&&r.isRotateSupported()){const h=r.rotateCounterClockwise(),p=this.doDecode(h,o),w=p.getResultMetadata();let b=270;w!==null&&w.get(Fe.ORIENTATION)===!0&&(b=b+w.get(Fe.ORIENTATION)%360),p.putMetadata(Fe.ORIENTATION,b);const N=p.getResultPoints();if(N!==null){const O=h.getHeight();for(let z=0;z<N.length;z++)N[z]=new Ze(O-N[z].getY()-1,N[z].getX())}return p}else throw new ce}}reset(){}doDecode(r,o){const u=r.getWidth(),c=r.getHeight();let h=new Z(u);const p=o&&o.get(Se.TRY_HARDER)===!0,w=Math.max(1,c>>(p?8:5));let b;p?b=c:b=15;const N=Math.trunc(c/2);for(let O=0;O<b;O++){const z=Math.trunc((O+1)/2),G=(O&1)===0,ie=N+w*(G?z:-z);if(ie<0||ie>=c)break;try{h=r.getBlackRow(ie,h)}catch{continue}for(let we=0;we<2;we++){if(we===1&&(h.reverse(),o&&o.get(Se.NEED_RESULT_POINT_CALLBACK)===!0)){const Ae=new Map;o.forEach((Te,ze)=>Ae.set(ze,Te)),Ae.delete(Se.NEED_RESULT_POINT_CALLBACK),o=Ae}try{const Ae=this.decodeRow(ie,h,o);if(we===1){Ae.putMetadata(Fe.ORIENTATION,180);const Te=Ae.getResultPoints();Te!==null&&(Te[0]=new Ze(u-Te[0].getX()-1,Te[0].getY()),Te[1]=new Ze(u-Te[1].getX()-1,Te[1].getY()))}return Ae}catch{}}}throw new ce}static recordPattern(r,o,u){const c=u.length;for(let N=0;N<c;N++)u[N]=0;const h=r.getSize();if(o>=h)throw new ce;let p=!r.get(o),w=0,b=o;for(;b<h;){if(r.get(b)!==p)u[w]++;else{if(++w===c)break;u[w]=1,p=!p}b++}if(!(w===c||w===c-1&&b===h))throw new ce}static recordPatternInReverse(r,o,u){let c=u.length,h=r.get(o);for(;o>0&&c>=0;)r.get(--o)!==h&&(c--,h=!h);if(c>=0)throw new ce;Zt.recordPattern(r,o+1,u)}static patternMatchVariance(r,o,u){const c=r.length;let h=0,p=0;for(let N=0;N<c;N++)h+=r[N],p+=o[N];if(h<p)return Number.POSITIVE_INFINITY;const w=h/p;u*=w;let b=0;for(let N=0;N<c;N++){const O=r[N],z=o[N]*w,G=O>z?O-z:z-O;if(G>u)return Number.POSITIVE_INFINITY;b+=G}return b/h}}class Ge extends Zt{static findStartPattern(r){const o=r.getSize(),u=r.getNextSet(0);let c=0,h=Int32Array.from([0,0,0,0,0,0]),p=u,w=!1;const b=6;for(let N=u;N<o;N++)if(r.get(N)!==w)h[c]++;else{if(c===b-1){let O=Ge.MAX_AVG_VARIANCE,z=-1;for(let G=Ge.CODE_START_A;G<=Ge.CODE_START_C;G++){const ie=Zt.patternMatchVariance(h,Ge.CODE_PATTERNS[G],Ge.MAX_INDIVIDUAL_VARIANCE);ie<O&&(O=ie,z=G)}if(z>=0&&r.isRange(Math.max(0,p-(N-p)/2),p,!1))return Int32Array.from([p,N,z]);p+=h[0]+h[1],h=h.slice(2,h.length-1),h[c-1]=0,h[c]=0,c--}else c++;h[c]=1,w=!w}throw new ce}static decodeCode(r,o,u){Zt.recordPattern(r,u,o);let c=Ge.MAX_AVG_VARIANCE,h=-1;for(let p=0;p<Ge.CODE_PATTERNS.length;p++){const w=Ge.CODE_PATTERNS[p],b=this.patternMatchVariance(o,w,Ge.MAX_INDIVIDUAL_VARIANCE);b<c&&(c=b,h=p)}if(h>=0)return h;throw new ce}decodeRow(r,o,u){const c=u&&u.get(Se.ASSUME_GS1)===!0,h=Ge.findStartPattern(o),p=h[2];let w=0;const b=new Uint8Array(20);b[w++]=p;let N;switch(p){case Ge.CODE_START_A:N=Ge.CODE_CODE_A;break;case Ge.CODE_START_B:N=Ge.CODE_CODE_B;break;case Ge.CODE_START_C:N=Ge.CODE_CODE_C;break;default:throw new fe}let O=!1,z=!1,G="",ie=h[0],we=h[1];const Ae=Int32Array.from([0,0,0,0,0,0]);let Te=0,ze=0,$e=p,rt=0,tt=!0,Wt=!1,Jt=!1;for(;!O;){const po=z;switch(z=!1,Te=ze,ze=Ge.decodeCode(o,Ae,we),b[w++]=ze,ze!==Ge.CODE_STOP&&(tt=!0),ze!==Ge.CODE_STOP&&(rt++,$e+=rt*ze),ie=we,we+=Ae.reduce((Wl,Io)=>Wl+Io,0),ze){case Ge.CODE_START_A:case Ge.CODE_START_B:case Ge.CODE_START_C:throw new fe}switch(N){case Ge.CODE_CODE_A:if(ze<64)Jt===Wt?G+=String.fromCharCode(32+ze):G+=String.fromCharCode(32+ze+128),Jt=!1;else if(ze<96)Jt===Wt?G+=String.fromCharCode(ze-64):G+=String.fromCharCode(ze+64),Jt=!1;else switch(ze!==Ge.CODE_STOP&&(tt=!1),ze){case Ge.CODE_FNC_1:c&&(G.length===0?G+="]C1":G+="");break;case Ge.CODE_FNC_2:case Ge.CODE_FNC_3:break;case Ge.CODE_FNC_4_A:!Wt&&Jt?(Wt=!0,Jt=!1):Wt&&Jt?(Wt=!1,Jt=!1):Jt=!0;break;case Ge.CODE_SHIFT:z=!0,N=Ge.CODE_CODE_B;break;case Ge.CODE_CODE_B:N=Ge.CODE_CODE_B;break;case Ge.CODE_CODE_C:N=Ge.CODE_CODE_C;break;case Ge.CODE_STOP:O=!0;break}break;case Ge.CODE_CODE_B:if(ze<96)Jt===Wt?G+=String.fromCharCode(32+ze):G+=String.fromCharCode(32+ze+128),Jt=!1;else switch(ze!==Ge.CODE_STOP&&(tt=!1),ze){case Ge.CODE_FNC_1:c&&(G.length===0?G+="]C1":G+="");break;case Ge.CODE_FNC_2:case Ge.CODE_FNC_3:break;case Ge.CODE_FNC_4_B:!Wt&&Jt?(Wt=!0,Jt=!1):Wt&&Jt?(Wt=!1,Jt=!1):Jt=!0;break;case Ge.CODE_SHIFT:z=!0,N=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_A:N=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_C:N=Ge.CODE_CODE_C;break;case Ge.CODE_STOP:O=!0;break}break;case Ge.CODE_CODE_C:if(ze<100)ze<10&&(G+="0"),G+=ze;else switch(ze!==Ge.CODE_STOP&&(tt=!1),ze){case Ge.CODE_FNC_1:c&&(G.length===0?G+="]C1":G+="");break;case Ge.CODE_CODE_A:N=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_B:N=Ge.CODE_CODE_B;break;case Ge.CODE_STOP:O=!0;break}break}po&&(N=N===Ge.CODE_CODE_A?Ge.CODE_CODE_B:Ge.CODE_CODE_A)}const Xn=we-ie;if(we=o.getNextUnset(we),!o.isRange(we,Math.min(o.getSize(),we+(we-ie)/2),!1))throw new ce;if($e-=rt*Te,$e%103!==Te)throw new S;const kr=G.length;if(kr===0)throw new ce;kr>0&&tt&&(N===Ge.CODE_CODE_C?G=G.substring(0,kr-2):G=G.substring(0,kr-1));const ei=(h[1]+h[0])/2,On=ie+Xn/2,Wr=b.length,yi=new Uint8Array(Wr);for(let po=0;po<Wr;po++)yi[po]=b[po];const ks=[new Ze(ei,r),new Ze(On,r)];return new se(G,yi,0,ks,ue.CODE_128,new Date().getTime())}}Ge.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ge.MAX_AVG_VARIANCE=.25,Ge.MAX_INDIVIDUAL_VARIANCE=.7,Ge.CODE_SHIFT=98,Ge.CODE_CODE_C=99,Ge.CODE_CODE_B=100,Ge.CODE_CODE_A=101,Ge.CODE_FNC_1=102,Ge.CODE_FNC_2=97,Ge.CODE_FNC_3=96,Ge.CODE_FNC_4_A=101,Ge.CODE_FNC_4_B=100,Ge.CODE_START_A=103,Ge.CODE_START_B=104,Ge.CODE_START_C=105,Ge.CODE_STOP=106;class Tt extends Zt{constructor(r=!1,o=!1){super(),this.usingCheckDigit=r,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,o,u){let c=this.counters;c.fill(0),this.decodeRowResult="";let h=Tt.findAsteriskPattern(o,c),p=o.getNextSet(h[1]),w=o.getSize(),b,N;do{Tt.recordPattern(o,p,c);let Ae=Tt.toNarrowWidePattern(c);if(Ae<0)throw new ce;b=Tt.patternToChar(Ae),this.decodeRowResult+=b,N=p;for(let Te of c)p+=Te;p=o.getNextSet(p)}while(b!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let O=0;for(let Ae of c)O+=Ae;let z=p-N-O;if(p!==w&&z*2<O)throw new ce;if(this.usingCheckDigit){let Ae=this.decodeRowResult.length-1,Te=0;for(let ze=0;ze<Ae;ze++)Te+=Tt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ze));if(this.decodeRowResult.charAt(Ae)!==Tt.ALPHABET_STRING.charAt(Te%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,Ae)}if(this.decodeRowResult.length===0)throw new ce;let G;this.extendedMode?G=Tt.decodeExtended(this.decodeRowResult):G=this.decodeRowResult;let ie=(h[1]+h[0])/2,we=N+O/2;return new se(G,null,0,[new Ze(ie,r),new Ze(we,r)],ue.CODE_39,new Date().getTime())}static findAsteriskPattern(r,o){let u=r.getSize(),c=r.getNextSet(0),h=0,p=c,w=!1,b=o.length;for(let N=c;N<u;N++)if(r.get(N)!==w)o[h]++;else{if(h===b-1){if(this.toNarrowWidePattern(o)===Tt.ASTERISK_ENCODING&&r.isRange(Math.max(0,p-Math.floor((N-p)/2)),p,!1))return[p,N];p+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,w=!w}throw new ce}static toNarrowWidePattern(r){let o=r.length,u=0,c;do{let h=2147483647;for(let b of r)b<h&&b>u&&(h=b);u=h,c=0;let p=0,w=0;for(let b=0;b<o;b++){let N=r[b];N>u&&(w|=1<<o-1-b,c++,p+=N)}if(c===3){for(let b=0;b<o&&c>0;b++){let N=r[b];if(N>u&&(c--,N*2>=p))return-1}return w}}while(c>3);return-1}static patternToChar(r){for(let o=0;o<Tt.CHARACTER_ENCODINGS.length;o++)if(Tt.CHARACTER_ENCODINGS[o]===r)return Tt.ALPHABET_STRING.charAt(o);if(r===Tt.ASTERISK_ENCODING)return"*";throw new ce}static decodeExtended(r){let o=r.length,u="";for(let c=0;c<o;c++){let h=r.charAt(c);if(h==="+"||h==="$"||h==="%"||h==="/"){let p=r.charAt(c+1),w="\0";switch(h){case"+":if(p>="A"&&p<="Z")w=String.fromCharCode(p.charCodeAt(0)+32);else throw new fe;break;case"$":if(p>="A"&&p<="Z")w=String.fromCharCode(p.charCodeAt(0)-64);else throw new fe;break;case"%":if(p>="A"&&p<="E")w=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")w=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")w=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")w=String.fromCharCode(p.charCodeAt(0)+43);else if(p==="U")w="\0";else if(p==="V")w="@";else if(p==="W")w="`";else if(p==="X"||p==="Y"||p==="Z")w="";else throw new fe;break;case"/":if(p>="A"&&p<="O")w=String.fromCharCode(p.charCodeAt(0)-32);else if(p==="Z")w=":";else throw new fe;break}u+=w,c++}else u+=h}return u}}Tt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Tt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Tt.ASTERISK_ENCODING=148;class Gt extends Zt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,o,u){let c=this.decodeStart(o),h=this.decodeEnd(o),p=new ge;Gt.decodeMiddle(o,c[1],h[0],p);let w=p.toString(),b=null;u!=null&&(b=u.get(Se.ALLOWED_LENGTHS)),b==null&&(b=Gt.DEFAULT_ALLOWED_LENGTHS);let N=w.length,O=!1,z=0;for(let we of b){if(N===we){O=!0;break}we>z&&(z=we)}if(!O&&N>z&&(O=!0),!O)throw new fe;const G=[new Ze(c[1],r),new Ze(h[0],r)];return new se(w,null,0,G,ue.ITF,new Date().getTime())}static decodeMiddle(r,o,u,c){let h=new Int32Array(10),p=new Int32Array(5),w=new Int32Array(5);for(h.fill(0),p.fill(0),w.fill(0);o<u;){Zt.recordPattern(r,o,h);for(let N=0;N<5;N++){let O=2*N;p[N]=h[O],w[N]=h[O+1]}let b=Gt.decodeDigit(p);c.append(b.toString()),b=this.decodeDigit(w),c.append(b.toString()),h.forEach(function(N){o+=N})}}decodeStart(r){let o=Gt.skipWhiteSpace(r),u=Gt.findGuardPattern(r,o,Gt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(r,u[0]),u}validateQuietZone(r,o){let u=this.narrowLineWidth*10;u=u<o?u:o;for(let c=o-1;u>0&&c>=0&&!r.get(c);c--)u--;if(u!==0)throw new ce}static skipWhiteSpace(r){const o=r.getSize(),u=r.getNextSet(0);if(u===o)throw new ce;return u}decodeEnd(r){r.reverse();try{let o=Gt.skipWhiteSpace(r),u;try{u=Gt.findGuardPattern(r,o,Gt.END_PATTERN_REVERSED[0])}catch(h){h instanceof ce&&(u=Gt.findGuardPattern(r,o,Gt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,u[0]);let c=u[0];return u[0]=r.getSize()-u[1],u[1]=r.getSize()-c,u}finally{r.reverse()}}static findGuardPattern(r,o,u){let c=u.length,h=new Int32Array(c),p=r.getSize(),w=!1,b=0,N=o;h.fill(0);for(let O=o;O<p;O++)if(r.get(O)!==w)h[b]++;else{if(b===c-1){if(Zt.patternMatchVariance(h,u,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return[N,O];N+=h[0]+h[1],D.arraycopy(h,2,h,0,b-1),h[b-1]=0,h[b]=0,b--}else b++;h[b]=1,w=!w}throw new ce}static decodeDigit(r){let o=Gt.MAX_AVG_VARIANCE,u=-1,c=Gt.PATTERNS.length;for(let h=0;h<c;h++){let p=Gt.PATTERNS[h],w=Zt.patternMatchVariance(r,p,Gt.MAX_INDIVIDUAL_VARIANCE);w<o?(o=w,u=h):w===o&&(u=-1)}if(u>=0)return u%10;throw new ce}}Gt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Gt.MAX_AVG_VARIANCE=.38,Gt.MAX_INDIVIDUAL_VARIANCE=.5,Gt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Gt.START_PATTERN=Int32Array.from([1,1,1,1]),Gt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class xt extends Zt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let o=!1,u,c=0,h=Int32Array.from([0,0,0]);for(;!o;){h=Int32Array.from([0,0,0]),u=xt.findGuardPattern(r,c,!1,this.START_END_PATTERN,h);let p=u[0];c=u[1];let w=p-(c-p);w>=0&&(o=r.isRange(w,p,!1))}return u}static checkChecksum(r){return xt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let u=parseInt(r.charAt(o-1),10);return xt.getStandardUPCEANChecksum(r.substring(0,o-1))===u}static getStandardUPCEANChecksum(r){let o=r.length,u=0;for(let c=o-1;c>=0;c-=2){let h=r.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new fe;u+=h}u*=3;for(let c=o-2;c>=0;c-=2){let h=r.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new fe;u+=h}return(1e3-u)%10}static decodeEnd(r,o){return xt.findGuardPattern(r,o,!1,xt.START_END_PATTERN,new Int32Array(xt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,o,u,c){return this.findGuardPattern(r,o,u,c,new Int32Array(c.length))}static findGuardPattern(r,o,u,c,h){let p=r.getSize();o=u?r.getNextUnset(o):r.getNextSet(o);let w=0,b=o,N=c.length,O=u;for(let z=o;z<p;z++)if(r.get(z)!==O)h[w]++;else{if(w===N-1){if(Zt.patternMatchVariance(h,c,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return Int32Array.from([b,z]);b+=h[0]+h[1];let G=h.slice(2,h.length-1);for(let ie=0;ie<w-1;ie++)h[ie]=G[ie];h[w-1]=0,h[w]=0,w--}else w++;h[w]=1,O=!O}throw new ce}static decodeDigit(r,o,u,c){this.recordPattern(r,u,o);let h=this.MAX_AVG_VARIANCE,p=-1,w=c.length;for(let b=0;b<w;b++){let N=c[b],O=Zt.patternMatchVariance(o,N,xt.MAX_INDIVIDUAL_VARIANCE);O<h&&(h=O,p=b)}if(p>=0)return p;throw new ce}}xt.MAX_AVG_VARIANCE=.48,xt.MAX_INDIVIDUAL_VARIANCE=.7,xt.START_END_PATTERN=Int32Array.from([1,1,1]),xt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),xt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class yn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,u){let c=this.decodeRowStringBuffer,h=this.decodeMiddle(o,u,c),p=c.toString(),w=yn.parseExtensionString(p),b=[new Ze((u[0]+u[1])/2,r),new Ze(h,r)],N=new se(p,null,0,b,ue.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&N.putAllMetadata(w),N}decodeMiddle(r,o,u){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=r.getSize(),p=o[1],w=0;for(let N=0;N<5&&p<h;N++){let O=xt.decodeDigit(r,c,p,xt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+O%10);for(let z of c)p+=z;O>=10&&(w|=1<<4-N),N!==4&&(p=r.getNextSet(p),p=r.getNextUnset(p))}if(u.length!==5)throw new ce;let b=this.determineCheckDigit(w);if(yn.extensionChecksum(u.toString())!==b)throw new ce;return p}static extensionChecksum(r){let o=r.length,u=0;for(let c=o-2;c>=0;c-=2)u+=r.charAt(c).charCodeAt(0)-48;u*=3;for(let c=o-1;c>=0;c-=2)u+=r.charAt(c).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(r){for(let o=0;o<10;o++)if(r===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ce}static parseExtensionString(r){if(r.length!==5)return null;let o=yn.parseExtension5String(r);return o==null?null:new Map([[Fe.SUGGESTED_PRICE,o]])}static parseExtension5String(r){let o;switch(r.charAt(0)){case"0":o="£";break;case"5":o="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let u=parseInt(r.substring(1)),c=(u/100).toString(),h=u%100,p=h<10?"0"+h:h.toString();return o+c+"."+p}}class an{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,u){let c=this.decodeRowStringBuffer,h=this.decodeMiddle(o,u,c),p=c.toString(),w=an.parseExtensionString(p),b=[new Ze((u[0]+u[1])/2,r),new Ze(h,r)],N=new se(p,null,0,b,ue.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&N.putAllMetadata(w),N}decodeMiddle(r,o,u){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=r.getSize(),p=o[1],w=0;for(let b=0;b<2&&p<h;b++){let N=xt.decodeDigit(r,c,p,xt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+N%10);for(let O of c)p+=O;N>=10&&(w|=1<<1-b),b!==1&&(p=r.getNextSet(p),p=r.getNextUnset(p))}if(u.length!==2)throw new ce;if(parseInt(u.toString())%4!==w)throw new ce;return p}static parseExtensionString(r){return r.length!==2?null:new Map([[Fe.ISSUE_NUMBER,parseInt(r)]])}}class lr{static decodeRow(r,o,u){let c=xt.findGuardPattern(o,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new yn().decodeRow(r,o,c)}catch{return new an().decodeRow(r,o,c)}}}lr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Kt extends xt{constructor(){super(),this.decodeRowStringBuffer="",Kt.L_AND_G_PATTERNS=Kt.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let o=Kt.L_PATTERNS[r-10],u=new Int32Array(o.length);for(let c=0;c<o.length;c++)u[c]=o[o.length-c-1];Kt.L_AND_G_PATTERNS[r]=u}}decodeRow(r,o,u){let c=Kt.findStartGuardPattern(o),h=u==null?null:u.get(Se.NEED_RESULT_POINT_CALLBACK);if(h!=null){const tt=new Ze((c[0]+c[1])/2,r);h.foundPossibleResultPoint(tt)}let p=this.decodeMiddle(o,c,this.decodeRowStringBuffer),w=p.rowOffset,b=p.resultString;if(h!=null){const tt=new Ze(w,r);h.foundPossibleResultPoint(tt)}let N=this.decodeEnd(o,w);if(h!=null){const tt=new Ze((N[0]+N[1])/2,r);h.foundPossibleResultPoint(tt)}let O=N[1],z=O+(O-N[0]);if(z>=o.getSize()||!o.isRange(O,z,!1))throw new ce;let G=b.toString();if(G.length<8)throw new fe;if(!Kt.checkChecksum(G))throw new S;let ie=(c[1]+c[0])/2,we=(N[1]+N[0])/2,Ae=this.getBarcodeFormat(),Te=[new Ze(ie,r),new Ze(we,r)],ze=new se(G,null,0,Te,Ae,new Date().getTime()),$e=0;try{let tt=lr.decodeRow(r,o,N[1]);ze.putMetadata(Fe.UPC_EAN_EXTENSION,tt.getText()),ze.putAllMetadata(tt.getResultMetadata()),ze.addResultPoints(tt.getResultPoints()),$e=tt.getText().length}catch{}let rt=u==null?null:u.get(Se.ALLOWED_EAN_EXTENSIONS);if(rt!=null){let tt=!1;for(let Wt in rt)if($e.toString()===Wt){tt=!0;break}if(!tt)throw new ce}return ze}decodeEnd(r,o){return Kt.findGuardPattern(r,o,!1,Kt.START_END_PATTERN,new Int32Array(Kt.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return Kt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let u=parseInt(r.charAt(o-1),10);return Kt.getStandardUPCEANChecksum(r.substring(0,o-1))===u}static getStandardUPCEANChecksum(r){let o=r.length,u=0;for(let c=o-1;c>=0;c-=2){let h=r.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new fe;u+=h}u*=3;for(let c=o-2;c>=0;c-=2){let h=r.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new fe;u+=h}return(1e3-u)%10}}class Tn extends Kt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,u){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=r.getSize(),p=o[1],w=0;for(let N=0;N<6&&p<h;N++){let O=Kt.decodeDigit(r,c,p,Kt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+O%10);for(let z of c)p+=z;O>=10&&(w|=1<<5-N)}u=Tn.determineFirstDigit(u,w),p=Kt.findGuardPattern(r,p,!0,Kt.MIDDLE_PATTERN,new Int32Array(Kt.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<6&&p<h;N++){let O=Kt.decodeDigit(r,c,p,Kt.L_PATTERNS);u+=String.fromCharCode(48+O);for(let z of c)p+=z}return{rowOffset:p,resultString:u}}getBarcodeFormat(){return ue.EAN_13}static determineFirstDigit(r,o){for(let u=0;u<10;u++)if(o===this.FIRST_DIGIT_ENCODINGS[u])return r=String.fromCharCode(48+u)+r,r;throw new ce}}Tn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class rn extends Kt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,u){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=r.getSize(),p=o[1];for(let b=0;b<4&&p<h;b++){let N=Kt.decodeDigit(r,c,p,Kt.L_PATTERNS);u+=String.fromCharCode(48+N);for(let O of c)p+=O}p=Kt.findGuardPattern(r,p,!0,Kt.MIDDLE_PATTERN,new Int32Array(Kt.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<4&&p<h;b++){let N=Kt.decodeDigit(r,c,p,Kt.L_PATTERNS);u+=String.fromCharCode(48+N);for(let O of c)p+=O}return{rowOffset:p,resultString:u}}getBarcodeFormat(){return ue.EAN_8}}class Mn extends Kt{constructor(){super(...arguments),this.ean13Reader=new Tn}getBarcodeFormat(){return ue.UPC_A}decode(r,o){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,o,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,o,u))}decodeMiddle(r,o,u){return this.ean13Reader.decodeMiddle(r,o,u)}maybeReturnResult(r){let o=r.getText();if(o.charAt(0)==="0"){let u=new se(o.substring(1),null,null,r.getResultPoints(),ue.UPC_A);return r.getResultMetadata()!=null&&u.putAllMetadata(r.getResultMetadata()),u}else throw new ce}reset(){this.ean13Reader.reset()}}class Xr extends Kt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,o,u){const c=this.decodeMiddleCounters.map(N=>N);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const h=r.getSize();let p=o[1],w=0;for(let N=0;N<6&&p<h;N++){const O=Xr.decodeDigit(r,c,p,Xr.L_AND_G_PATTERNS);u+=String.fromCharCode(48+O%10);for(let z of c)p+=z;O>=10&&(w|=1<<5-N)}let b=Xr.determineNumSysAndCheckDigit(u,w);return{rowOffset:p,resultString:b}}decodeEnd(r,o){return Xr.findGuardPatternWithoutCounters(r,o,!0,Xr.MIDDLE_END_PATTERN)}checkChecksum(r){return Kt.checkChecksum(Xr.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,o){for(let u=0;u<=1;u++)for(let c=0;c<10;c++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][c]){let h=String.fromCharCode(48+u),p=String.fromCharCode(48+c);return h+r+p}throw ce.getNotFoundInstance()}getBarcodeFormat(){return ue.UPC_E}static convertUPCEtoUPCA(r){const o=r.slice(1,7).split("").map(h=>h.charCodeAt(0)),u=new ge;u.append(r.charAt(0));let c=o[5];switch(c){case 0:case 1:case 2:u.appendChars(o,0,2),u.append(c),u.append("0000"),u.appendChars(o,2,3);break;case 3:u.appendChars(o,0,3),u.append("00000"),u.appendChars(o,3,2);break;case 4:u.appendChars(o,0,4),u.append("00000"),u.append(o[4]);break;default:u.appendChars(o,0,5),u.append("0000"),u.append(c);break}return r.length>=8&&u.append(r.charAt(7)),u.toString()}}Xr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Xr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Fr extends Zt{constructor(r){super();let o=r==null?null:r.get(Se.POSSIBLE_FORMATS),u=[];i(o)?(u.push(new Tn),u.push(new Mn),u.push(new rn),u.push(new Xr)):(o.indexOf(ue.EAN_13)>-1&&u.push(new Tn),o.indexOf(ue.UPC_A)>-1&&u.push(new Mn),o.indexOf(ue.EAN_8)>-1&&u.push(new rn),o.indexOf(ue.UPC_E)>-1&&u.push(new Xr)),this.readers=u}decodeRow(r,o,u){for(let c of this.readers)try{const h=c.decodeRow(r,o,u),p=h.getBarcodeFormat()===ue.EAN_13&&h.getText().charAt(0)==="0",w=u==null?null:u.get(Se.POSSIBLE_FORMATS),b=w==null||w.includes(ue.UPC_A);if(p&&b){const N=h.getRawBytes(),O=new se(h.getText().substring(1),N,N?N.length:null,h.getResultPoints(),ue.UPC_A);return O.putAllMetadata(h.getResultMetadata()),O}return h}catch{}throw new ce}reset(){for(let r of this.readers)r.reset()}}class sr extends Zt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,o){for(let u=0;u<o.length;u++)if(Zt.patternMatchVariance(r,o[u],sr.MAX_INDIVIDUAL_VARIANCE)<sr.MAX_AVG_VARIANCE)return u;throw new ce}static count(r){return Ke.sum(new Int32Array(r))}static increment(r,o){let u=0,c=o[0];for(let h=1;h<r.length;h++)o[h]>c&&(c=o[h],u=h);r[u]++}static decrement(r,o){let u=0,c=o[0];for(let h=1;h<r.length;h++)o[h]<c&&(c=o[h],u=h);r[u]--}static isFinderPattern(r){let o=r[0]+r[1],u=o+r[2]+r[3],c=o/u;if(c>=sr.MIN_FINDER_PATTERN_RATIO&&c<=sr.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let w of r)w>p&&(p=w),w<h&&(h=w);return p<10*h}return!1}}sr.MAX_AVG_VARIANCE=.2,sr.MAX_INDIVIDUAL_VARIANCE=.45,sr.MIN_FINDER_PATTERN_RATIO=9.5/12,sr.MAX_FINDER_PATTERN_RATIO=12.5/14;class pi{constructor(r,o){this.value=r,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof pi))return!1;const o=r;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ht{constructor(r,o,u,c,h){this.value=r,this.startEnd=o,this.value=r,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Ze(u,h)),this.resultPoints.push(new Ze(c,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof Ht))return!1;const o=r;return this.value===o.value}hashCode(){return this.value}}class jr{constructor(){}static getRSSvalue(r,o,u){let c=0;for(let b of r)c+=b;let h=0,p=0,w=r.length;for(let b=0;b<w-1;b++){let N;for(N=1,p|=1<<b;N<r[b];N++,p&=~(1<<b)){let O=jr.combins(c-N-1,w-b-2);if(u&&p===0&&c-N-(w-b-1)>=w-b-1&&(O-=jr.combins(c-N-(w-b),w-b-2)),w-b-1>1){let z=0;for(let G=c-N-(w-b-2);G>o;G--)z+=jr.combins(c-N-G-1,w-b-3);O-=z*(w-1-b)}else c-N>o&&O--;h+=O}c-=N}return h}static combins(r,o){let u,c;r-o>o?(c=o,u=r-o):(c=r-o,u=o);let h=1,p=1;for(let w=r;w>u;w--)h*=w,p<=c&&(h/=p,p++);for(;p<=c;)h/=p,p++;return h}}class Fo{static buildBitArray(r){let o=r.length*2-1;r[r.length-1].getRightChar()==null&&(o-=1);let u=12*o,c=new Z(u),h=0,w=r[0].getRightChar().getValue();for(let b=11;b>=0;--b)w&1<<b&&c.set(h),h++;for(let b=1;b<r.length;++b){let N=r[b],O=N.getLeftChar().getValue();for(let z=11;z>=0;--z)O&1<<z&&c.set(h),h++;if(N.getRightChar()!=null){let z=N.getRightChar().getValue();for(let G=11;G>=0;--G)z&1<<G&&c.set(h),h++}}return c}}class zr{constructor(r,o){o?this.decodedInformation=null:(this.finished=r,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ci{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class un extends Ci{constructor(r,o){super(r),this.value=o}getValue(){return this.value}isFNC1(){return this.value===un.FNC1}}un.FNC1="$";class mt extends Ci{constructor(r,o,u){super(r),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Bn extends Ci{constructor(r,o,u){if(super(r),o<0||o>10||u<0||u>10)throw new fe;this.firstDigit=o,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Bn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Bn.FNC1}isAnyFNC1(){return this.firstDigit===Bn.FNC1||this.secondDigit===Bn.FNC1}}Bn.FNC1=10;class At{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new ce;let o=r.substring(0,2);for(let h of At.TWO_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===At.VARIABLE_LENGTH?At.processVariableAI(2,h[2],r):At.processFixedAI(2,h[1],r);if(r.length<3)throw new ce;let u=r.substring(0,3);for(let h of At.THREE_DIGIT_DATA_LENGTH)if(h[0]===u)return h[1]===At.VARIABLE_LENGTH?At.processVariableAI(3,h[2],r):At.processFixedAI(3,h[1],r);for(let h of At.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===u)return h[1]===At.VARIABLE_LENGTH?At.processVariableAI(4,h[2],r):At.processFixedAI(4,h[1],r);if(r.length<4)throw new ce;let c=r.substring(0,4);for(let h of At.FOUR_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===At.VARIABLE_LENGTH?At.processVariableAI(4,h[2],r):At.processFixedAI(4,h[1],r);throw new ce}static processFixedAI(r,o,u){if(u.length<r)throw new ce;let c=u.substring(0,r);if(u.length<r+o)throw new ce;let h=u.substring(r,r+o),p=u.substring(r+o),w="("+c+")"+h,b=At.parseFieldsInGeneralPurpose(p);return b==null?w:w+b}static processVariableAI(r,o,u){let c=u.substring(0,r),h;u.length<r+o?h=u.length:h=r+o;let p=u.substring(r,h),w=u.substring(h),b="("+c+")"+p,N=At.parseFieldsInGeneralPurpose(w);return N==null?b:b+N}}At.VARIABLE_LENGTH=[],At.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",At.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",At.VARIABLE_LENGTH,20],["22",At.VARIABLE_LENGTH,29],["30",At.VARIABLE_LENGTH,8],["37",At.VARIABLE_LENGTH,8],["90",At.VARIABLE_LENGTH,30],["91",At.VARIABLE_LENGTH,30],["92",At.VARIABLE_LENGTH,30],["93",At.VARIABLE_LENGTH,30],["94",At.VARIABLE_LENGTH,30],["95",At.VARIABLE_LENGTH,30],["96",At.VARIABLE_LENGTH,30],["97",At.VARIABLE_LENGTH,3],["98",At.VARIABLE_LENGTH,30],["99",At.VARIABLE_LENGTH,30]],At.THREE_DIGIT_DATA_LENGTH=[["240",At.VARIABLE_LENGTH,30],["241",At.VARIABLE_LENGTH,30],["242",At.VARIABLE_LENGTH,6],["250",At.VARIABLE_LENGTH,30],["251",At.VARIABLE_LENGTH,30],["253",At.VARIABLE_LENGTH,17],["254",At.VARIABLE_LENGTH,20],["400",At.VARIABLE_LENGTH,30],["401",At.VARIABLE_LENGTH,30],["402",17],["403",At.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",At.VARIABLE_LENGTH,20],["421",At.VARIABLE_LENGTH,15],["422",3],["423",At.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],At.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",At.VARIABLE_LENGTH,15],["391",At.VARIABLE_LENGTH,18],["392",At.VARIABLE_LENGTH,15],["393",At.VARIABLE_LENGTH,18],["703",At.VARIABLE_LENGTH,30]],At.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",At.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",At.VARIABLE_LENGTH,20],["8003",At.VARIABLE_LENGTH,30],["8004",At.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",At.VARIABLE_LENGTH,30],["8008",At.VARIABLE_LENGTH,12],["8018",18],["8020",At.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",At.VARIABLE_LENGTH,70],["8200",At.VARIABLE_LENGTH,70]];class Si{constructor(r){this.buffer=new ge,this.information=r}decodeAllCodes(r,o){let u=o,c=null;do{let h=this.decodeGeneralPurposeField(u,c),p=At.parseFieldsInGeneralPurpose(h.getNewString());if(p!=null&&r.append(p),h.isRemaining()?c=""+h.getRemainingValue():c=null,u===h.getNewPosition())break;u=h.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let o=r;o<r+3;++o)if(this.information.get(o))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(r,4);return h===0?new Bn(this.information.getSize(),Bn.FNC1,Bn.FNC1):new Bn(this.information.getSize(),h-1,Bn.FNC1)}let o=this.extractNumericValueFromBitArray(r,7),u=(o-8)/11,c=(o-8)%11;return new Bn(r+7,u,c)}extractNumericValueFromBitArray(r,o){return Si.extractNumericValueFromBitArray(this.information,r,o)}static extractNumericValueFromBitArray(r,o,u){let c=0;for(let h=0;h<u;++h)r.get(o+h)&&(c|=1<<u-h-1);return c}decodeGeneralPurposeField(r,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(r);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new mt(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new mt(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,o;do{let u=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),r=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),r=o.isFinished()):(o=this.parseNumericBlock(),r=o.isFinished()),!(u!==this.current.getPosition())&&!r)break}while(!r);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let o;return r.isSecondDigitFNC1()?o=new mt(this.current.getPosition(),this.buffer.toString()):o=new mt(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new zr(!0,o)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let o=new mt(this.current.getPosition(),this.buffer.toString());return new zr(!0,o)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new zr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new mt(this.current.getPosition(),this.buffer.toString());return new zr(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new zr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new mt(this.current.getPosition(),this.buffer.toString());return new zr(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new zr(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(r,7);if(u>=64&&u<116)return!0;if(r+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(r,8);return c>=232&&c<253}decodeIsoIec646(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new un(r+5,un.FNC1);if(o>=5&&o<15)return new un(r+5,"0"+(o-5));let u=this.extractNumericValueFromBitArray(r,7);if(u>=64&&u<90)return new un(r+7,""+(u+1));if(u>=90&&u<116)return new un(r+7,""+(u+7));let c=this.extractNumericValueFromBitArray(r,8),h;switch(c){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new fe}return new un(r+8,h)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(r,6);return u>=16&&u<63}decodeAlphanumeric(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new un(r+5,un.FNC1);if(o>=5&&o<15)return new un(r+5,"0"+(o-5));let u=this.extractNumericValueFromBitArray(r,6);if(u>=32&&u<58)return new un(r+6,""+(u+33));let c;switch(u){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new pe("Decoding invalid alphanumeric value: "+u)}return new un(r+6,c)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<5&&o+r<this.information.getSize();++o)if(o===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+o))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let o=r;o<r+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<4&&o+r<this.information.getSize();++o)if(this.information.get(r+o))return!1;return!0}}class Ei{constructor(r){this.information=r,this.generalDecoder=new Si(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Jn extends Ei{constructor(r){super(r)}encodeCompressedGtin(r,o){r.append("(01)");let u=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,o,u)}encodeCompressedGtinWithoutAI(r,o,u){for(let c=0;c<4;++c){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*c,10);h/100===0&&r.append("0"),h/10===0&&r.append("0"),r.append(h)}Jn.appendCheckDigit(r,u)}static appendCheckDigit(r,o){let u=0;for(let c=0;c<13;c++){let h=r.charAt(c+o).charCodeAt(0)-48;u+=c&1?h:3*h}u=10-u%10,u===10&&(u=0),r.append(u)}}Jn.GTIN_SIZE=40;class Kr extends Jn{constructor(r){super(r)}parseInformation(){let r=new ge;r.append("(01)");let o=r.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(Kr.HEADER_SIZE,4);return r.append(u),this.encodeCompressedGtinWithoutAI(r,Kr.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(r,Kr.HEADER_SIZE+44)}}Kr.HEADER_SIZE=4;class Ir extends Ei{constructor(r){super(r)}parseInformation(){let r=new ge;return this.getGeneralDecoder().decodeAllCodes(r,Ir.HEADER_SIZE)}}Ir.HEADER_SIZE=5;class ui extends Jn{constructor(r){super(r)}encodeCompressedWeight(r,o,u){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,u);this.addWeightCode(r,c);let h=this.checkWeight(c),p=1e5;for(let w=0;w<5;++w)h/p===0&&r.append("0"),p/=10;r.append(h)}}class ci extends ui{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=ci.HEADER_SIZE+ui.GTIN_SIZE+ci.WEIGHT_SIZE)throw new ce;let r=new ge;return this.encodeCompressedGtin(r,ci.HEADER_SIZE),this.encodeCompressedWeight(r,ci.HEADER_SIZE+ui.GTIN_SIZE,ci.WEIGHT_SIZE),r.toString()}}ci.HEADER_SIZE=5,ci.WEIGHT_SIZE=15;class bo extends ci{constructor(r){super(r)}addWeightCode(r,o){r.append("(3103)")}checkWeight(r){return r}}class Es extends ci{constructor(r){super(r)}addWeightCode(r,o){o<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class gi extends Jn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<gi.HEADER_SIZE+Jn.GTIN_SIZE)throw new ce;let r=new ge;this.encodeCompressedGtin(r,gi.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(gi.HEADER_SIZE+Jn.GTIN_SIZE,gi.LAST_DIGIT_SIZE);r.append("(392"),r.append(o),r.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(gi.HEADER_SIZE+Jn.GTIN_SIZE+gi.LAST_DIGIT_SIZE,null);return r.append(u.getNewString()),r.toString()}}gi.HEADER_SIZE=8,gi.LAST_DIGIT_SIZE=2;class mr extends Jn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<mr.HEADER_SIZE+Jn.GTIN_SIZE)throw new ce;let r=new ge;this.encodeCompressedGtin(r,mr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+Jn.GTIN_SIZE,mr.LAST_DIGIT_SIZE);r.append("(393"),r.append(o),r.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+Jn.GTIN_SIZE+mr.LAST_DIGIT_SIZE,mr.FIRST_THREE_DIGITS_SIZE);u/100==0&&r.append("0"),u/10==0&&r.append("0"),r.append(u);let c=this.getGeneralDecoder().decodeGeneralPurposeField(mr.HEADER_SIZE+Jn.GTIN_SIZE+mr.LAST_DIGIT_SIZE+mr.FIRST_THREE_DIGITS_SIZE,null);return r.append(c.getNewString()),r.toString()}}mr.HEADER_SIZE=8,mr.LAST_DIGIT_SIZE=2,mr.FIRST_THREE_DIGITS_SIZE=10;class Fn extends ui{constructor(r,o,u){super(r),this.dateCode=u,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Fn.HEADER_SIZE+Fn.GTIN_SIZE+Fn.WEIGHT_SIZE+Fn.DATE_SIZE)throw new ce;let r=new ge;return this.encodeCompressedGtin(r,Fn.HEADER_SIZE),this.encodeCompressedWeight(r,Fn.HEADER_SIZE+Fn.GTIN_SIZE,Fn.WEIGHT_SIZE),this.encodeCompressedDate(r,Fn.HEADER_SIZE+Fn.GTIN_SIZE+Fn.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,o){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Fn.DATE_SIZE);if(u==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let c=u%32;u/=32;let h=u%12+1;u/=12;let p=u;p/10==0&&r.append("0"),r.append(p),h/10==0&&r.append("0"),r.append(h),c/10==0&&r.append("0"),r.append(c)}addWeightCode(r,o){r.append("("),r.append(this.firstAIdigits),r.append(o/1e5),r.append(")")}checkWeight(r){return r%1e5}}Fn.HEADER_SIZE=8,Fn.WEIGHT_SIZE=20,Fn.DATE_SIZE=16;function Ns(U){try{if(U.get(1))return new Kr(U);if(!U.get(2))return new Ir(U);switch(Si.extractNumericValueFromBitArray(U,1,4)){case 4:return new bo(U);case 5:return new Es(U)}switch(Si.extractNumericValueFromBitArray(U,1,5)){case 12:return new gi(U);case 13:return new mr(U)}switch(Si.extractNumericValueFromBitArray(U,1,7)){case 56:return new Fn(U,"310","11");case 57:return new Fn(U,"320","11");case 58:return new Fn(U,"310","13");case 59:return new Fn(U,"320","13");case 60:return new Fn(U,"310","15");case 61:return new Fn(U,"320","15");case 62:return new Fn(U,"310","17");case 63:return new Fn(U,"320","17")}}catch(r){throw console.log(r),new pe("unknown decoder: "+U)}}class Wi{constructor(r,o,u,c){this.leftchar=r,this.rightchar=o,this.finderpattern=u,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,o){return r instanceof Wi?Wi.equalsOrNull(r.leftchar,o.leftchar)&&Wi.equalsOrNull(r.rightchar,o.rightchar)&&Wi.equalsOrNull(r.finderpattern,o.finderpattern):!1}static equalsOrNull(r,o){return r===null?o===null:Wi.equals(r,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Xs{constructor(r,o,u){this.pairs=r,this.rowNumber=o,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,o){return r instanceof Xs?this.checkEqualitity(r,o)&&r.wasReversed===o.wasReversed:!1}checkEqualitity(r,o){if(!r||!o)return;let u;return r.forEach((c,h)=>{o.forEach(p=>{c.getLeftChar().getValue()===p.getLeftChar().getValue()&&c.getRightChar().getValue()===p.getRightChar().getValue()&&c.getFinderPatter().getValue()===p.getFinderPatter().getValue()&&(u=!0)})}),u}}class st extends sr{constructor(r){super(...arguments),this.pairs=new Array(st.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,o,u){this.pairs.length=0,this.startFromEven=!1;try{return st.constructResult(this.decodeRow2pairs(r,o))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,st.constructResult(this.decodeRow2pairs(r,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,o){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,r))}catch(h){if(h instanceof ce){if(!this.pairs.length)throw new ce;u=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(r,!1),c){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new ce}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return r&&(this.rows=this.rows.reverse()),o}checkRows(r,o){for(let u=o;u<this.rows.length;u++){let c=this.rows[u];this.pairs.length=0;for(let p of r)this.pairs.push(p.getPairs());if(this.pairs.push(c.getPairs()),!st.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(r);h.push(c);try{return this.checkRows(h,u+1)}catch(p){this.verbose&&console.log(p)}}throw new ce}static isValidSequence(r){for(let o of st.FINDER_PATTERN_SEQUENCES){if(r.length>o.length)continue;let u=!0;for(let c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!=o[c]){u=!1;break}if(u)return!0}return!1}storeRow(r,o){let u=0,c=!1,h=!1;for(;u<this.rows.length;){let p=this.rows[u];if(p.getRowNumber()>r){h=p.isEquivalent(this.pairs);break}c=p.isEquivalent(this.pairs),u++}h||c||st.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new Xs(this.pairs,r,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,o){for(let u of o)if(u.getPairs().length!==r.length){for(let c of u.getPairs())for(let h of r)if(Wi.equals(c,h))break}}static isPartialRow(r,o){for(let u of o){let c=!0;for(let h of r){let p=!1;for(let w of u.getPairs())if(h.equals(w)){p=!0;break}if(!p){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(r){let o=Fo.buildBitArray(r),c=Ns(o).parseInformation(),h=r[0].getFinderPattern().getResultPoints(),p=r[r.length-1].getFinderPattern().getResultPoints(),w=[h[0],h[1],p[0],p[1]];return new se(c,null,null,w,ue.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),o=r.getLeftChar(),u=r.getRightChar();if(u==null)return!1;let c=u.getChecksumPortion(),h=2;for(let w=1;w<this.pairs.size();++w){let b=this.pairs.get(w);c+=b.getLeftChar().getChecksumPortion(),h++;let N=b.getRightChar();N!=null&&(c+=N.getChecksumPortion(),h++)}return c%=211,211*(h-4)+c==o.getValue()}static getNextSecondBar(r,o){let u;return r.get(o)?(u=r.getNextUnset(o),u=r.getNextSet(u)):(u=r.getNextSet(o),u=r.getNextUnset(u)),u}retrieveNextPair(r,o,u){let c=o.length%2==0;this.startFromEven&&(c=!c);let h,p=!0,w=-1;do this.findNextPair(r,o,w),h=this.parseFoundFinderPattern(r,u,c),h==null?w=st.getNextSecondBar(r,this.startEnd[0]):p=!1;while(p);let b=this.decodeDataCharacter(r,h,c,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ce;let N;try{N=this.decodeDataCharacter(r,h,c,!1)}catch(O){N=null,this.verbose&&console.log(O)}return new Wi(b,N,h,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,o,u){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=r.getSize(),p;u>=0?p=u:this.isEmptyPair(o)?p=0:p=o[o.length-1].getFinderPattern().getStartEnd()[1];let w=o.length%2!=0;this.startFromEven&&(w=!w);let b=!1;for(;p<h&&(b=!r.get(p),!!b);)p++;let N=0,O=p;for(let z=p;z<h;z++)if(r.get(z)!=b)c[N]++;else{if(N==3){if(w&&st.reverseCounters(c),st.isFinderPattern(c)){this.startEnd[0]=O,this.startEnd[1]=z;return}w&&st.reverseCounters(c),O+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,N--}else N++;c[N]=1,b=!b}throw new ce}static reverseCounters(r){let o=r.length;for(let u=0;u<o/2;++u){let c=r[u];r[u]=r[o-u-1],r[o-u-1]=c}}parseFoundFinderPattern(r,o,u){let c,h,p;if(u){let N=this.startEnd[0]-1;for(;N>=0&&!r.get(N);)N--;N++,c=this.startEnd[0]-N,h=N,p=this.startEnd[1]}else h=this.startEnd[0],p=r.getNextUnset(this.startEnd[1]+1),c=p-this.startEnd[1];let w=this.getDecodeFinderCounters();D.arraycopy(w,0,w,1,w.length-1),w[0]=c;let b;try{b=this.parseFinderValue(w,st.FINDER_PATTERNS)}catch{return null}return new Ht(b,[h,p],h,p,o)}decodeDataCharacter(r,o,u,c){let h=this.getDataCharacterCounters();for(let On=0;On<h.length;On++)h[On]=0;if(c)st.recordPatternInReverse(r,o.getStartEnd()[0],h);else{st.recordPattern(r,o.getStartEnd()[1],h);for(let On=0,Wr=h.length-1;On<Wr;On++,Wr--){let yi=h[On];h[On]=h[Wr],h[Wr]=yi}}let p=17,w=Ke.sum(new Int32Array(h))/p,b=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(w-b)/b>.3)throw new ce;let N=this.getOddCounts(),O=this.getEvenCounts(),z=this.getOddRoundingErrors(),G=this.getEvenRoundingErrors();for(let On=0;On<h.length;On++){let Wr=1*h[On]/w,yi=Wr+.5;if(yi<1){if(Wr<.3)throw new ce;yi=1}else if(yi>8){if(Wr>8.7)throw new ce;yi=8}let ks=On/2;On&1?(O[ks]=yi,G[ks]=Wr-yi):(N[ks]=yi,z[ks]=Wr-yi)}this.adjustOddEvenCounts(p);let ie=4*o.getValue()+(u?0:2)+(c?0:1)-1,we=0,Ae=0;for(let On=N.length-1;On>=0;On--){if(st.isNotA1left(o,u,c)){let Wr=st.WEIGHTS[ie][2*On];Ae+=N[On]*Wr}we+=N[On]}let Te=0;for(let On=O.length-1;On>=0;On--)if(st.isNotA1left(o,u,c)){let Wr=st.WEIGHTS[ie][2*On+1];Te+=O[On]*Wr}let ze=Ae+Te;if(we&1||we>13||we<4)throw new ce;let $e=(13-we)/2,rt=st.SYMBOL_WIDEST[$e],tt=9-rt,Wt=jr.getRSSvalue(N,rt,!0),Jt=jr.getRSSvalue(O,tt,!1),Xn=st.EVEN_TOTAL_SUBSET[$e],kr=st.GSUM[$e],ei=Wt*Xn+Jt+kr;return new pi(ei,ze)}static isNotA1left(r,o,u){return!(r.getValue()==0&&o&&u)}adjustOddEvenCounts(r){let o=Ke.sum(new Int32Array(this.getOddCounts())),u=Ke.sum(new Int32Array(this.getEvenCounts())),c=!1,h=!1;o>13?h=!0:o<4&&(c=!0);let p=!1,w=!1;u>13?w=!0:u<4&&(p=!0);let b=o+u-r,N=(o&1)==1,O=(u&1)==0;if(b==1)if(N){if(O)throw new ce;h=!0}else{if(!O)throw new ce;w=!0}else if(b==-1)if(N){if(O)throw new ce;c=!0}else{if(!O)throw new ce;p=!0}else if(b==0){if(N){if(!O)throw new ce;o<u?(c=!0,w=!0):(h=!0,p=!0)}else if(O)throw new ce}else throw new ce;if(c){if(h)throw new ce;st.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&st.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(w)throw new ce;st.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&st.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}st.SYMBOL_WIDEST=[7,5,4,3,1],st.EVEN_TOTAL_SUBSET=[4,20,52,104,204],st.GSUM=[0,348,1388,2948,3988],st.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],st.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],st.FINDER_PAT_A=0,st.FINDER_PAT_B=1,st.FINDER_PAT_C=2,st.FINDER_PAT_D=3,st.FINDER_PAT_E=4,st.FINDER_PAT_F=5,st.FINDER_PATTERN_SEQUENCES=[[st.FINDER_PAT_A,st.FINDER_PAT_A],[st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B],[st.FINDER_PAT_A,st.FINDER_PAT_C,st.FINDER_PAT_B,st.FINDER_PAT_D],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_C],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_D,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_D],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_E],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F]],st.MAX_PAIRS=11;class Vi extends pi{constructor(r,o,u){super(r,o),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Qn extends sr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,o,u){const c=this.decodePair(o,!1,r,u);Qn.addOrTally(this.possibleLeftPairs,c),o.reverse();let h=this.decodePair(o,!0,r,u);Qn.addOrTally(this.possibleRightPairs,h),o.reverse();for(let p of this.possibleLeftPairs)if(p.getCount()>1){for(let w of this.possibleRightPairs)if(w.getCount()>1&&Qn.checkChecksum(p,w))return Qn.constructResult(p,w)}throw new ce}static addOrTally(r,o){if(o==null)return;let u=!1;for(let c of r)if(c.getValue()===o.getValue()){c.incrementCount(),u=!0;break}u||r.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,o){let u=4537077*r.getValue()+o.getValue(),c=new String(u).toString(),h=new ge;for(let N=13-c.length;N>0;N--)h.append("0");h.append(c);let p=0;for(let N=0;N<13;N++){let O=h.charAt(N).charCodeAt(0)-48;p+=N&1?O:3*O}p=10-p%10,p===10&&(p=0),h.append(p.toString());let w=r.getFinderPattern().getResultPoints(),b=o.getFinderPattern().getResultPoints();return new se(h.toString(),null,0,[w[0],w[1],b[0],b[1]],ue.RSS_14,new Date().getTime())}static checkChecksum(r,o){let u=(r.getChecksumPortion()+16*o.getChecksumPortion())%79,c=9*r.getFinderPattern().getValue()+o.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,u===c}decodePair(r,o,u,c){try{let h=this.findFinderPattern(r,o),p=this.parseFoundFinderPattern(r,u,o,h),w=c==null?null:c.get(Se.NEED_RESULT_POINT_CALLBACK);if(w!=null){let O=(h[0]+h[1])/2;o&&(O=r.getSize()-1-O),w.foundPossibleResultPoint(new Ze(O,u))}let b=this.decodeDataCharacter(r,p,!0),N=this.decodeDataCharacter(r,p,!1);return new Vi(1597*b.getValue()+N.getValue(),b.getChecksumPortion()+4*N.getChecksumPortion(),p)}catch{return null}}decodeDataCharacter(r,o,u){let c=this.getDataCharacterCounters();for(let Te=0;Te<c.length;Te++)c[Te]=0;if(u)Zt.recordPatternInReverse(r,o.getStartEnd()[0],c);else{Zt.recordPattern(r,o.getStartEnd()[1]+1,c);for(let Te=0,ze=c.length-1;Te<ze;Te++,ze--){let $e=c[Te];c[Te]=c[ze],c[ze]=$e}}let h=u?16:15,p=Ke.sum(new Int32Array(c))/h,w=this.getOddCounts(),b=this.getEvenCounts(),N=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let Te=0;Te<c.length;Te++){let ze=c[Te]/p,$e=Math.floor(ze+.5);$e<1?$e=1:$e>8&&($e=8);let rt=Math.floor(Te/2);Te&1?(b[rt]=$e,O[rt]=ze-$e):(w[rt]=$e,N[rt]=ze-$e)}this.adjustOddEvenCounts(u,h);let z=0,G=0;for(let Te=w.length-1;Te>=0;Te--)G*=9,G+=w[Te],z+=w[Te];let ie=0,we=0;for(let Te=b.length-1;Te>=0;Te--)ie*=9,ie+=b[Te],we+=b[Te];let Ae=G+3*ie;if(u){if(z&1||z>12||z<4)throw new ce;let Te=(12-z)/2,ze=Qn.OUTSIDE_ODD_WIDEST[Te],$e=9-ze,rt=jr.getRSSvalue(w,ze,!1),tt=jr.getRSSvalue(b,$e,!0),Wt=Qn.OUTSIDE_EVEN_TOTAL_SUBSET[Te],Jt=Qn.OUTSIDE_GSUM[Te];return new pi(rt*Wt+tt+Jt,Ae)}else{if(we&1||we>10||we<4)throw new ce;let Te=(10-we)/2,ze=Qn.INSIDE_ODD_WIDEST[Te],$e=9-ze,rt=jr.getRSSvalue(w,ze,!0),tt=jr.getRSSvalue(b,$e,!1),Wt=Qn.INSIDE_ODD_TOTAL_SUBSET[Te],Jt=Qn.INSIDE_GSUM[Te];return new pi(tt*Wt+rt+Jt,Ae)}}findFinderPattern(r,o){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let c=r.getSize(),h=!1,p=0;for(;p<c&&(h=!r.get(p),o!==h);)p++;let w=0,b=p;for(let N=p;N<c;N++)if(r.get(N)!==h)u[w]++;else{if(w===3){if(sr.isFinderPattern(u))return[b,N];b+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,w--}else w++;u[w]=1,h=!h}throw new ce}parseFoundFinderPattern(r,o,u,c){let h=r.get(c[0]),p=c[0]-1;for(;p>=0&&h!==r.get(p);)p--;p++;const w=c[0]-p,b=this.getDecodeFinderCounters(),N=new Int32Array(b.length);D.arraycopy(b,0,N,1,b.length-1),N[0]=w;const O=this.parseFinderValue(N,Qn.FINDER_PATTERNS);let z=p,G=c[1];return u&&(z=r.getSize()-1-z,G=r.getSize()-1-G),new Ht(O,[p,c[1]],z,G,o)}adjustOddEvenCounts(r,o){let u=Ke.sum(new Int32Array(this.getOddCounts())),c=Ke.sum(new Int32Array(this.getEvenCounts())),h=!1,p=!1,w=!1,b=!1;r?(u>12?p=!0:u<4&&(h=!0),c>12?b=!0:c<4&&(w=!0)):(u>11?p=!0:u<5&&(h=!0),c>10?b=!0:c<4&&(w=!0));let N=u+c-o,O=(u&1)===(r?1:0),z=(c&1)===1;if(N===1)if(O){if(z)throw new ce;p=!0}else{if(!z)throw new ce;b=!0}else if(N===-1)if(O){if(z)throw new ce;h=!0}else{if(!z)throw new ce;w=!0}else if(N===0){if(O){if(!z)throw new ce;u<c?(h=!0,b=!0):(p=!0,w=!0)}else if(z)throw new ce}else throw new ce;if(h){if(p)throw new ce;sr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&sr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(b)throw new ce;sr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&sr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Qn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Qn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Qn.OUTSIDE_GSUM=[0,161,961,2015,2715],Qn.INSIDE_GSUM=[0,336,1036,1516],Qn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Qn.INSIDE_ODD_WIDEST=[2,4,6,8],Qn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class lo extends Zt{constructor(r,o){super(),this.readers=[],this.verbose=o===!0;const u=r?r.get(Se.POSSIBLE_FORMATS):null,c=r&&r.get(Se.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(ue.EAN_13)||u.includes(ue.UPC_A)||u.includes(ue.EAN_8)||u.includes(ue.UPC_E))&&this.readers.push(new Fr(r)),u.includes(ue.CODE_39)&&this.readers.push(new Tt(c)),u.includes(ue.CODE_128)&&this.readers.push(new Ge),u.includes(ue.ITF)&&this.readers.push(new Gt),u.includes(ue.RSS_14)&&this.readers.push(new Qn),u.includes(ue.RSS_EXPANDED)&&this.readers.push(new st(this.verbose))):(this.readers.push(new Fr(r)),this.readers.push(new Tt),this.readers.push(new Fr(r)),this.readers.push(new Ge),this.readers.push(new Gt),this.readers.push(new Qn),this.readers.push(new st(this.verbose)))}decodeRow(r,o,u){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(r,o,u)}catch{}throw new ce}reset(){this.readers.forEach(r=>r.reset())}}class jo extends oe{constructor(r=500,o){super(new lo(o),r,o)}}class Ln{constructor(r,o,u){this.ecCodewords=r,this.ecBlocks=[o],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Nn{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class hn{constructor(r,o,u,c,h,p){this.versionNumber=r,this.symbolSizeRows=o,this.symbolSizeColumns=u,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=h,this.ecBlocks=p;let w=0;const b=p.getECCodewords(),N=p.getECBlocks();for(let O of N)w+=O.getCount()*(O.getDataCodewords()+b);this.totalCodewords=w}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,o){if(r&1||o&1)throw new fe;for(let u of hn.VERSIONS)if(u.symbolSizeRows===r&&u.symbolSizeColumns===o)return u;throw new fe}toString(){return""+this.versionNumber}static buildVersions(){return[new hn(1,10,10,8,8,new Ln(5,new Nn(1,3))),new hn(2,12,12,10,10,new Ln(7,new Nn(1,5))),new hn(3,14,14,12,12,new Ln(10,new Nn(1,8))),new hn(4,16,16,14,14,new Ln(12,new Nn(1,12))),new hn(5,18,18,16,16,new Ln(14,new Nn(1,18))),new hn(6,20,20,18,18,new Ln(18,new Nn(1,22))),new hn(7,22,22,20,20,new Ln(20,new Nn(1,30))),new hn(8,24,24,22,22,new Ln(24,new Nn(1,36))),new hn(9,26,26,24,24,new Ln(28,new Nn(1,44))),new hn(10,32,32,14,14,new Ln(36,new Nn(1,62))),new hn(11,36,36,16,16,new Ln(42,new Nn(1,86))),new hn(12,40,40,18,18,new Ln(48,new Nn(1,114))),new hn(13,44,44,20,20,new Ln(56,new Nn(1,144))),new hn(14,48,48,22,22,new Ln(68,new Nn(1,174))),new hn(15,52,52,24,24,new Ln(42,new Nn(2,102))),new hn(16,64,64,14,14,new Ln(56,new Nn(2,140))),new hn(17,72,72,16,16,new Ln(36,new Nn(4,92))),new hn(18,80,80,18,18,new Ln(48,new Nn(4,114))),new hn(19,88,88,20,20,new Ln(56,new Nn(4,144))),new hn(20,96,96,22,22,new Ln(68,new Nn(4,174))),new hn(21,104,104,24,24,new Ln(56,new Nn(6,136))),new hn(22,120,120,18,18,new Ln(68,new Nn(6,175))),new hn(23,132,132,20,20,new Ln(62,new Nn(8,163))),new hn(24,144,144,22,22,new Ln(62,new Nn(8,156),new Nn(2,155))),new hn(25,8,18,6,16,new Ln(7,new Nn(1,5))),new hn(26,8,32,6,14,new Ln(11,new Nn(1,10))),new hn(27,12,26,10,24,new Ln(14,new Nn(1,16))),new hn(28,12,36,10,16,new Ln(18,new Nn(1,22))),new hn(29,16,36,14,16,new Ln(24,new Nn(1,32))),new hn(30,16,48,14,22,new Ln(28,new Nn(1,49)))]}}hn.VERSIONS=hn.buildVersions();class wn{constructor(r){const o=r.getHeight();if(o<8||o>144||o&1)throw new fe;this.version=wn.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new me(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const o=r.getHeight(),u=r.getWidth();return hn.getVersionForDimensions(o,u)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let o=0,u=4,c=0;const h=this.mappingBitMatrix.getHeight(),p=this.mappingBitMatrix.getWidth();let w=!1,b=!1,N=!1,O=!1;do if(u===h&&c===0&&!w)r[o++]=this.readCorner1(h,p)&255,u-=2,c+=2,w=!0;else if(u===h-2&&c===0&&p&3&&!b)r[o++]=this.readCorner2(h,p)&255,u-=2,c+=2,b=!0;else if(u===h+4&&c===2&&!(p&7)&&!N)r[o++]=this.readCorner3(h,p)&255,u-=2,c+=2,N=!0;else if(u===h-2&&c===0&&(p&7)===4&&!O)r[o++]=this.readCorner4(h,p)&255,u-=2,c+=2,O=!0;else{do u<h&&c>=0&&!this.readMappingMatrix.get(c,u)&&(r[o++]=this.readUtah(u,c,h,p)&255),u-=2,c+=2;while(u>=0&&c<p);u+=1,c+=3;do u>=0&&c<p&&!this.readMappingMatrix.get(c,u)&&(r[o++]=this.readUtah(u,c,h,p)&255),u+=2,c-=2;while(u<h&&c>=0);u+=3,c+=1}while(u<h||c<p);if(o!==this.version.getTotalCodewords())throw new fe;return r}readModule(r,o,u,c){return r<0&&(r+=u,o+=4-(u+4&7)),o<0&&(o+=c,r+=4-(c+4&7)),this.readMappingMatrix.set(o,r),this.mappingBitMatrix.get(o,r)}readUtah(r,o,u,c){let h=0;return this.readModule(r-2,o-2,u,c)&&(h|=1),h<<=1,this.readModule(r-2,o-1,u,c)&&(h|=1),h<<=1,this.readModule(r-1,o-2,u,c)&&(h|=1),h<<=1,this.readModule(r-1,o-1,u,c)&&(h|=1),h<<=1,this.readModule(r-1,o,u,c)&&(h|=1),h<<=1,this.readModule(r,o-2,u,c)&&(h|=1),h<<=1,this.readModule(r,o-1,u,c)&&(h|=1),h<<=1,this.readModule(r,o,u,c)&&(h|=1),h}readCorner1(r,o){let u=0;return this.readModule(r-1,0,r,o)&&(u|=1),u<<=1,this.readModule(r-1,1,r,o)&&(u|=1),u<<=1,this.readModule(r-1,2,r,o)&&(u|=1),u<<=1,this.readModule(0,o-2,r,o)&&(u|=1),u<<=1,this.readModule(0,o-1,r,o)&&(u|=1),u<<=1,this.readModule(1,o-1,r,o)&&(u|=1),u<<=1,this.readModule(2,o-1,r,o)&&(u|=1),u<<=1,this.readModule(3,o-1,r,o)&&(u|=1),u}readCorner2(r,o){let u=0;return this.readModule(r-3,0,r,o)&&(u|=1),u<<=1,this.readModule(r-2,0,r,o)&&(u|=1),u<<=1,this.readModule(r-1,0,r,o)&&(u|=1),u<<=1,this.readModule(0,o-4,r,o)&&(u|=1),u<<=1,this.readModule(0,o-3,r,o)&&(u|=1),u<<=1,this.readModule(0,o-2,r,o)&&(u|=1),u<<=1,this.readModule(0,o-1,r,o)&&(u|=1),u<<=1,this.readModule(1,o-1,r,o)&&(u|=1),u}readCorner3(r,o){let u=0;return this.readModule(r-1,0,r,o)&&(u|=1),u<<=1,this.readModule(r-1,o-1,r,o)&&(u|=1),u<<=1,this.readModule(0,o-3,r,o)&&(u|=1),u<<=1,this.readModule(0,o-2,r,o)&&(u|=1),u<<=1,this.readModule(0,o-1,r,o)&&(u|=1),u<<=1,this.readModule(1,o-3,r,o)&&(u|=1),u<<=1,this.readModule(1,o-2,r,o)&&(u|=1),u<<=1,this.readModule(1,o-1,r,o)&&(u|=1),u}readCorner4(r,o){let u=0;return this.readModule(r-3,0,r,o)&&(u|=1),u<<=1,this.readModule(r-2,0,r,o)&&(u|=1),u<<=1,this.readModule(r-1,0,r,o)&&(u|=1),u<<=1,this.readModule(0,o-2,r,o)&&(u|=1),u<<=1,this.readModule(0,o-1,r,o)&&(u|=1),u<<=1,this.readModule(1,o-1,r,o)&&(u|=1),u<<=1,this.readModule(2,o-1,r,o)&&(u|=1),u<<=1,this.readModule(3,o-1,r,o)&&(u|=1),u}extractDataRegion(r){const o=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(r.getHeight()!==o)throw new C("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),p=o/c|0,w=u/h|0,b=p*c,N=w*h,O=new me(N,b);for(let z=0;z<p;++z){const G=z*c;for(let ie=0;ie<w;++ie){const we=ie*h;for(let Ae=0;Ae<c;++Ae){const Te=z*(c+2)+1+Ae,ze=G+Ae;for(let $e=0;$e<h;++$e){const rt=ie*(h+2)+1+$e;if(r.get(rt,Te)){const tt=we+$e;O.set(tt,ze)}}}}}return O}}class Vn{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o){const u=o.getECBlocks();let c=0;const h=u.getECBlocks();for(let Ae of h)c+=Ae.getCount();const p=new Array(c);let w=0;for(let Ae of h)for(let Te=0;Te<Ae.getCount();Te++){const ze=Ae.getDataCodewords(),$e=u.getECCodewords()+ze;p[w++]=new Vn(ze,new Uint8Array($e))}const N=p[0].codewords.length-u.getECCodewords(),O=N-1;let z=0;for(let Ae=0;Ae<O;Ae++)for(let Te=0;Te<w;Te++)p[Te].codewords[Ae]=r[z++];const G=o.getVersionNumber()===24,ie=G?8:w;for(let Ae=0;Ae<ie;Ae++)p[Ae].codewords[N-1]=r[z++];const we=p[0].codewords.length;for(let Ae=N;Ae<we;Ae++)for(let Te=0;Te<w;Te++){const ze=G?(Te+8)%w:Te,$e=G&&ze>7?Ae-1:Ae;p[ze].codewords[$e]=r[z++]}if(z!==r.length)throw new C;return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class $n{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new C(""+r);let o=0,u=this.bitOffset,c=this.byteOffset;const h=this.bytes;if(u>0){const p=8-u,w=r<p?r:p,b=p-w,N=255>>8-w<<b;o=(h[c]&N)>>b,r-=w,u+=w,u===8&&(u=0,c++)}if(r>0){for(;r>=8;)o=o<<8|h[c]&255,c++,r-=8;if(r>0){const p=8-r,w=255>>p<<p;o=o<<r|(h[c]&w)>>p,u+=r}}return this.bitOffset=u,this.byteOffset=c,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var qn;(function(U){U[U.PAD_ENCODE=0]="PAD_ENCODE",U[U.ASCII_ENCODE=1]="ASCII_ENCODE",U[U.C40_ENCODE=2]="C40_ENCODE",U[U.TEXT_ENCODE=3]="TEXT_ENCODE",U[U.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",U[U.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",U[U.BASE256_ENCODE=6]="BASE256_ENCODE"})(qn||(qn={}));class hi{static decode(r){const o=new $n(r),u=new ge,c=new ge,h=new Array;let p=qn.ASCII_ENCODE;do if(p===qn.ASCII_ENCODE)p=this.decodeAsciiSegment(o,u,c);else{switch(p){case qn.C40_ENCODE:this.decodeC40Segment(o,u);break;case qn.TEXT_ENCODE:this.decodeTextSegment(o,u);break;case qn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,u);break;case qn.EDIFACT_ENCODE:this.decodeEdifactSegment(o,u);break;case qn.BASE256_ENCODE:this.decodeBase256Segment(o,u,h);break;default:throw new fe}p=qn.ASCII_ENCODE}while(p!==qn.PAD_ENCODE&&o.available()>0);return c.length()>0&&u.append(c.toString()),new Ve(r,u.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(r,o,u){let c=!1;do{let h=r.readBits(8);if(h===0)throw new fe;if(h<=128)return c&&(h+=128),o.append(String.fromCharCode(h-1)),qn.ASCII_ENCODE;if(h===129)return qn.PAD_ENCODE;if(h<=229){const p=h-130;p<10&&o.append("0"),o.append(""+p)}else switch(h){case 230:return qn.C40_ENCODE;case 231:return qn.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:o.append("[)>05"),u.insert(0,"");break;case 237:o.append("[)>06"),u.insert(0,"");break;case 238:return qn.ANSIX12_ENCODE;case 239:return qn.TEXT_ENCODE;case 240:return qn.EDIFACT_ENCODE;case 241:break;default:if(h!==254||r.available()!==0)throw new fe;break}}while(r.available()>0);return qn.ASCII_ENCODE}static decodeC40Segment(r,o){let u=!1;const c=[];let h=0;do{if(r.available()===8)return;const p=r.readBits(8);if(p===254)return;this.parseTwoBytes(p,r.readBits(8),c);for(let w=0;w<3;w++){const b=c[w];switch(h){case 0:if(b<3)h=b+1;else if(b<this.C40_BASIC_SET_CHARS.length){const N=this.C40_BASIC_SET_CHARS[b];u?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),u=!1):o.append(N)}else throw new fe;break;case 1:u?(o.append(String.fromCharCode(b+128)),u=!1):o.append(String.fromCharCode(b)),h=0;break;case 2:if(b<this.C40_SHIFT2_SET_CHARS.length){const N=this.C40_SHIFT2_SET_CHARS[b];u?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),u=!1):o.append(N)}else switch(b){case 27:o.append("");break;case 30:u=!0;break;default:throw new fe}h=0;break;case 3:u?(o.append(String.fromCharCode(b+224)),u=!1):o.append(String.fromCharCode(b+96)),h=0;break;default:throw new fe}}}while(r.available()>0)}static decodeTextSegment(r,o){let u=!1,c=[],h=0;do{if(r.available()===8)return;const p=r.readBits(8);if(p===254)return;this.parseTwoBytes(p,r.readBits(8),c);for(let w=0;w<3;w++){const b=c[w];switch(h){case 0:if(b<3)h=b+1;else if(b<this.TEXT_BASIC_SET_CHARS.length){const N=this.TEXT_BASIC_SET_CHARS[b];u?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),u=!1):o.append(N)}else throw new fe;break;case 1:u?(o.append(String.fromCharCode(b+128)),u=!1):o.append(String.fromCharCode(b)),h=0;break;case 2:if(b<this.TEXT_SHIFT2_SET_CHARS.length){const N=this.TEXT_SHIFT2_SET_CHARS[b];u?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),u=!1):o.append(N)}else switch(b){case 27:o.append("");break;case 30:u=!0;break;default:throw new fe}h=0;break;case 3:if(b<this.TEXT_SHIFT3_SET_CHARS.length){const N=this.TEXT_SHIFT3_SET_CHARS[b];u?(o.append(String.fromCharCode(N.charCodeAt(0)+128)),u=!1):o.append(N),h=0}else throw new fe;break;default:throw new fe}}}while(r.available()>0)}static decodeAnsiX12Segment(r,o){const u=[];do{if(r.available()===8)return;const c=r.readBits(8);if(c===254)return;this.parseTwoBytes(c,r.readBits(8),u);for(let h=0;h<3;h++){const p=u[h];switch(p){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(p<14)o.append(String.fromCharCode(p+44));else if(p<40)o.append(String.fromCharCode(p+51));else throw new fe;break}}}while(r.available()>0)}static parseTwoBytes(r,o,u){let c=(r<<8)+o-1,h=Math.floor(c/1600);u[0]=h,c-=h*1600,h=Math.floor(c/40),u[1]=h,u[2]=c-h*40}static decodeEdifactSegment(r,o){do{if(r.available()<=16)return;for(let u=0;u<4;u++){let c=r.readBits(6);if(c===31){const h=8-r.getBitOffset();h!==8&&r.readBits(h);return}c&32||(c|=64),o.append(String.fromCharCode(c))}}while(r.available()>0)}static decodeBase256Segment(r,o,u){let c=1+r.getByteOffset();const h=this.unrandomize255State(r.readBits(8),c++);let p;if(h===0?p=r.available()/8|0:h<250?p=h:p=250*(h-249)+this.unrandomize255State(r.readBits(8),c++),p<0)throw new fe;const w=new Uint8Array(p);for(let b=0;b<p;b++){if(r.available()<8)throw new fe;w[b]=this.unrandomize255State(r.readBits(8),c++)}u.push(w);try{o.append(K.decode(w,$.ISO88591))}catch(b){throw new pe("Platform does not support required encoding: "+b.message)}}static unrandomize255State(r,o){const u=149*o%255+1,c=r-u;return c>=0?c:c+256}}hi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],hi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],hi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],hi.TEXT_SHIFT2_SET_CHARS=hi.C40_SHIFT2_SET_CHARS,hi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class uo{constructor(){this.rsDecoder=new fn(ut.DATA_MATRIX_FIELD_256)}decode(r){const o=new wn(r),u=o.getVersion(),c=o.readCodewords(),h=Vn.getDataBlocks(c,u);let p=0;for(let N of h)p+=N.getNumDataCodewords();const w=new Uint8Array(p),b=h.length;for(let N=0;N<b;N++){const O=h[N],z=O.getCodewords(),G=O.getNumDataCodewords();this.correctErrors(z,G);for(let ie=0;ie<G;ie++)w[ie*b+N]=z[ie]}return hi.decode(w)}correctErrors(r,o){const u=new Int32Array(r);try{this.rsDecoder.decode(u,r.length-o)}catch{throw new S}for(let c=0;c<o;c++)r[c]=u[c]}}class St{constructor(r){this.image=r,this.rectangleDetector=new vn(this.image)}detect(){const r=this.rectangleDetector.detect();let o=this.detectSolid1(r);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ce;o=this.shiftToModuleCenter(o);const u=o[0],c=o[1],h=o[2],p=o[3];let w=this.transitionsBetween(u,p)+1,b=this.transitionsBetween(h,p)+1;(w&1)===1&&(w+=1),(b&1)===1&&(b+=1),4*w<7*b&&4*b<7*w&&(w=b=Math.max(w,b));let N=St.sampleGrid(this.image,u,c,h,p,w,b);return new nn(N,[u,c,h,p])}static shiftPoint(r,o,u){let c=(o.getX()-r.getX())/(u+1),h=(o.getY()-r.getY())/(u+1);return new Ze(r.getX()+c,r.getY()+h)}static moveAway(r,o,u){let c=r.getX(),h=r.getY();return c<o?c-=1:c+=1,h<u?h-=1:h+=1,new Ze(c,h)}detectSolid1(r){let o=r[0],u=r[1],c=r[3],h=r[2],p=this.transitionsBetween(o,u),w=this.transitionsBetween(u,c),b=this.transitionsBetween(c,h),N=this.transitionsBetween(h,o),O=p,z=[h,o,u,c];return O>w&&(O=w,z[0]=o,z[1]=u,z[2]=c,z[3]=h),O>b&&(O=b,z[0]=u,z[1]=c,z[2]=h,z[3]=o),O>N&&(z[0]=c,z[1]=h,z[2]=o,z[3]=u),z}detectSolid2(r){let o=r[0],u=r[1],c=r[2],h=r[3],p=this.transitionsBetween(o,h),w=St.shiftPoint(u,c,(p+1)*4),b=St.shiftPoint(c,u,(p+1)*4),N=this.transitionsBetween(w,o),O=this.transitionsBetween(b,h);return N<O?(r[0]=o,r[1]=u,r[2]=c,r[3]=h):(r[0]=u,r[1]=c,r[2]=h,r[3]=o),r}correctTopRight(r){let o=r[0],u=r[1],c=r[2],h=r[3],p=this.transitionsBetween(o,h),w=this.transitionsBetween(u,h),b=St.shiftPoint(o,u,(w+1)*4),N=St.shiftPoint(c,u,(p+1)*4);p=this.transitionsBetween(b,h),w=this.transitionsBetween(N,h);let O=new Ze(h.getX()+(c.getX()-u.getX())/(p+1),h.getY()+(c.getY()-u.getY())/(p+1)),z=new Ze(h.getX()+(o.getX()-u.getX())/(w+1),h.getY()+(o.getY()-u.getY())/(w+1));if(!this.isValid(O))return this.isValid(z)?z:null;if(!this.isValid(z))return O;let G=this.transitionsBetween(b,O)+this.transitionsBetween(N,O),ie=this.transitionsBetween(b,z)+this.transitionsBetween(N,z);return G>ie?O:z}shiftToModuleCenter(r){let o=r[0],u=r[1],c=r[2],h=r[3],p=this.transitionsBetween(o,h)+1,w=this.transitionsBetween(c,h)+1,b=St.shiftPoint(o,u,w*4),N=St.shiftPoint(c,u,p*4);p=this.transitionsBetween(b,h)+1,w=this.transitionsBetween(N,h)+1,(p&1)===1&&(p+=1),(w&1)===1&&(w+=1);let O=(o.getX()+u.getX()+c.getX()+h.getX())/4,z=(o.getY()+u.getY()+c.getY()+h.getY())/4;o=St.moveAway(o,O,z),u=St.moveAway(u,O,z),c=St.moveAway(c,O,z),h=St.moveAway(h,O,z);let G,ie;return b=St.shiftPoint(o,u,w*4),b=St.shiftPoint(b,h,p*4),G=St.shiftPoint(u,o,w*4),G=St.shiftPoint(G,c,p*4),N=St.shiftPoint(c,h,w*4),N=St.shiftPoint(N,u,p*4),ie=St.shiftPoint(h,c,w*4),ie=St.shiftPoint(ie,o,p*4),[b,G,N,ie]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,o,u,c,h,p,w){return Xt.getInstance().sampleGrid(r,p,w,.5,.5,p-.5,.5,p-.5,w-.5,.5,w-.5,o.getX(),o.getY(),h.getX(),h.getY(),c.getX(),c.getY(),u.getX(),u.getY())}transitionsBetween(r,o){let u=Math.trunc(r.getX()),c=Math.trunc(r.getY()),h=Math.trunc(o.getX()),p=Math.trunc(o.getY()),w=Math.abs(p-c)>Math.abs(h-u);if(w){let Ae=u;u=c,c=Ae,Ae=h,h=p,p=Ae}let b=Math.abs(h-u),N=Math.abs(p-c),O=-b/2,z=c<p?1:-1,G=u<h?1:-1,ie=0,we=this.image.get(w?c:u,w?u:c);for(let Ae=u,Te=c;Ae!==h;Ae+=G){let ze=this.image.get(w?Te:Ae,w?Ae:Te);if(ze!==we&&(ie++,we=ze),O+=N,O>0){if(Te===p)break;Te+=z,O-=b}}return ie}}class An{constructor(){this.decoder=new uo}decode(r,o=null){let u,c;if(o!=null&&o.has(Se.PURE_BARCODE)){const N=An.extractPureBits(r.getBlackMatrix());u=this.decoder.decode(N),c=An.NO_POINTS}else{const N=new St(r.getBlackMatrix()).detect();u=this.decoder.decode(N.getBits()),c=N.getPoints()}const h=u.getRawBytes(),p=new se(u.getText(),h,8*h.length,c,ue.DATA_MATRIX,D.currentTimeMillis()),w=u.getByteSegments();w!=null&&p.putMetadata(Fe.BYTE_SEGMENTS,w);const b=u.getECLevel();return b!=null&&p.putMetadata(Fe.ERROR_CORRECTION_LEVEL,b),p}reset(){}static extractPureBits(r){const o=r.getTopLeftOnBit(),u=r.getBottomRightOnBit();if(o==null||u==null)throw new ce;const c=this.moduleSize(o,r);let h=o[1];const p=u[1];let w=o[0];const N=(u[0]-w+1)/c,O=(p-h+1)/c;if(N<=0||O<=0)throw new ce;const z=c/2;h+=z,w+=z;const G=new me(N,O);for(let ie=0;ie<O;ie++){const we=h+ie*c;for(let Ae=0;Ae<N;Ae++)r.get(w+Ae*c,we)&&G.set(Ae,ie)}return G}static moduleSize(r,o){const u=o.getWidth();let c=r[0];const h=r[1];for(;c<u&&o.get(c,h);)c++;if(c===u)throw new ce;const p=c-r[0];if(p===0)throw new ce;return p}}An.NO_POINTS=[];class zo extends oe{constructor(r=500){super(new An,r)}}var jn;(function(U){U[U.L=0]="L",U[U.M=1]="M",U[U.Q=2]="Q",U[U.H=3]="H"})(jn||(jn={}));class dn{constructor(r,o,u){this.value=r,this.stringValue=o,this.bits=u,dn.FOR_BITS.set(u,this),dn.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return dn.L;case"M":return dn.M;case"Q":return dn.Q;case"H":return dn.H;default:throw new _(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof dn))return!1;const o=r;return this.value===o.value}static forBits(r){if(r<0||r>=dn.FOR_BITS.size)throw new C;return dn.FOR_BITS.get(r)}}dn.FOR_BITS=new Map,dn.FOR_VALUE=new Map,dn.L=new dn(jn.L,"L",1),dn.M=new dn(jn.M,"M",0),dn.Q=new dn(jn.Q,"Q",3),dn.H=new dn(jn.H,"H",2);class Ur{constructor(r){this.errorCorrectionLevel=dn.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,o){return F.bitCount(r^o)}static decodeFormatInformation(r,o){const u=Ur.doDecodeFormatInformation(r,o);return u!==null?u:Ur.doDecodeFormatInformation(r^Ur.FORMAT_INFO_MASK_QR,o^Ur.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,o){let u=Number.MAX_SAFE_INTEGER,c=0;for(const h of Ur.FORMAT_INFO_DECODE_LOOKUP){const p=h[0];if(p===r||p===o)return new Ur(h[1]);let w=Ur.numBitsDiffering(r,p);w<u&&(c=h[1],u=w),r!==o&&(w=Ur.numBitsDiffering(o,p),w<u&&(c=h[1],u=w))}return u<=3?new Ur(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof Ur))return!1;const o=r;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Ur.FORMAT_INFO_MASK_QR=21522,Ur.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Oe{constructor(r,...o){this.ecCodewordsPerBlock=r,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const o=this.ecBlocks;for(const u of o)r+=u.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ne{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class dt{constructor(r,o,...u){this.versionNumber=r,this.alignmentPatternCenters=o,this.ecBlocks=u;let c=0;const h=u[0].getECCodewordsPerBlock(),p=u[0].getECBlocks();for(const w of p)c+=w.getCount()*(w.getDataCodewords()+h);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new fe;try{return this.getVersionForNumber((r-17)/4)}catch{throw new fe}}static getVersionForNumber(r){if(r<1||r>40)throw new C;return dt.VERSIONS[r-1]}static decodeVersionInformation(r){let o=Number.MAX_SAFE_INTEGER,u=0;for(let c=0;c<dt.VERSION_DECODE_INFO.length;c++){const h=dt.VERSION_DECODE_INFO[c];if(h===r)return dt.getVersionForNumber(c+7);const p=Ur.numBitsDiffering(r,h);p<o&&(u=c+7,o=p)}return o<=3?dt.getVersionForNumber(u):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),o=new me(r);o.setRegion(0,0,9,9),o.setRegion(r-8,0,8,9),o.setRegion(0,r-8,9,8);const u=this.alignmentPatternCenters.length;for(let c=0;c<u;c++){const h=this.alignmentPatternCenters[c]-2;for(let p=0;p<u;p++)c===0&&(p===0||p===u-1)||c===u-1&&p===0||o.setRegion(this.alignmentPatternCenters[p]-2,h,5,5)}return o.setRegion(6,9,1,r-17),o.setRegion(9,6,r-17,1),this.versionNumber>6&&(o.setRegion(r-11,0,3,6),o.setRegion(0,r-11,6,3)),o}toString(){return""+this.versionNumber}}dt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),dt.VERSIONS=[new dt(1,new Int32Array(0),new Oe(7,new ne(1,19)),new Oe(10,new ne(1,16)),new Oe(13,new ne(1,13)),new Oe(17,new ne(1,9))),new dt(2,Int32Array.from([6,18]),new Oe(10,new ne(1,34)),new Oe(16,new ne(1,28)),new Oe(22,new ne(1,22)),new Oe(28,new ne(1,16))),new dt(3,Int32Array.from([6,22]),new Oe(15,new ne(1,55)),new Oe(26,new ne(1,44)),new Oe(18,new ne(2,17)),new Oe(22,new ne(2,13))),new dt(4,Int32Array.from([6,26]),new Oe(20,new ne(1,80)),new Oe(18,new ne(2,32)),new Oe(26,new ne(2,24)),new Oe(16,new ne(4,9))),new dt(5,Int32Array.from([6,30]),new Oe(26,new ne(1,108)),new Oe(24,new ne(2,43)),new Oe(18,new ne(2,15),new ne(2,16)),new Oe(22,new ne(2,11),new ne(2,12))),new dt(6,Int32Array.from([6,34]),new Oe(18,new ne(2,68)),new Oe(16,new ne(4,27)),new Oe(24,new ne(4,19)),new Oe(28,new ne(4,15))),new dt(7,Int32Array.from([6,22,38]),new Oe(20,new ne(2,78)),new Oe(18,new ne(4,31)),new Oe(18,new ne(2,14),new ne(4,15)),new Oe(26,new ne(4,13),new ne(1,14))),new dt(8,Int32Array.from([6,24,42]),new Oe(24,new ne(2,97)),new Oe(22,new ne(2,38),new ne(2,39)),new Oe(22,new ne(4,18),new ne(2,19)),new Oe(26,new ne(4,14),new ne(2,15))),new dt(9,Int32Array.from([6,26,46]),new Oe(30,new ne(2,116)),new Oe(22,new ne(3,36),new ne(2,37)),new Oe(20,new ne(4,16),new ne(4,17)),new Oe(24,new ne(4,12),new ne(4,13))),new dt(10,Int32Array.from([6,28,50]),new Oe(18,new ne(2,68),new ne(2,69)),new Oe(26,new ne(4,43),new ne(1,44)),new Oe(24,new ne(6,19),new ne(2,20)),new Oe(28,new ne(6,15),new ne(2,16))),new dt(11,Int32Array.from([6,30,54]),new Oe(20,new ne(4,81)),new Oe(30,new ne(1,50),new ne(4,51)),new Oe(28,new ne(4,22),new ne(4,23)),new Oe(24,new ne(3,12),new ne(8,13))),new dt(12,Int32Array.from([6,32,58]),new Oe(24,new ne(2,92),new ne(2,93)),new Oe(22,new ne(6,36),new ne(2,37)),new Oe(26,new ne(4,20),new ne(6,21)),new Oe(28,new ne(7,14),new ne(4,15))),new dt(13,Int32Array.from([6,34,62]),new Oe(26,new ne(4,107)),new Oe(22,new ne(8,37),new ne(1,38)),new Oe(24,new ne(8,20),new ne(4,21)),new Oe(22,new ne(12,11),new ne(4,12))),new dt(14,Int32Array.from([6,26,46,66]),new Oe(30,new ne(3,115),new ne(1,116)),new Oe(24,new ne(4,40),new ne(5,41)),new Oe(20,new ne(11,16),new ne(5,17)),new Oe(24,new ne(11,12),new ne(5,13))),new dt(15,Int32Array.from([6,26,48,70]),new Oe(22,new ne(5,87),new ne(1,88)),new Oe(24,new ne(5,41),new ne(5,42)),new Oe(30,new ne(5,24),new ne(7,25)),new Oe(24,new ne(11,12),new ne(7,13))),new dt(16,Int32Array.from([6,26,50,74]),new Oe(24,new ne(5,98),new ne(1,99)),new Oe(28,new ne(7,45),new ne(3,46)),new Oe(24,new ne(15,19),new ne(2,20)),new Oe(30,new ne(3,15),new ne(13,16))),new dt(17,Int32Array.from([6,30,54,78]),new Oe(28,new ne(1,107),new ne(5,108)),new Oe(28,new ne(10,46),new ne(1,47)),new Oe(28,new ne(1,22),new ne(15,23)),new Oe(28,new ne(2,14),new ne(17,15))),new dt(18,Int32Array.from([6,30,56,82]),new Oe(30,new ne(5,120),new ne(1,121)),new Oe(26,new ne(9,43),new ne(4,44)),new Oe(28,new ne(17,22),new ne(1,23)),new Oe(28,new ne(2,14),new ne(19,15))),new dt(19,Int32Array.from([6,30,58,86]),new Oe(28,new ne(3,113),new ne(4,114)),new Oe(26,new ne(3,44),new ne(11,45)),new Oe(26,new ne(17,21),new ne(4,22)),new Oe(26,new ne(9,13),new ne(16,14))),new dt(20,Int32Array.from([6,34,62,90]),new Oe(28,new ne(3,107),new ne(5,108)),new Oe(26,new ne(3,41),new ne(13,42)),new Oe(30,new ne(15,24),new ne(5,25)),new Oe(28,new ne(15,15),new ne(10,16))),new dt(21,Int32Array.from([6,28,50,72,94]),new Oe(28,new ne(4,116),new ne(4,117)),new Oe(26,new ne(17,42)),new Oe(28,new ne(17,22),new ne(6,23)),new Oe(30,new ne(19,16),new ne(6,17))),new dt(22,Int32Array.from([6,26,50,74,98]),new Oe(28,new ne(2,111),new ne(7,112)),new Oe(28,new ne(17,46)),new Oe(30,new ne(7,24),new ne(16,25)),new Oe(24,new ne(34,13))),new dt(23,Int32Array.from([6,30,54,78,102]),new Oe(30,new ne(4,121),new ne(5,122)),new Oe(28,new ne(4,47),new ne(14,48)),new Oe(30,new ne(11,24),new ne(14,25)),new Oe(30,new ne(16,15),new ne(14,16))),new dt(24,Int32Array.from([6,28,54,80,106]),new Oe(30,new ne(6,117),new ne(4,118)),new Oe(28,new ne(6,45),new ne(14,46)),new Oe(30,new ne(11,24),new ne(16,25)),new Oe(30,new ne(30,16),new ne(2,17))),new dt(25,Int32Array.from([6,32,58,84,110]),new Oe(26,new ne(8,106),new ne(4,107)),new Oe(28,new ne(8,47),new ne(13,48)),new Oe(30,new ne(7,24),new ne(22,25)),new Oe(30,new ne(22,15),new ne(13,16))),new dt(26,Int32Array.from([6,30,58,86,114]),new Oe(28,new ne(10,114),new ne(2,115)),new Oe(28,new ne(19,46),new ne(4,47)),new Oe(28,new ne(28,22),new ne(6,23)),new Oe(30,new ne(33,16),new ne(4,17))),new dt(27,Int32Array.from([6,34,62,90,118]),new Oe(30,new ne(8,122),new ne(4,123)),new Oe(28,new ne(22,45),new ne(3,46)),new Oe(30,new ne(8,23),new ne(26,24)),new Oe(30,new ne(12,15),new ne(28,16))),new dt(28,Int32Array.from([6,26,50,74,98,122]),new Oe(30,new ne(3,117),new ne(10,118)),new Oe(28,new ne(3,45),new ne(23,46)),new Oe(30,new ne(4,24),new ne(31,25)),new Oe(30,new ne(11,15),new ne(31,16))),new dt(29,Int32Array.from([6,30,54,78,102,126]),new Oe(30,new ne(7,116),new ne(7,117)),new Oe(28,new ne(21,45),new ne(7,46)),new Oe(30,new ne(1,23),new ne(37,24)),new Oe(30,new ne(19,15),new ne(26,16))),new dt(30,Int32Array.from([6,26,52,78,104,130]),new Oe(30,new ne(5,115),new ne(10,116)),new Oe(28,new ne(19,47),new ne(10,48)),new Oe(30,new ne(15,24),new ne(25,25)),new Oe(30,new ne(23,15),new ne(25,16))),new dt(31,Int32Array.from([6,30,56,82,108,134]),new Oe(30,new ne(13,115),new ne(3,116)),new Oe(28,new ne(2,46),new ne(29,47)),new Oe(30,new ne(42,24),new ne(1,25)),new Oe(30,new ne(23,15),new ne(28,16))),new dt(32,Int32Array.from([6,34,60,86,112,138]),new Oe(30,new ne(17,115)),new Oe(28,new ne(10,46),new ne(23,47)),new Oe(30,new ne(10,24),new ne(35,25)),new Oe(30,new ne(19,15),new ne(35,16))),new dt(33,Int32Array.from([6,30,58,86,114,142]),new Oe(30,new ne(17,115),new ne(1,116)),new Oe(28,new ne(14,46),new ne(21,47)),new Oe(30,new ne(29,24),new ne(19,25)),new Oe(30,new ne(11,15),new ne(46,16))),new dt(34,Int32Array.from([6,34,62,90,118,146]),new Oe(30,new ne(13,115),new ne(6,116)),new Oe(28,new ne(14,46),new ne(23,47)),new Oe(30,new ne(44,24),new ne(7,25)),new Oe(30,new ne(59,16),new ne(1,17))),new dt(35,Int32Array.from([6,30,54,78,102,126,150]),new Oe(30,new ne(12,121),new ne(7,122)),new Oe(28,new ne(12,47),new ne(26,48)),new Oe(30,new ne(39,24),new ne(14,25)),new Oe(30,new ne(22,15),new ne(41,16))),new dt(36,Int32Array.from([6,24,50,76,102,128,154]),new Oe(30,new ne(6,121),new ne(14,122)),new Oe(28,new ne(6,47),new ne(34,48)),new Oe(30,new ne(46,24),new ne(10,25)),new Oe(30,new ne(2,15),new ne(64,16))),new dt(37,Int32Array.from([6,28,54,80,106,132,158]),new Oe(30,new ne(17,122),new ne(4,123)),new Oe(28,new ne(29,46),new ne(14,47)),new Oe(30,new ne(49,24),new ne(10,25)),new Oe(30,new ne(24,15),new ne(46,16))),new dt(38,Int32Array.from([6,32,58,84,110,136,162]),new Oe(30,new ne(4,122),new ne(18,123)),new Oe(28,new ne(13,46),new ne(32,47)),new Oe(30,new ne(48,24),new ne(14,25)),new Oe(30,new ne(42,15),new ne(32,16))),new dt(39,Int32Array.from([6,26,54,82,110,138,166]),new Oe(30,new ne(20,117),new ne(4,118)),new Oe(28,new ne(40,47),new ne(7,48)),new Oe(30,new ne(43,24),new ne(22,25)),new Oe(30,new ne(10,15),new ne(67,16))),new dt(40,Int32Array.from([6,30,58,86,114,142,170]),new Oe(30,new ne(19,118),new ne(6,119)),new Oe(28,new ne(18,47),new ne(31,48)),new Oe(30,new ne(34,24),new ne(34,25)),new Oe(30,new ne(20,15),new ne(61,16)))];var Gn;(function(U){U[U.DATA_MASK_000=0]="DATA_MASK_000",U[U.DATA_MASK_001=1]="DATA_MASK_001",U[U.DATA_MASK_010=2]="DATA_MASK_010",U[U.DATA_MASK_011=3]="DATA_MASK_011",U[U.DATA_MASK_100=4]="DATA_MASK_100",U[U.DATA_MASK_101=5]="DATA_MASK_101",U[U.DATA_MASK_110=6]="DATA_MASK_110",U[U.DATA_MASK_111=7]="DATA_MASK_111"})(Gn||(Gn={}));class Tr{constructor(r,o){this.value=r,this.isMasked=o}unmaskBitMatrix(r,o){for(let u=0;u<o;u++)for(let c=0;c<o;c++)this.isMasked(u,c)&&r.flip(c,u)}}Tr.values=new Map([[Gn.DATA_MASK_000,new Tr(Gn.DATA_MASK_000,(U,r)=>(U+r&1)===0)],[Gn.DATA_MASK_001,new Tr(Gn.DATA_MASK_001,(U,r)=>(U&1)===0)],[Gn.DATA_MASK_010,new Tr(Gn.DATA_MASK_010,(U,r)=>r%3===0)],[Gn.DATA_MASK_011,new Tr(Gn.DATA_MASK_011,(U,r)=>(U+r)%3===0)],[Gn.DATA_MASK_100,new Tr(Gn.DATA_MASK_100,(U,r)=>(Math.floor(U/2)+Math.floor(r/3)&1)===0)],[Gn.DATA_MASK_101,new Tr(Gn.DATA_MASK_101,(U,r)=>U*r%6===0)],[Gn.DATA_MASK_110,new Tr(Gn.DATA_MASK_110,(U,r)=>U*r%6<3)],[Gn.DATA_MASK_111,new Tr(Gn.DATA_MASK_111,(U,r)=>(U+r+U*r%3&1)===0)]]);class qi{constructor(r){const o=r.getHeight();if(o<21||(o&3)!==1)throw new fe;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let h=0;h<6;h++)r=this.copyBit(h,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let h=5;h>=0;h--)r=this.copyBit(8,h,r);const o=this.bitMatrix.getHeight();let u=0;const c=o-7;for(let h=o-1;h>=c;h--)u=this.copyBit(8,h,u);for(let h=o-8;h<o;h++)u=this.copyBit(h,8,u);if(this.parsedFormatInfo=Ur.decodeFormatInformation(r,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new fe}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),o=Math.floor((r-17)/4);if(o<=6)return dt.getVersionForNumber(o);let u=0;const c=r-11;for(let p=5;p>=0;p--)for(let w=r-9;w>=c;w--)u=this.copyBit(w,p,u);let h=dt.decodeVersionInformation(u);if(h!==null&&h.getDimensionForVersion()===r)return this.parsedVersion=h,h;u=0;for(let p=5;p>=0;p--)for(let w=r-9;w>=c;w--)u=this.copyBit(p,w,u);if(h=dt.decodeVersionInformation(u),h!==null&&h.getDimensionForVersion()===r)return this.parsedVersion=h,h;throw new fe}copyBit(r,o,u){return(this.isMirror?this.bitMatrix.get(o,r):this.bitMatrix.get(r,o))?u<<1|1:u<<1}readCodewords(){const r=this.readFormatInformation(),o=this.readVersion(),u=Tr.values.get(r.getDataMask()),c=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,c);const h=o.buildFunctionPattern();let p=!0;const w=new Uint8Array(o.getTotalCodewords());let b=0,N=0,O=0;for(let z=c-1;z>0;z-=2){z===6&&z--;for(let G=0;G<c;G++){const ie=p?c-1-G:G;for(let we=0;we<2;we++)h.get(z-we,ie)||(O++,N<<=1,this.bitMatrix.get(z-we,ie)&&(N|=1),O===8&&(w[b++]=N,O=0,N=0))}p=!p}if(b!==o.getTotalCodewords())throw new fe;return w}remask(){if(this.parsedFormatInfo===null)return;const r=Tr.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,o)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let o=0,u=r.getWidth();o<u;o++)for(let c=o+1,h=r.getHeight();c<h;c++)r.get(o,c)!==r.get(c,o)&&(r.flip(c,o),r.flip(o,c))}}class Uo{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o,u){if(r.length!==o.getTotalCodewords())throw new C;const c=o.getECBlocksForLevel(u);let h=0;const p=c.getECBlocks();for(const we of p)h+=we.getCount();const w=new Array(h);let b=0;for(const we of p)for(let Ae=0;Ae<we.getCount();Ae++){const Te=we.getDataCodewords(),ze=c.getECCodewordsPerBlock()+Te;w[b++]=new Uo(Te,new Uint8Array(ze))}const N=w[0].codewords.length;let O=w.length-1;for(;O>=0&&w[O].codewords.length!==N;)O--;O++;const z=N-c.getECCodewordsPerBlock();let G=0;for(let we=0;we<z;we++)for(let Ae=0;Ae<b;Ae++)w[Ae].codewords[we]=r[G++];for(let we=O;we<b;we++)w[we].codewords[z]=r[G++];const ie=w[0].codewords.length;for(let we=z;we<ie;we++)for(let Ae=0;Ae<b;Ae++){const Te=Ae<O?we:we+1;w[Ae].codewords[Te]=r[G++]}return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Hr;(function(U){U[U.TERMINATOR=0]="TERMINATOR",U[U.NUMERIC=1]="NUMERIC",U[U.ALPHANUMERIC=2]="ALPHANUMERIC",U[U.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",U[U.BYTE=4]="BYTE",U[U.ECI=5]="ECI",U[U.KANJI=6]="KANJI",U[U.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",U[U.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",U[U.HANZI=9]="HANZI"})(Hr||(Hr={}));class Bt{constructor(r,o,u,c){this.value=r,this.stringValue=o,this.characterCountBitsForVersions=u,this.bits=c,Bt.FOR_BITS.set(c,this),Bt.FOR_VALUE.set(r,this)}static forBits(r){const o=Bt.FOR_BITS.get(r);if(o===void 0)throw new C;return o}getCharacterCountBits(r){const o=r.getVersionNumber();let u;return o<=9?u=0:o<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof Bt))return!1;const o=r;return this.value===o.value}toString(){return this.stringValue}}Bt.FOR_BITS=new Map,Bt.FOR_VALUE=new Map,Bt.TERMINATOR=new Bt(Hr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Bt.NUMERIC=new Bt(Hr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Bt.ALPHANUMERIC=new Bt(Hr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Bt.STRUCTURED_APPEND=new Bt(Hr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Bt.BYTE=new Bt(Hr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Bt.ECI=new Bt(Hr.ECI,"ECI",Int32Array.from([0,0,0]),7),Bt.KANJI=new Bt(Hr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Bt.FNC1_FIRST_POSITION=new Bt(Hr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Bt.FNC1_SECOND_POSITION=new Bt(Hr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Bt.HANZI=new Bt(Hr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Zn{static decode(r,o,u,c){const h=new $n(r);let p=new ge;const w=new Array;let b=-1,N=-1;try{let O=null,z=!1,G;do{if(h.available()<4)G=Bt.TERMINATOR;else{const ie=h.readBits(4);G=Bt.forBits(ie)}switch(G){case Bt.TERMINATOR:break;case Bt.FNC1_FIRST_POSITION:case Bt.FNC1_SECOND_POSITION:z=!0;break;case Bt.STRUCTURED_APPEND:if(h.available()<16)throw new fe;b=h.readBits(8),N=h.readBits(8);break;case Bt.ECI:const ie=Zn.parseECIValue(h);if(O=J.getCharacterSetECIByValue(ie),O===null)throw new fe;break;case Bt.HANZI:const we=h.readBits(4),Ae=h.readBits(G.getCharacterCountBits(o));we===Zn.GB2312_SUBSET&&Zn.decodeHanziSegment(h,p,Ae);break;default:const Te=h.readBits(G.getCharacterCountBits(o));switch(G){case Bt.NUMERIC:Zn.decodeNumericSegment(h,p,Te);break;case Bt.ALPHANUMERIC:Zn.decodeAlphanumericSegment(h,p,Te,z);break;case Bt.BYTE:Zn.decodeByteSegment(h,p,Te,O,w,c);break;case Bt.KANJI:Zn.decodeKanjiSegment(h,p,Te);break;default:throw new fe}break}}while(G!==Bt.TERMINATOR)}catch{throw new fe}return new Ve(r,p.toString(),w.length===0?null:w,u===null?null:u.toString(),b,N)}static decodeHanziSegment(r,o,u){if(u*13>r.available())throw new fe;const c=new Uint8Array(2*u);let h=0;for(;u>0;){const p=r.readBits(13);let w=p/96<<8&4294967295|p%96;w<959?w+=41377:w+=42657,c[h]=w>>8&255,c[h+1]=w&255,h+=2,u--}try{o.append(K.decode(c,$.GB2312))}catch(p){throw new fe(p)}}static decodeKanjiSegment(r,o,u){if(u*13>r.available())throw new fe;const c=new Uint8Array(2*u);let h=0;for(;u>0;){const p=r.readBits(13);let w=p/192<<8&4294967295|p%192;w<7936?w+=33088:w+=49472,c[h]=w>>8,c[h+1]=w,h+=2,u--}try{o.append(K.decode(c,$.SHIFT_JIS))}catch(p){throw new fe(p)}}static decodeByteSegment(r,o,u,c,h,p){if(8*u>r.available())throw new fe;const w=new Uint8Array(u);for(let N=0;N<u;N++)w[N]=r.readBits(8);let b;c===null?b=$.guessEncoding(w,p):b=c.getName();try{o.append(K.decode(w,b))}catch(N){throw new fe(N)}h.push(w)}static toAlphaNumericChar(r){if(r>=Zn.ALPHANUMERIC_CHARS.length)throw new fe;return Zn.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,o,u,c){const h=o.length();for(;u>1;){if(r.available()<11)throw new fe;const p=r.readBits(11);o.append(Zn.toAlphaNumericChar(Math.floor(p/45))),o.append(Zn.toAlphaNumericChar(p%45)),u-=2}if(u===1){if(r.available()<6)throw new fe;o.append(Zn.toAlphaNumericChar(r.readBits(6)))}if(c)for(let p=h;p<o.length();p++)o.charAt(p)==="%"&&(p<o.length()-1&&o.charAt(p+1)==="%"?o.deleteCharAt(p+1):o.setCharAt(p,""))}static decodeNumericSegment(r,o,u){for(;u>=3;){if(r.available()<10)throw new fe;const c=r.readBits(10);if(c>=1e3)throw new fe;o.append(Zn.toAlphaNumericChar(Math.floor(c/100))),o.append(Zn.toAlphaNumericChar(Math.floor(c/10)%10)),o.append(Zn.toAlphaNumericChar(c%10)),u-=3}if(u===2){if(r.available()<7)throw new fe;const c=r.readBits(7);if(c>=100)throw new fe;o.append(Zn.toAlphaNumericChar(Math.floor(c/10))),o.append(Zn.toAlphaNumericChar(c%10))}else if(u===1){if(r.available()<4)throw new fe;const c=r.readBits(4);if(c>=10)throw new fe;o.append(Zn.toAlphaNumericChar(c))}}static parseECIValue(r){const o=r.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const u=r.readBits(8);return(o&63)<<8&4294967295|u}if((o&224)===192){const u=r.readBits(16);return(o&31)<<16&4294967295|u}throw new fe}}Zn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Zn.GB2312_SUBSET=1;class Ho{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const o=r[0];r[0]=r[2],r[2]=o}}class Wo{constructor(){this.rsDecoder=new fn(ut.QR_CODE_FIELD_256)}decodeBooleanArray(r,o){return this.decodeBitMatrix(me.parseFromBooleanArray(r),o)}decodeBitMatrix(r,o){const u=new qi(r);let c=null;try{return this.decodeBitMatrixParser(u,o)}catch(h){c=h}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const h=this.decodeBitMatrixParser(u,o);return h.setOther(new Ho(!0)),h}catch(h){throw c!==null?c:h}}decodeBitMatrixParser(r,o){const u=r.readVersion(),c=r.readFormatInformation().getErrorCorrectionLevel(),h=r.readCodewords(),p=Uo.getDataBlocks(h,u,c);let w=0;for(const O of p)w+=O.getNumDataCodewords();const b=new Uint8Array(w);let N=0;for(const O of p){const z=O.getCodewords(),G=O.getNumDataCodewords();this.correctErrors(z,G);for(let ie=0;ie<G;ie++)b[N++]=z[ie]}return Zn.decode(b,u,c,o)}correctErrors(r,o){const u=new Int32Array(r);try{this.rsDecoder.decode(u,r.length-o)}catch{throw new S}for(let c=0;c<o;c++)r[c]=u[c]}}class Gi extends Ze{constructor(r,o,u){super(r,o),this.estimatedModuleSize=u}aboutEquals(r,o,u){if(Math.abs(o-this.getY())<=r&&Math.abs(u-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,o,u){const c=(this.getX()+o)/2,h=(this.getY()+r)/2,p=(this.estimatedModuleSize+u)/2;return new Gi(c,h,p)}}class Vo{constructor(r,o,u,c,h,p,w){this.image=r,this.startX=o,this.startY=u,this.width=c,this.height=h,this.moduleSize=p,this.resultPointCallback=w,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,o=this.height,u=this.width,c=r+u,h=this.startY+o/2,p=new Int32Array(3),w=this.image;for(let b=0;b<o;b++){const N=h+(b&1?-Math.floor((b+1)/2):Math.floor((b+1)/2));p[0]=0,p[1]=0,p[2]=0;let O=r;for(;O<c&&!w.get(O,N);)O++;let z=0;for(;O<c;){if(w.get(O,N))if(z===1)p[1]++;else if(z===2){if(this.foundPatternCross(p)){const G=this.handlePossibleCenter(p,N,O);if(G!==null)return G}p[0]=p[2],p[1]=1,p[2]=0,z=1}else p[++z]++;else z===1&&z++,p[z]++;O++}if(this.foundPatternCross(p)){const G=this.handlePossibleCenter(p,N,c);if(G!==null)return G}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ce}static centerFromEnd(r,o){return o-r[2]-r[1]/2}foundPatternCross(r){const o=this.moduleSize,u=o/2;for(let c=0;c<3;c++)if(Math.abs(o-r[c])>=u)return!1;return!0}crossCheckVertical(r,o,u,c){const h=this.image,p=h.getHeight(),w=this.crossCheckStateCount;w[0]=0,w[1]=0,w[2]=0;let b=r;for(;b>=0&&h.get(o,b)&&w[1]<=u;)w[1]++,b--;if(b<0||w[1]>u)return NaN;for(;b>=0&&!h.get(o,b)&&w[0]<=u;)w[0]++,b--;if(w[0]>u)return NaN;for(b=r+1;b<p&&h.get(o,b)&&w[1]<=u;)w[1]++,b++;if(b===p||w[1]>u)return NaN;for(;b<p&&!h.get(o,b)&&w[2]<=u;)w[2]++,b++;if(w[2]>u)return NaN;const N=w[0]+w[1]+w[2];return 5*Math.abs(N-c)>=2*c?NaN:this.foundPatternCross(w)?Vo.centerFromEnd(w,b):NaN}handlePossibleCenter(r,o,u){const c=r[0]+r[1]+r[2],h=Vo.centerFromEnd(r,u),p=this.crossCheckVertical(o,h,2*r[1],c);if(!isNaN(p)){const w=(r[0]+r[1]+r[2])/3;for(const N of this.possibleCenters)if(N.aboutEquals(w,p,h))return N.combineEstimate(p,h,w);const b=new Gi(h,p,w);this.possibleCenters.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return null}}class Co extends Ze{constructor(r,o,u,c){super(r,o),this.estimatedModuleSize=u,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,o,u){if(Math.abs(o-this.getY())<=r&&Math.abs(u-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,o,u){const c=this.count+1,h=(this.count*this.getX()+o)/c,p=(this.count*this.getY()+r)/c,w=(this.count*this.estimatedModuleSize+u)/c;return new Co(h,p,w,c)}}class Is{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Lt{constructor(r,o){this.image=r,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const o=r!=null&&r.get(Se.TRY_HARDER)!==void 0,u=r!=null&&r.get(Se.PURE_BARCODE)!==void 0,c=this.image,h=c.getHeight(),p=c.getWidth();let w=Math.floor(3*h/(4*Lt.MAX_MODULES));(w<Lt.MIN_SKIP||o)&&(w=Lt.MIN_SKIP);let b=!1;const N=new Int32Array(5);for(let z=w-1;z<h&&!b;z+=w){N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0;let G=0;for(let ie=0;ie<p;ie++)if(c.get(ie,z))(G&1)===1&&G++,N[G]++;else if(G&1)N[G]++;else if(G===4)if(Lt.foundPatternCross(N)){if(this.handlePossibleCenter(N,z,ie,u)===!0)if(w=2,this.hasSkipped===!0)b=this.haveMultiplyConfirmedCenters();else{const Ae=this.findRowSkip();Ae>N[2]&&(z+=Ae-N[2]-w,ie=p-1)}else{N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,G=3;continue}G=0,N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0}else N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,G=3;else N[++G]++;Lt.foundPatternCross(N)&&this.handlePossibleCenter(N,z,p,u)===!0&&(w=N[0],this.hasSkipped&&(b=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return Ze.orderBestPatterns(O),new Is(O)}static centerFromEnd(r,o){return o-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let o=0;for(let h=0;h<5;h++){const p=r[h];if(p===0)return!1;o+=p}if(o<7)return!1;const u=o/7,c=u/2;return Math.abs(u-r[0])<c&&Math.abs(u-r[1])<c&&Math.abs(3*u-r[2])<3*c&&Math.abs(u-r[3])<c&&Math.abs(u-r[4])<c}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,o,u,c){const h=this.getCrossCheckStateCount();let p=0;const w=this.image;for(;r>=p&&o>=p&&w.get(o-p,r-p);)h[2]++,p++;if(r<p||o<p)return!1;for(;r>=p&&o>=p&&!w.get(o-p,r-p)&&h[1]<=u;)h[1]++,p++;if(r<p||o<p||h[1]>u)return!1;for(;r>=p&&o>=p&&w.get(o-p,r-p)&&h[0]<=u;)h[0]++,p++;if(h[0]>u)return!1;const b=w.getHeight(),N=w.getWidth();for(p=1;r+p<b&&o+p<N&&w.get(o+p,r+p);)h[2]++,p++;if(r+p>=b||o+p>=N)return!1;for(;r+p<b&&o+p<N&&!w.get(o+p,r+p)&&h[3]<u;)h[3]++,p++;if(r+p>=b||o+p>=N||h[3]>=u)return!1;for(;r+p<b&&o+p<N&&w.get(o+p,r+p)&&h[4]<u;)h[4]++,p++;if(h[4]>=u)return!1;const O=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(O-c)<2*c&&Lt.foundPatternCross(h)}crossCheckVertical(r,o,u,c){const h=this.image,p=h.getHeight(),w=this.getCrossCheckStateCount();let b=r;for(;b>=0&&h.get(o,b);)w[2]++,b--;if(b<0)return NaN;for(;b>=0&&!h.get(o,b)&&w[1]<=u;)w[1]++,b--;if(b<0||w[1]>u)return NaN;for(;b>=0&&h.get(o,b)&&w[0]<=u;)w[0]++,b--;if(w[0]>u)return NaN;for(b=r+1;b<p&&h.get(o,b);)w[2]++,b++;if(b===p)return NaN;for(;b<p&&!h.get(o,b)&&w[3]<u;)w[3]++,b++;if(b===p||w[3]>=u)return NaN;for(;b<p&&h.get(o,b)&&w[4]<u;)w[4]++,b++;if(w[4]>=u)return NaN;const N=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(N-c)>=2*c?NaN:Lt.foundPatternCross(w)?Lt.centerFromEnd(w,b):NaN}crossCheckHorizontal(r,o,u,c){const h=this.image,p=h.getWidth(),w=this.getCrossCheckStateCount();let b=r;for(;b>=0&&h.get(b,o);)w[2]++,b--;if(b<0)return NaN;for(;b>=0&&!h.get(b,o)&&w[1]<=u;)w[1]++,b--;if(b<0||w[1]>u)return NaN;for(;b>=0&&h.get(b,o)&&w[0]<=u;)w[0]++,b--;if(w[0]>u)return NaN;for(b=r+1;b<p&&h.get(b,o);)w[2]++,b++;if(b===p)return NaN;for(;b<p&&!h.get(b,o)&&w[3]<u;)w[3]++,b++;if(b===p||w[3]>=u)return NaN;for(;b<p&&h.get(b,o)&&w[4]<u;)w[4]++,b++;if(w[4]>=u)return NaN;const N=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(N-c)>=c?NaN:Lt.foundPatternCross(w)?Lt.centerFromEnd(w,b):NaN}handlePossibleCenter(r,o,u,c){const h=r[0]+r[1]+r[2]+r[3]+r[4];let p=Lt.centerFromEnd(r,u),w=this.crossCheckVertical(o,Math.floor(p),r[2],h);if(!isNaN(w)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(w),r[2],h),!isNaN(p)&&(!c||this.crossCheckDiagonal(Math.floor(w),Math.floor(p),r[2],h)))){const b=h/7;let N=!1;const O=this.possibleCenters;for(let z=0,G=O.length;z<G;z++){const ie=O[z];if(ie.aboutEquals(b,w,p)){O[z]=ie.combineEstimate(w,p,b),N=!0;break}}if(!N){const z=new Co(p,w,b);O.push(z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const u of this.possibleCenters)if(u.getCount()>=Lt.CENTER_QUORUM)if(o==null)o=u;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-u.getX())-Math.abs(o.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,o=0;const u=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=Lt.CENTER_QUORUM&&(r++,o+=p.getEstimatedModuleSize());if(r<3)return!1;const c=o/u;let h=0;for(const p of this.possibleCenters)h+=Math.abs(p.getEstimatedModuleSize()-c);return h<=.05*o}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new ce;const o=this.possibleCenters;let u;if(r>3){let c=0,h=0;for(const b of this.possibleCenters){const N=b.getEstimatedModuleSize();c+=N,h+=N*N}u=c/r;let p=Math.sqrt(h/r-u*u);o.sort((b,N)=>{const O=Math.abs(N.getEstimatedModuleSize()-u),z=Math.abs(b.getEstimatedModuleSize()-u);return O<z?-1:O>z?1:0});const w=Math.max(.2*u,p);for(let b=0;b<o.length&&o.length>3;b++){const N=o[b];Math.abs(N.getEstimatedModuleSize()-u)>w&&(o.splice(b,1),b--)}}if(o.length>3){let c=0;for(const h of o)c+=h.getEstimatedModuleSize();u=c/o.length,o.sort((h,p)=>{if(p.getCount()===h.getCount()){const w=Math.abs(p.getEstimatedModuleSize()-u),b=Math.abs(h.getEstimatedModuleSize()-u);return w<b?1:w>b?-1:0}else return p.getCount()-h.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Lt.CENTER_QUORUM=2,Lt.MIN_SKIP=3,Lt.MAX_MODULES=57;class en{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(Se.NEED_RESULT_POINT_CALLBACK);const u=new Lt(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(u)}processFinderPatternInfo(r){const o=r.getTopLeft(),u=r.getTopRight(),c=r.getBottomLeft(),h=this.calculateModuleSize(o,u,c);if(h<1)throw new ce("No pattern found in proccess finder.");const p=en.computeDimension(o,u,c,h),w=dt.getProvisionalVersionForDimension(p),b=w.getDimensionForVersion()-7;let N=null;if(w.getAlignmentPatternCenters().length>0){const ie=u.getX()-o.getX()+c.getX(),we=u.getY()-o.getY()+c.getY(),Ae=1-3/b,Te=Math.floor(o.getX()+Ae*(ie-o.getX())),ze=Math.floor(o.getY()+Ae*(we-o.getY()));for(let $e=4;$e<=16;$e<<=1)try{N=this.findAlignmentInRegion(h,Te,ze,$e);break}catch(rt){if(!(rt instanceof ce))throw rt}}const O=en.createTransform(o,u,c,N,p),z=en.sampleGrid(this.image,O,p);let G;return N===null?G=[c,o,u]:G=[c,o,u,N],new nn(z,G)}static createTransform(r,o,u,c,h){const p=h-3.5;let w,b,N,O;return c!==null?(w=c.getX(),b=c.getY(),N=p-3,O=N):(w=o.getX()-r.getX()+u.getX(),b=o.getY()-r.getY()+u.getY(),N=p,O=p),Ut.quadrilateralToQuadrilateral(3.5,3.5,p,3.5,N,O,3.5,p,r.getX(),r.getY(),o.getX(),o.getY(),w,b,u.getX(),u.getY())}static sampleGrid(r,o,u){return Xt.getInstance().sampleGridWithTransform(r,u,u,o)}static computeDimension(r,o,u,c){const h=Ke.round(Ze.distance(r,o)/c),p=Ke.round(Ze.distance(r,u)/c);let w=Math.floor((h+p)/2)+7;switch(w&3){case 0:w++;break;case 2:w--;break;case 3:throw new ce("Dimensions could be not found.")}return w}calculateModuleSize(r,o,u){return(this.calculateModuleSizeOneWay(r,o)+this.calculateModuleSizeOneWay(r,u))/2}calculateModuleSizeOneWay(r,o){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(o.getX()),Math.floor(o.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(u)?c/7:isNaN(c)?u/7:(u+c)/14}sizeOfBlackWhiteBlackRunBothWays(r,o,u,c){let h=this.sizeOfBlackWhiteBlackRun(r,o,u,c),p=1,w=r-(u-r);w<0?(p=r/(r-w),w=0):w>=this.image.getWidth()&&(p=(this.image.getWidth()-1-r)/(w-r),w=this.image.getWidth()-1);let b=Math.floor(o-(c-o)*p);return p=1,b<0?(p=o/(o-b),b=0):b>=this.image.getHeight()&&(p=(this.image.getHeight()-1-o)/(b-o),b=this.image.getHeight()-1),w=Math.floor(r+(w-r)*p),h+=this.sizeOfBlackWhiteBlackRun(r,o,w,b),h-1}sizeOfBlackWhiteBlackRun(r,o,u,c){const h=Math.abs(c-o)>Math.abs(u-r);if(h){let ie=r;r=o,o=ie,ie=u,u=c,c=ie}const p=Math.abs(u-r),w=Math.abs(c-o);let b=-p/2;const N=r<u?1:-1,O=o<c?1:-1;let z=0;const G=u+N;for(let ie=r,we=o;ie!==G;ie+=N){const Ae=h?we:ie,Te=h?ie:we;if(z===1===this.image.get(Ae,Te)){if(z===2)return Ke.distance(ie,we,r,o);z++}if(b+=w,b>0){if(we===c)break;we+=O,b-=p}}return z===2?Ke.distance(u+N,c,r,o):NaN}findAlignmentInRegion(r,o,u,c){const h=Math.floor(c*r),p=Math.max(0,o-h),w=Math.min(this.image.getWidth()-1,o+h);if(w-p<r*3)throw new ce("Alignment top exceeds estimated module size.");const b=Math.max(0,u-h),N=Math.min(this.image.getHeight()-1,u+h);if(N-b<r*3)throw new ce("Alignment bottom exceeds estimated module size.");return new Vo(this.image,p,b,w-p,N-b,r,this.resultPointCallback).find()}}class Lr{constructor(){this.decoder=new Wo}getDecoder(){return this.decoder}decode(r,o){let u,c;if(o!=null&&o.get(Se.PURE_BARCODE)!==void 0){const b=Lr.extractPureBits(r.getBlackMatrix());u=this.decoder.decodeBitMatrix(b,o),c=Lr.NO_POINTS}else{const b=new en(r.getBlackMatrix()).detect(o);u=this.decoder.decodeBitMatrix(b.getBits(),o),c=b.getPoints()}u.getOther()instanceof Ho&&u.getOther().applyMirroredCorrection(c);const h=new se(u.getText(),u.getRawBytes(),void 0,c,ue.QR_CODE,void 0),p=u.getByteSegments();p!==null&&h.putMetadata(Fe.BYTE_SEGMENTS,p);const w=u.getECLevel();return w!==null&&h.putMetadata(Fe.ERROR_CORRECTION_LEVEL,w),u.hasStructuredAppend()&&(h.putMetadata(Fe.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),h.putMetadata(Fe.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),h}reset(){}static extractPureBits(r){const o=r.getTopLeftOnBit(),u=r.getBottomRightOnBit();if(o===null||u===null)throw new ce;const c=this.moduleSize(o,r);let h=o[1],p=u[1],w=o[0],b=u[0];if(w>=b||h>=p)throw new ce;if(p-h!==b-w&&(b=w+(p-h),b>=r.getWidth()))throw new ce;const N=Math.round((b-w+1)/c),O=Math.round((p-h+1)/c);if(N<=0||O<=0)throw new ce;if(O!==N)throw new ce;const z=Math.floor(c/2);h+=z,w+=z;const G=w+Math.floor((N-1)*c)-b;if(G>0){if(G>z)throw new ce;w-=G}const ie=h+Math.floor((O-1)*c)-p;if(ie>0){if(ie>z)throw new ce;h-=ie}const we=new me(N,O);for(let Ae=0;Ae<O;Ae++){const Te=h+Math.floor(Ae*c);for(let ze=0;ze<N;ze++)r.get(w+Math.floor(ze*c),Te)&&we.set(ze,Ae)}return we}static moduleSize(r,o){const u=o.getHeight(),c=o.getWidth();let h=r[0],p=r[1],w=!0,b=0;for(;h<c&&p<u;){if(w!==o.get(h,p)){if(++b===5)break;w=!w}h++,p++}if(h===c||p===u)throw new ce;return(h-r[0])/7}}Lr.NO_POINTS=new Array;class wt{PDF417Common(){}static getBitCountSum(r){return Ke.sum(r)}static toIntArray(r){if(r==null||!r.length)return wt.EMPTY_INT_ARRAY;const o=new Int32Array(r.length);let u=0;for(const c of r)o[u++]=c;return o}static getCodeword(r){const o=B.binarySearch(wt.SYMBOL_TABLE,r&262143);return o<0?-1:(wt.CODEWORD_TABLE[o]-1)%wt.NUMBER_OF_CODEWORDS}}wt.NUMBER_OF_CODEWORDS=929,wt.MAX_CODEWORDS_IN_BARCODE=wt.NUMBER_OF_CODEWORDS-1,wt.MIN_ROWS_IN_BARCODE=3,wt.MAX_ROWS_IN_BARCODE=90,wt.MODULES_IN_CODEWORD=17,wt.MODULES_IN_STOP_PATTERN=18,wt.BARS_IN_MODULE=8,wt.EMPTY_INT_ARRAY=new Int32Array([]),wt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),wt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Oa{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Qt{static detectMultiple(r,o,u){let c=r.getBlackMatrix(),h=Qt.detect(u,c);return h.length||(c=c.clone(),c.rotate180(),h=Qt.detect(u,c)),new Oa(c,h)}static detect(r,o){const u=new Array;let c=0,h=0,p=!1;for(;c<o.getHeight();){const w=Qt.findVertices(o,c,h);if(w[0]==null&&w[3]==null){if(!p)break;p=!1,h=0;for(const b of u)b[1]!=null&&(c=Math.trunc(Math.max(c,b[1].getY()))),b[3]!=null&&(c=Math.max(c,Math.trunc(b[3].getY())));c+=Qt.ROW_STEP;continue}if(p=!0,u.push(w),!r)break;w[2]!=null?(h=Math.trunc(w[2].getX()),c=Math.trunc(w[2].getY())):(h=Math.trunc(w[4].getX()),c=Math.trunc(w[4].getY()))}return u}static findVertices(r,o,u){const c=r.getHeight(),h=r.getWidth(),p=new Array(8);return Qt.copyToResult(p,Qt.findRowsWithPattern(r,c,h,o,u,Qt.START_PATTERN),Qt.INDEXES_START_PATTERN),p[4]!=null&&(u=Math.trunc(p[4].getX()),o=Math.trunc(p[4].getY())),Qt.copyToResult(p,Qt.findRowsWithPattern(r,c,h,o,u,Qt.STOP_PATTERN),Qt.INDEXES_STOP_PATTERN),p}static copyToResult(r,o,u){for(let c=0;c<u.length;c++)r[u[c]]=o[c]}static findRowsWithPattern(r,o,u,c,h,p){const w=new Array(4);let b=!1;const N=new Int32Array(p.length);for(;c<o;c+=Qt.ROW_STEP){let z=Qt.findGuardPattern(r,h,c,u,!1,p,N);if(z!=null){for(;c>0;){const G=Qt.findGuardPattern(r,h,--c,u,!1,p,N);if(G!=null)z=G;else{c++;break}}w[0]=new Ze(z[0],c),w[1]=new Ze(z[1],c),b=!0;break}}let O=c+1;if(b){let z=0,G=Int32Array.from([Math.trunc(w[0].getX()),Math.trunc(w[1].getX())]);for(;O<o;O++){const ie=Qt.findGuardPattern(r,G[0],O,u,!1,p,N);if(ie!=null&&Math.abs(G[0]-ie[0])<Qt.MAX_PATTERN_DRIFT&&Math.abs(G[1]-ie[1])<Qt.MAX_PATTERN_DRIFT)G=ie,z=0;else{if(z>Qt.SKIPPED_ROW_COUNT_MAX)break;z++}}O-=z+1,w[2]=new Ze(G[0],O),w[3]=new Ze(G[1],O)}return O-c<Qt.BARCODE_MIN_HEIGHT&&B.fill(w,null),w}static findGuardPattern(r,o,u,c,h,p,w){B.fillWithin(w,0,w.length,0);let b=o,N=0;for(;r.get(b,u)&&b>0&&N++<Qt.MAX_PIXEL_DRIFT;)b--;let O=b,z=0,G=p.length;for(let ie=h;O<c;O++)if(r.get(O,u)!==ie)w[z]++;else{if(z===G-1){if(Qt.patternMatchVariance(w,p,Qt.MAX_INDIVIDUAL_VARIANCE)<Qt.MAX_AVG_VARIANCE)return new Int32Array([b,O]);b+=w[0]+w[1],D.arraycopy(w,2,w,0,z-1),w[z-1]=0,w[z]=0,z--}else z++;w[z]=1,ie=!ie}return z===G-1&&Qt.patternMatchVariance(w,p,Qt.MAX_INDIVIDUAL_VARIANCE)<Qt.MAX_AVG_VARIANCE?new Int32Array([b,O-1]):null}static patternMatchVariance(r,o,u){let c=r.length,h=0,p=0;for(let N=0;N<c;N++)h+=r[N],p+=o[N];if(h<p)return 1/0;let w=h/p;u*=w;let b=0;for(let N=0;N<c;N++){let O=r[N],z=o[N]*w,G=O>z?O-z:z-O;if(G>u)return 1/0;b+=G}return b/h}}Qt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Qt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Qt.MAX_AVG_VARIANCE=.42,Qt.MAX_INDIVIDUAL_VARIANCE=.8,Qt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Qt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Qt.MAX_PIXEL_DRIFT=3,Qt.MAX_PATTERN_DRIFT=5,Qt.SKIPPED_ROW_COUNT_MAX=25,Qt.ROW_STEP=5,Qt.BARCODE_MIN_HEIGHT=10;class Yn{constructor(r,o){if(o.length===0)throw new C;this.field=r;let u=o.length;if(u>1&&o[0]===0){let c=1;for(;c<u&&o[c]===0;)c++;c===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-c),D.arraycopy(o,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let c=0;for(let h of this.coefficients)c=this.field.add(c,h);return c}let o=this.coefficients[0],u=this.coefficients.length;for(let c=1;c<u;c++)o=this.field.add(this.field.multiply(r,o),this.coefficients[c]);return o}add(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,u=r.coefficients;if(o.length>u.length){let p=o;o=u,u=p}let c=new Int32Array(u.length),h=u.length-o.length;D.arraycopy(u,0,c,0,h);for(let p=h;p<u.length;p++)c[p]=this.field.add(o[p-h],u[p]);return new Yn(this.field,c)}subtract(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof Yn?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new Yn(this.field,new Int32Array([0]));let o=this.coefficients,u=o.length,c=r.coefficients,h=c.length,p=new Int32Array(u+h-1);for(let w=0;w<u;w++){let b=o[w];for(let N=0;N<h;N++)p[w+N]=this.field.add(p[w+N],this.field.multiply(b,c[N]))}return new Yn(this.field,p)}negative(){let r=this.coefficients.length,o=new Int32Array(r);for(let u=0;u<r;u++)o[u]=this.field.subtract(0,this.coefficients[u]);return new Yn(this.field,o)}multiplyScalar(r){if(r===0)return new Yn(this.field,new Int32Array([0]));if(r===1)return this;let o=this.coefficients.length,u=new Int32Array(o);for(let c=0;c<o;c++)u[c]=this.field.multiply(this.coefficients[c],r);return new Yn(this.field,u)}multiplyByMonomial(r,o){if(r<0)throw new C;if(o===0)return new Yn(this.field,new Int32Array([0]));let u=this.coefficients.length,c=new Int32Array(u+r);for(let h=0;h<u;h++)c[h]=this.field.multiply(this.coefficients[h],o);return new Yn(this.field,c)}toString(){let r=new ge;for(let o=this.getDegree();o>=0;o--){let u=this.getCoefficient(o);u!==0&&(u<0?(r.append(" - "),u=-u):r.length()>0&&r.append(" + "),(o===0||u!==1)&&r.append(u),o!==0&&(o===1?r.append("x"):(r.append("x^"),r.append(o))))}return r.toString()}}class ca{add(r,o){return(r+o)%this.modulus}subtract(r,o){return(this.modulus+r-o)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new C;return this.logTable[r]}inverse(r){if(r===0)throw new gt;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class co extends ca{constructor(r,o){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let u=1;for(let c=0;c<r;c++)this.expTable[c]=u,u=u*o%r;for(let c=0;c<r-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new Yn(this,new Int32Array([0])),this.one=new Yn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new C;if(o===0)return this.zero;let u=new Int32Array(r+1);return u[0]=o,new Yn(this,u)}}co.PDF417_GF=new co(wt.NUMBER_OF_CODEWORDS,3);class qo{constructor(){this.field=co.PDF417_GF}decode(r,o,u){let c=new Yn(this.field,r),h=new Int32Array(o),p=!1;for(let we=o;we>0;we--){let Ae=c.evaluateAt(this.field.exp(we));h[o-we]=Ae,Ae!==0&&(p=!0)}if(!p)return 0;let w=this.field.getOne();if(u!=null)for(const we of u){let Ae=this.field.exp(r.length-1-we),Te=new Yn(this.field,new Int32Array([this.field.subtract(0,Ae),1]));w=w.multiply(Te)}let b=new Yn(this.field,h),N=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),b,o),O=N[0],z=N[1],G=this.findErrorLocations(O),ie=this.findErrorMagnitudes(z,O,G);for(let we=0;we<G.length;we++){let Ae=r.length-1-this.field.log(G[we]);if(Ae<0)throw S.getChecksumInstance();r[Ae]=this.field.subtract(r[Ae],ie[we])}return G.length}runEuclideanAlgorithm(r,o,u){if(r.getDegree()<o.getDegree()){let G=r;r=o,o=G}let c=r,h=o,p=this.field.getZero(),w=this.field.getOne();for(;h.getDegree()>=Math.round(u/2);){let G=c,ie=p;if(c=h,p=w,c.isZero())throw S.getChecksumInstance();h=G;let we=this.field.getZero(),Ae=c.getCoefficient(c.getDegree()),Te=this.field.inverse(Ae);for(;h.getDegree()>=c.getDegree()&&!h.isZero();){let ze=h.getDegree()-c.getDegree(),$e=this.field.multiply(h.getCoefficient(h.getDegree()),Te);we=we.add(this.field.buildMonomial(ze,$e)),h=h.subtract(c.multiplyByMonomial(ze,$e))}w=we.multiply(p).subtract(ie).negative()}let b=w.getCoefficient(0);if(b===0)throw S.getChecksumInstance();let N=this.field.inverse(b),O=w.multiply(N),z=h.multiply(N);return[O,z]}findErrorLocations(r){let o=r.getDegree(),u=new Int32Array(o),c=0;for(let h=1;h<this.field.getSize()&&c<o;h++)r.evaluateAt(h)===0&&(u[c]=this.field.inverse(h),c++);if(c!==o)throw S.getChecksumInstance();return u}findErrorMagnitudes(r,o,u){let c=o.getDegree(),h=new Int32Array(c);for(let N=1;N<=c;N++)h[c-N]=this.field.multiply(N,o.getCoefficient(N));let p=new Yn(this.field,h),w=u.length,b=new Int32Array(w);for(let N=0;N<w;N++){let O=this.field.inverse(u[N]),z=this.field.subtract(0,r.evaluateAt(O)),G=this.field.inverse(p.evaluateAt(O));b[N]=this.field.multiply(z,G)}return b}}class mi{constructor(r,o,u,c,h){r instanceof mi?this.constructor_2(r):this.constructor_1(r,o,u,c,h)}constructor_1(r,o,u,c,h){const p=o==null||u==null,w=c==null||h==null;if(p&&w)throw new ce;p?(o=new Ze(0,c.getY()),u=new Ze(0,h.getY())):w&&(c=new Ze(r.getWidth()-1,o.getY()),h=new Ze(r.getWidth()-1,u.getY())),this.image=r,this.topLeft=o,this.bottomLeft=u,this.topRight=c,this.bottomRight=h,this.minX=Math.trunc(Math.min(o.getX(),u.getX())),this.maxX=Math.trunc(Math.max(c.getX(),h.getX())),this.minY=Math.trunc(Math.min(o.getY(),c.getY())),this.maxY=Math.trunc(Math.max(u.getY(),h.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,o){return r==null?o:o==null?r:new mi(r.image,r.topLeft,r.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(r,o,u){let c=this.topLeft,h=this.bottomLeft,p=this.topRight,w=this.bottomRight;if(r>0){let b=u?this.topLeft:this.topRight,N=Math.trunc(b.getY()-r);N<0&&(N=0);let O=new Ze(b.getX(),N);u?c=O:p=O}if(o>0){let b=u?this.bottomLeft:this.bottomRight,N=Math.trunc(b.getY()+o);N>=this.image.getHeight()&&(N=this.image.getHeight()-1);let O=new Ze(b.getX(),N);u?h=O:w=O}return new mi(this.image,c,h,p,w)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ur{constructor(r,o,u,c){this.columnCount=r,this.errorCorrectionLevel=c,this.rowCountUpperPart=o,this.rowCountLowerPart=u,this.rowCount=o+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class fi{constructor(){this.buffer=""}static form(r,o){let u=-1;function c(p,w,b,N,O,z){if(p==="%%")return"%";if(o[++u]===void 0)return;p=N?parseInt(N.substr(1)):void 0;let G=O?parseInt(O.substr(1)):void 0,ie;switch(z){case"s":ie=o[u];break;case"c":ie=o[u][0];break;case"f":ie=parseFloat(o[u]).toFixed(p);break;case"p":ie=parseFloat(o[u]).toPrecision(p);break;case"e":ie=parseFloat(o[u]).toExponential(p);break;case"x":ie=parseInt(o[u]).toString(G||16);break;case"d":ie=parseFloat(parseInt(o[u],G||10).toPrecision(p)).toFixed(0);break}ie=typeof ie=="object"?JSON.stringify(ie):(+ie).toString(G);let we=parseInt(b),Ae=b&&b[0]+""=="0"?"0":" ";for(;ie.length<we;)ie=w!==void 0?ie+Ae:Ae+ie;return ie}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(h,c)}format(r,...o){this.buffer+=fi.form(r,o)}toString(){return this.buffer}}class ho{constructor(r){this.boundingBox=new mi(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let o=this.getCodeword(r);if(o!=null)return o;for(let u=1;u<ho.MAX_NEARBY_DISTANCE;u++){let c=this.imageRowToCodewordIndex(r)-u;if(c>=0&&(o=this.codewords[c],o!=null)||(c=this.imageRowToCodewordIndex(r)+u,c<this.codewords.length&&(o=this.codewords[c],o!=null)))return o}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,o){this.codewords[this.imageRowToCodewordIndex(r)]=o}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new fi;let o=0;for(const u of this.codewords){if(u==null){r.format("%3d:    |   %n",o++);continue}r.format("%3d: %3d|%3d%n",o++,u.getRowNumber(),u.getValue())}return r.toString()}}ho.MAX_NEARBY_DISTANCE=5;class ds{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let o=this.values.get(r);o==null&&(o=0),o++,this.values.set(r,o)}getValue(){let r=-1,o=new Array;for(const[u,c]of this.values.entries()){const h={getKey:()=>u,getValue:()=>c};h.getValue()>r?(r=h.getValue(),o=[],o.push(h.getKey())):h.getValue()===r&&o.push(h.getKey())}return wt.toIntArray(o)}getConfidence(r){return this.values.get(r)}}class Ks extends ho{constructor(r,o){super(r),this._isLeft=o}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,r);let u=this.getBoundingBox(),c=this._isLeft?u.getTopLeft():u.getTopRight(),h=this._isLeft?u.getBottomLeft():u.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(c.getY())),w=this.imageRowToCodewordIndex(Math.trunc(h.getY())),b=-1,N=1,O=0;for(let z=p;z<w;z++){if(o[z]==null)continue;let G=o[z],ie=G.getRowNumber()-b;if(ie===0)O++;else if(ie===1)N=Math.max(N,O),O=1,b=G.getRowNumber();else if(ie<0||G.getRowNumber()>=r.getRowCount()||ie>z)o[z]=null;else{let we;N>2?we=(N-2)*ie:we=ie;let Ae=we>=z;for(let Te=1;Te<=we&&!Ae;Te++)Ae=o[z-Te]!=null;Ae?o[z]=null:(b=G.getRowNumber(),O=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let o=new Int32Array(r.getRowCount());for(let u of this.getCodewords())if(u!=null){let c=u.getRowNumber();if(c>=o.length)continue;o[c]++}return o}adjustIncompleteIndicatorColumnRowNumbers(r){let o=this.getBoundingBox(),u=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.imageRowToCodewordIndex(Math.trunc(c.getY())),w=this.getCodewords(),b=-1;for(let N=h;N<p;N++){if(w[N]==null)continue;let O=w[N];O.setRowNumberAsRowIndicatorColumn();let z=O.getRowNumber()-b;z===0||(z===1?b=O.getRowNumber():O.getRowNumber()>=r.getRowCount()?w[N]=null:b=O.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),o=new ds,u=new ds,c=new ds,h=new ds;for(let w of r){if(w==null)continue;w.setRowNumberAsRowIndicatorColumn();let b=w.getValue()%30,N=w.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:u.setValue(b*3+1);break;case 1:h.setValue(b/3),c.setValue(b%3);break;case 2:o.setValue(b+1);break}}if(o.getValue().length===0||u.getValue().length===0||c.getValue().length===0||h.getValue().length===0||o.getValue()[0]<1||u.getValue()[0]+c.getValue()[0]<wt.MIN_ROWS_IN_BARCODE||u.getValue()[0]+c.getValue()[0]>wt.MAX_ROWS_IN_BARCODE)return null;let p=new ur(o.getValue()[0],u.getValue()[0],c.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(r,p),p}removeIncorrectCodewords(r,o){for(let u=0;u<r.length;u++){let c=r[u];if(r[u]==null)continue;let h=c.getValue()%30,p=c.getRowNumber();if(p>o.getRowCount()){r[u]=null;continue}switch(this._isLeft||(p+=2),p%3){case 0:h*3+1!==o.getRowCountUpperPart()&&(r[u]=null);break;case 1:(Math.trunc(h/3)!==o.getErrorCorrectionLevel()||h%3!==o.getRowCountLowerPart())&&(r[u]=null);break;case 2:h+1!==o.getColumnCount()&&(r[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class So{constructor(r,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=wt.MAX_CODEWORDS_IN_BARCODE,o;do o=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let u=this.detectionResultColumns[o].getCodewords();for(let c=0;c<u.length;c++)u[c]!=null&&(u[c].hasValidRowNumber()||this.adjustRowNumbers(o,c,u))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<r.length;u++)if(r[u]!=null&&o[u]!=null&&r[u].getRowNumber()===o[u].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let h=this.detectionResultColumns[c].getCodewords()[u];h!=null&&(h.setRowNumber(r[u].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<o.length;u++){if(o[u]==null)continue;let c=o[u].getRowNumber(),h=0;for(let p=this.barcodeColumnCount+1;p>0&&h<this.ADJUST_ROW_NUMBER_SKIP;p--){let w=this.detectionResultColumns[p].getCodewords()[u];w!=null&&(h=So.adjustRowNumberIfValid(c,h,w),w.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,o=this.detectionResultColumns[0].getCodewords();for(let u=0;u<o.length;u++){if(o[u]==null)continue;let c=o[u].getRowNumber(),h=0;for(let p=1;p<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;p++){let w=this.detectionResultColumns[p].getCodewords()[u];w!=null&&(h=So.adjustRowNumberIfValid(c,h,w),w.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,o,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(r)?(u.setRowNumber(r),o=0):++o),o}adjustRowNumbers(r,o,u){if(!this.detectionResultColumns[r-1])return;let c=u[o],h=this.detectionResultColumns[r-1].getCodewords(),p=h;this.detectionResultColumns[r+1]!=null&&(p=this.detectionResultColumns[r+1].getCodewords());let w=new Array(14);w[2]=h[o],w[3]=p[o],o>0&&(w[0]=u[o-1],w[4]=h[o-1],w[5]=p[o-1]),o>1&&(w[8]=u[o-2],w[10]=h[o-2],w[11]=p[o-2]),o<u.length-1&&(w[1]=u[o+1],w[6]=h[o+1],w[7]=p[o+1]),o<u.length-2&&(w[9]=u[o+2],w[12]=h[o+2],w[13]=p[o+2]);for(let b of w)if(So.adjustRowNumber(c,b))return}static adjustRowNumber(r,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===r.getBucket()?(r.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,o){this.detectionResultColumns[r]=o}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new fi;for(let u=0;u<r.getCodewords().length;u++){o.format("CW %3d:",u);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){o.format("    |   ");continue}let h=this.detectionResultColumns[c].getCodewords()[u];if(h==null){o.format("    |   ");continue}o.format(" %3d|%3d",h.getRowNumber(),h.getValue())}o.format("%n")}return o.toString()}}class Li{constructor(r,o,u,c){this.rowNumber=Li.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(o),this.bucket=Math.trunc(u),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==Li.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}Li.BARCODE_ROW_UNKNOWN=-1;class br{static initialize(){for(let r=0;r<wt.SYMBOL_TABLE.length;r++){let o=wt.SYMBOL_TABLE[r],u=o&1;for(let c=0;c<wt.BARS_IN_MODULE;c++){let h=0;for(;(o&1)===u;)h+=1,o>>=1;u=o&1,br.RATIOS_TABLE[r]||(br.RATIOS_TABLE[r]=new Array(wt.BARS_IN_MODULE)),br.RATIOS_TABLE[r][wt.BARS_IN_MODULE-c-1]=Math.fround(h/wt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let o=br.getDecodedCodewordValue(br.sampleBitCounts(r));return o!==-1?o:br.getClosestDecodedValue(r)}static sampleBitCounts(r){let o=Ke.sum(r),u=new Int32Array(wt.BARS_IN_MODULE),c=0,h=0;for(let p=0;p<wt.MODULES_IN_CODEWORD;p++){let w=o/(2*wt.MODULES_IN_CODEWORD)+p*o/wt.MODULES_IN_CODEWORD;h+r[c]<=w&&(h+=r[c],c++),u[c]++}return u}static getDecodedCodewordValue(r){let o=br.getBitValue(r);return wt.getCodeword(o)===-1?-1:o}static getBitValue(r){let o=0;for(let u=0;u<r.length;u++)for(let c=0;c<r[u];c++)o=o<<1|(u%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(r){let o=Ke.sum(r),u=new Array(wt.BARS_IN_MODULE);if(o>1)for(let p=0;p<u.length;p++)u[p]=Math.fround(r[p]/o);let c=kt.MAX_VALUE,h=-1;this.bSymbolTableReady||br.initialize();for(let p=0;p<br.RATIOS_TABLE.length;p++){let w=0,b=br.RATIOS_TABLE[p];for(let N=0;N<wt.BARS_IN_MODULE;N++){let O=Math.fround(b[N]-u[N]);if(w+=Math.fround(O*O),w>=c)break}w<c&&(c=w,h=wt.SYMBOL_TABLE[p])}return h}}br.bSymbolTableReady=!1,br.RATIOS_TABLE=new Array(wt.SYMBOL_TABLE.length).map(U=>new Array(wt.BARS_IN_MODULE));class Ts{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class gn{static parseLong(r,o=void 0){return parseInt(r,o)}}class Qs extends m{}Qs.kind="NullPointerException";class Qr{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,o,u){if(r==null)throw new Qs;if(o<0||o>r.length||u<0||o+u>r.length||o+u<0)throw new q;if(u===0)return;for(let c=0;c<u;c++)this.write(r[o+c])}flush(){}close(){}}class ps extends m{}class ha extends Qr{constructor(r=32){if(super(),this.count=0,r<0)throw new C("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let u=this.buf.length<<1;if(u-r<0&&(u=r),u<0){if(r<0)throw new ps;u=F.MAX_VALUE}this.buf=B.copyOfUint8Array(this.buf,u)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,o,u){if(o<0||o>r.length||u<0||o+u-r.length>0)throw new q;this.ensureCapacity(this.count+u),D.arraycopy(r,o,this.buf,this.count,u),this.count+=u}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return B.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var Sn;(function(U){U[U.ALPHA=0]="ALPHA",U[U.LOWER=1]="LOWER",U[U.MIXED=2]="MIXED",U[U.PUNCT=3]="PUNCT",U[U.ALPHA_SHIFT=4]="ALPHA_SHIFT",U[U.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Sn||(Sn={}));function Zi(){if(typeof window<"u")return window.BigInt||null;if(typeof tu<"u")return tu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ls;function Yi(U){if(typeof Ls>"u"&&(Ls=Zi()),Ls===null)throw new Error("BigInt is not supported!");return Ls(U)}function Ps(){let U=[];U[0]=Yi(1);let r=Yi(900);U[1]=r;for(let o=2;o<16;o++)U[o]=U[o-1]*r;return U}class We{static decode(r,o){let u=new ge(""),c=J.ISO8859_1;u.enableDecoding(c);let h=1,p=r[h++],w=new Ts;for(;h<r[0];){switch(p){case We.TEXT_COMPACTION_MODE_LATCH:h=We.textCompaction(r,h,u);break;case We.BYTE_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH_6:h=We.byteCompaction(p,r,c,h,u);break;case We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(r[h++]);break;case We.NUMERIC_COMPACTION_MODE_LATCH:h=We.numericCompaction(r,h,u);break;case We.ECI_CHARSET:J.getCharacterSetECIByValue(r[h++]);break;case We.ECI_GENERAL_PURPOSE:h+=2;break;case We.ECI_USER_DEFINED:h++;break;case We.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=We.decodeMacroBlock(r,h,w);break;case We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case We.MACRO_PDF417_TERMINATOR:throw new fe;default:h--,h=We.textCompaction(r,h,u);break}if(h<r.length)p=r[h++];else throw fe.getFormatInstance()}if(u.length()===0)throw fe.getFormatInstance();let b=new Ve(null,u.toString(),null,o);return b.setOther(w),b}static decodeMacroBlock(r,o,u){if(o+We.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw fe.getFormatInstance();let c=new Int32Array(We.NUMBER_OF_SEQUENCE_CODEWORDS);for(let w=0;w<We.NUMBER_OF_SEQUENCE_CODEWORDS;w++,o++)c[w]=r[o];u.setSegmentIndex(F.parseInt(We.decodeBase900toBase10(c,We.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new ge;o=We.textCompaction(r,o,h),u.setFileId(h.toString());let p=-1;for(r[o]===We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(p=o+1);o<r[0];)switch(r[o]){case We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,r[o]){case We.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let w=new ge;o=We.textCompaction(r,o+1,w),u.setFileName(w.toString());break;case We.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let b=new ge;o=We.textCompaction(r,o+1,b),u.setSender(b.toString());break;case We.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let N=new ge;o=We.textCompaction(r,o+1,N),u.setAddressee(N.toString());break;case We.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let O=new ge;o=We.numericCompaction(r,o+1,O),u.setSegmentCount(F.parseInt(O.toString()));break;case We.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let z=new ge;o=We.numericCompaction(r,o+1,z),u.setTimestamp(gn.parseLong(z.toString()));break;case We.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let G=new ge;o=We.numericCompaction(r,o+1,G),u.setChecksum(F.parseInt(G.toString()));break;case We.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ie=new ge;o=We.numericCompaction(r,o+1,ie),u.setFileSize(gn.parseLong(ie.toString()));break;default:throw fe.getFormatInstance()}break;case We.MACRO_PDF417_TERMINATOR:o++,u.setLastSegment(!0);break;default:throw fe.getFormatInstance()}if(p!==-1){let w=o-p;u.isLastSegment()&&w--,u.setOptionalData(B.copyOfRange(r,p,p+w))}return o}static textCompaction(r,o,u){let c=new Int32Array((r[0]-o)*2),h=new Int32Array((r[0]-o)*2),p=0,w=!1;for(;o<r[0]&&!w;){let b=r[o++];if(b<We.TEXT_COMPACTION_MODE_LATCH)c[p]=b/30,c[p+1]=b%30,p+=2;else switch(b){case We.TEXT_COMPACTION_MODE_LATCH:c[p++]=We.TEXT_COMPACTION_MODE_LATCH;break;case We.BYTE_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH_6:case We.NUMERIC_COMPACTION_MODE_LATCH:case We.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case We.MACRO_PDF417_TERMINATOR:o--,w=!0;break;case We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[p]=We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,b=r[o++],h[p]=b,p++;break}}return We.decodeTextCompaction(c,h,p,u),o}static decodeTextCompaction(r,o,u,c){let h=Sn.ALPHA,p=Sn.ALPHA,w=0;for(;w<u;){let b=r[w],N="";switch(h){case Sn.ALPHA:if(b<26)N=String.fromCharCode(65+b);else switch(b){case 26:N=" ";break;case We.LL:h=Sn.LOWER;break;case We.ML:h=Sn.MIXED;break;case We.PS:p=h,h=Sn.PUNCT_SHIFT;break;case We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[w]);break;case We.TEXT_COMPACTION_MODE_LATCH:h=Sn.ALPHA;break}break;case Sn.LOWER:if(b<26)N=String.fromCharCode(97+b);else switch(b){case 26:N=" ";break;case We.AS:p=h,h=Sn.ALPHA_SHIFT;break;case We.ML:h=Sn.MIXED;break;case We.PS:p=h,h=Sn.PUNCT_SHIFT;break;case We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[w]);break;case We.TEXT_COMPACTION_MODE_LATCH:h=Sn.ALPHA;break}break;case Sn.MIXED:if(b<We.PL)N=We.MIXED_CHARS[b];else switch(b){case We.PL:h=Sn.PUNCT;break;case 26:N=" ";break;case We.LL:h=Sn.LOWER;break;case We.AL:h=Sn.ALPHA;break;case We.PS:p=h,h=Sn.PUNCT_SHIFT;break;case We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[w]);break;case We.TEXT_COMPACTION_MODE_LATCH:h=Sn.ALPHA;break}break;case Sn.PUNCT:if(b<We.PAL)N=We.PUNCT_CHARS[b];else switch(b){case We.PAL:h=Sn.ALPHA;break;case We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[w]);break;case We.TEXT_COMPACTION_MODE_LATCH:h=Sn.ALPHA;break}break;case Sn.ALPHA_SHIFT:if(h=p,b<26)N=String.fromCharCode(65+b);else switch(b){case 26:N=" ";break;case We.TEXT_COMPACTION_MODE_LATCH:h=Sn.ALPHA;break}break;case Sn.PUNCT_SHIFT:if(h=p,b<We.PAL)N=We.PUNCT_CHARS[b];else switch(b){case We.PAL:h=Sn.ALPHA;break;case We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(o[w]);break;case We.TEXT_COMPACTION_MODE_LATCH:h=Sn.ALPHA;break}break}N!==""&&c.append(N),w++}}static byteCompaction(r,o,u,c,h){let p=new ha,w=0,b=0,N=!1;switch(r){case We.BYTE_COMPACTION_MODE_LATCH:let O=new Int32Array(6),z=o[c++];for(;c<o[0]&&!N;)switch(O[w++]=z,b=900*b+z,z=o[c++],z){case We.TEXT_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH:case We.NUMERIC_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH_6:case We.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case We.MACRO_PDF417_TERMINATOR:c--,N=!0;break;default:if(w%5===0&&w>0){for(let G=0;G<6;++G)p.write(Number(Yi(b)>>Yi(8*(5-G))));b=0,w=0}break}c===o[0]&&z<We.TEXT_COMPACTION_MODE_LATCH&&(O[w++]=z);for(let G=0;G<w;G++)p.write(O[G]);break;case We.BYTE_COMPACTION_MODE_LATCH_6:for(;c<o[0]&&!N;){let G=o[c++];if(G<We.TEXT_COMPACTION_MODE_LATCH)w++,b=900*b+G;else switch(G){case We.TEXT_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH:case We.NUMERIC_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH_6:case We.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case We.MACRO_PDF417_TERMINATOR:c--,N=!0;break}if(w%5===0&&w>0){for(let ie=0;ie<6;++ie)p.write(Number(Yi(b)>>Yi(8*(5-ie))));b=0,w=0}}break}return h.append(K.decode(p.toByteArray(),u)),c}static numericCompaction(r,o,u){let c=0,h=!1,p=new Int32Array(We.MAX_NUMERIC_CODEWORDS);for(;o<r[0]&&!h;){let w=r[o++];if(o===r[0]&&(h=!0),w<We.TEXT_COMPACTION_MODE_LATCH)p[c]=w,c++;else switch(w){case We.TEXT_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH:case We.BYTE_COMPACTION_MODE_LATCH_6:case We.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case We.MACRO_PDF417_TERMINATOR:o--,h=!0;break}(c%We.MAX_NUMERIC_CODEWORDS===0||w===We.NUMERIC_COMPACTION_MODE_LATCH||h)&&c>0&&(u.append(We.decodeBase900toBase10(p,c)),c=0)}return o}static decodeBase900toBase10(r,o){let u=Yi(0);for(let h=0;h<o;h++)u+=We.EXP900[o-h-1]*Yi(r[h]);let c=u.toString();if(c.charAt(0)!=="1")throw new fe;return c.substring(1)}}We.TEXT_COMPACTION_MODE_LATCH=900,We.BYTE_COMPACTION_MODE_LATCH=901,We.NUMERIC_COMPACTION_MODE_LATCH=902,We.BYTE_COMPACTION_MODE_LATCH_6=924,We.ECI_USER_DEFINED=925,We.ECI_GENERAL_PURPOSE=926,We.ECI_CHARSET=927,We.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,We.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,We.MACRO_PDF417_TERMINATOR=922,We.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,We.MAX_NUMERIC_CODEWORDS=15,We.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,We.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,We.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,We.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,We.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,We.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,We.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,We.PL=25,We.LL=27,We.AS=27,We.ML=28,We.AL=28,We.PS=29,We.PAL=29,We.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,We.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",We.EXP900=Zi()?Ps():[],We.NUMBER_OF_SEQUENCE_CODEWORDS=2;class E{constructor(){}static decode(r,o,u,c,h,p,w){let b=new mi(r,o,u,c,h),N=null,O=null,z;for(let we=!0;;we=!1){if(o!=null&&(N=E.getRowIndicatorColumn(r,b,o,!0,p,w)),c!=null&&(O=E.getRowIndicatorColumn(r,b,c,!1,p,w)),z=E.merge(N,O),z==null)throw ce.getNotFoundInstance();let Ae=z.getBoundingBox();if(we&&Ae!=null&&(Ae.getMinY()<b.getMinY()||Ae.getMaxY()>b.getMaxY()))b=Ae;else break}z.setBoundingBox(b);let G=z.getBarcodeColumnCount()+1;z.setDetectionResultColumn(0,N),z.setDetectionResultColumn(G,O);let ie=N!=null;for(let we=1;we<=G;we++){let Ae=ie?we:G-we;if(z.getDetectionResultColumn(Ae)!==void 0)continue;let Te;Ae===0||Ae===G?Te=new Ks(b,Ae===0):Te=new ho(b),z.setDetectionResultColumn(Ae,Te);let ze=-1,$e=ze;for(let rt=b.getMinY();rt<=b.getMaxY();rt++){if(ze=E.getStartColumn(z,Ae,rt,ie),ze<0||ze>b.getMaxX()){if($e===-1)continue;ze=$e}let tt=E.detectCodeword(r,b.getMinX(),b.getMaxX(),ie,ze,rt,p,w);tt!=null&&(Te.setCodeword(rt,tt),$e=ze,p=Math.min(p,tt.getWidth()),w=Math.max(w,tt.getWidth()))}}return E.createDecoderResult(z)}static merge(r,o){if(r==null&&o==null)return null;let u=E.getBarcodeMetadata(r,o);if(u==null)return null;let c=mi.merge(E.adjustBoundingBox(r),E.adjustBoundingBox(o));return new So(u,c)}static adjustBoundingBox(r){if(r==null)return null;let o=r.getRowHeights();if(o==null)return null;let u=E.getMax(o),c=0;for(let w of o)if(c+=u-w,w>0)break;let h=r.getCodewords();for(let w=0;c>0&&h[w]==null;w++)c--;let p=0;for(let w=o.length-1;w>=0&&(p+=u-o[w],!(o[w]>0));w--);for(let w=h.length-1;p>0&&h[w]==null;w--)p--;return r.getBoundingBox().addMissingRows(c,p,r.isLeft())}static getMax(r){let o=-1;for(let u of r)o=Math.max(o,u);return o}static getBarcodeMetadata(r,o){let u;if(r==null||(u=r.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let c;return o==null||(c=o.getBarcodeMetadata())==null?u:u.getColumnCount()!==c.getColumnCount()&&u.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&u.getRowCount()!==c.getRowCount()?null:u}static getRowIndicatorColumn(r,o,u,c,h,p){let w=new Ks(o,c);for(let b=0;b<2;b++){let N=b===0?1:-1,O=Math.trunc(Math.trunc(u.getX()));for(let z=Math.trunc(Math.trunc(u.getY()));z<=o.getMaxY()&&z>=o.getMinY();z+=N){let G=E.detectCodeword(r,0,r.getWidth(),c,O,z,h,p);G!=null&&(w.setCodeword(z,G),c?O=G.getStartX():O=G.getEndX())}}return w}static adjustCodewordCount(r,o){let u=o[0][1],c=u.getValue(),h=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-E.getNumberOfECCodeWords(r.getBarcodeECLevel());if(c.length===0){if(h<1||h>wt.MAX_CODEWORDS_IN_BARCODE)throw ce.getNotFoundInstance();u.setValue(h)}else c[0]!==h&&u.setValue(h)}static createDecoderResult(r){let o=E.createBarcodeMatrix(r);E.adjustCodewordCount(r,o);let u=new Array,c=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),h=[],p=new Array;for(let b=0;b<r.getBarcodeRowCount();b++)for(let N=0;N<r.getBarcodeColumnCount();N++){let O=o[b][N+1].getValue(),z=b*r.getBarcodeColumnCount()+N;O.length===0?u.push(z):O.length===1?c[z]=O[0]:(p.push(z),h.push(O))}let w=new Array(h.length);for(let b=0;b<w.length;b++)w[b]=h[b];return E.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),c,wt.toIntArray(u),wt.toIntArray(p),w)}static createDecoderResultFromAmbiguousValues(r,o,u,c,h){let p=new Int32Array(c.length),w=100;for(;w-- >0;){for(let b=0;b<p.length;b++)o[c[b]]=h[b][p[b]];try{return E.decodeCodewords(o,r,u)}catch(b){if(!(b instanceof S))throw b}if(p.length===0)throw S.getChecksumInstance();for(let b=0;b<p.length;b++)if(p[b]<h[b].length-1){p[b]++;break}else if(p[b]=0,b===p.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(r){let o=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let c=0;c<o.length;c++)for(let h=0;h<o[c].length;h++)o[c][h]=new ds;let u=0;for(let c of r.getDetectionResultColumns()){if(c!=null){for(let h of c.getCodewords())if(h!=null){let p=h.getRowNumber();if(p>=0){if(p>=o.length)continue;o[p][u].setValue(h.getValue())}}}u++}return o}static isValidBarcodeColumn(r,o){return o>=0&&o<=r.getBarcodeColumnCount()+1}static getStartColumn(r,o,u,c){let h=c?1:-1,p=null;if(E.isValidBarcodeColumn(r,o-h)&&(p=r.getDetectionResultColumn(o-h).getCodeword(u)),p!=null)return c?p.getEndX():p.getStartX();if(p=r.getDetectionResultColumn(o).getCodewordNearby(u),p!=null)return c?p.getStartX():p.getEndX();if(E.isValidBarcodeColumn(r,o-h)&&(p=r.getDetectionResultColumn(o-h).getCodewordNearby(u)),p!=null)return c?p.getEndX():p.getStartX();let w=0;for(;E.isValidBarcodeColumn(r,o-h);){o-=h;for(let b of r.getDetectionResultColumn(o).getCodewords())if(b!=null)return(c?b.getEndX():b.getStartX())+h*w*(b.getEndX()-b.getStartX());w++}return c?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,o,u,c,h,p,w,b){h=E.adjustCodewordStartColumn(r,o,u,c,h,p);let N=E.getModuleBitCount(r,o,u,c,h,p);if(N==null)return null;let O,z=Ke.sum(N);if(c)O=h+z;else{for(let we=0;we<N.length/2;we++){let Ae=N[we];N[we]=N[N.length-1-we],N[N.length-1-we]=Ae}O=h,h=O-z}if(!E.checkCodewordSkew(z,w,b))return null;let G=br.getDecodedValue(N),ie=wt.getCodeword(G);return ie===-1?null:new Li(h,O,E.getCodewordBucketNumber(G),ie)}static getModuleBitCount(r,o,u,c,h,p){let w=h,b=new Int32Array(8),N=0,O=c?1:-1,z=c;for(;(c?w<u:w>=o)&&N<b.length;)r.get(w,p)===z?(b[N]++,w+=O):(N++,z=!z);return N===b.length||w===(c?u:o)&&N===b.length-1?b:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,o,u,c,h,p){let w=h,b=c?-1:1;for(let N=0;N<2;N++){for(;(c?w>=o:w<u)&&c===r.get(w,p);){if(Math.abs(h-w)>E.CODEWORD_SKEW_SIZE)return h;w+=b}b=-b,c=!c}return w}static checkCodewordSkew(r,o,u){return o-E.CODEWORD_SKEW_SIZE<=r&&r<=u+E.CODEWORD_SKEW_SIZE}static decodeCodewords(r,o,u){if(r.length===0)throw fe.getFormatInstance();let c=1<<o+1,h=E.correctErrors(r,u,c);E.verifyCodewordCount(r,c);let p=We.decode(r,""+o);return p.setErrorsCorrected(h),p.setErasures(u.length),p}static correctErrors(r,o,u){if(o!=null&&o.length>u/2+E.MAX_ERRORS||u<0||u>E.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return E.errorCorrection.decode(r,u,o)}static verifyCodewordCount(r,o){if(r.length<4)throw fe.getFormatInstance();let u=r[0];if(u>r.length)throw fe.getFormatInstance();if(u===0)if(o<r.length)r[0]=r.length-o;else throw fe.getFormatInstance()}static getBitCountForCodeword(r){let o=new Int32Array(8),u=0,c=o.length-1;for(;!((r&1)!==u&&(u=r&1,c--,c<0));)o[c]++,r>>=1;return o}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return E.getCodewordBucketNumber(E.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let o=new fi;for(let u=0;u<r.length;u++){o.format("Row %2d: ",u);for(let c=0;c<r[u].length;c++){let h=r[u][c];h.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}o.format("%n")}return o.toString()}}E.CODEWORD_SKEW_SIZE=2,E.MAX_ERRORS=3,E.MAX_EC_CODEWORDS=512,E.errorCorrection=new qo;class H{decode(r,o=null){let u=H.decode(r,o,!1);if(u==null||u.length===0||u[0]==null)throw ce.getNotFoundInstance();return u[0]}decodeMultiple(r,o=null){try{return H.decode(r,o,!0)}catch(u){throw u instanceof fe||u instanceof S?ce.getNotFoundInstance():u}}static decode(r,o,u){const c=new Array,h=Qt.detectMultiple(r,o,u);for(const p of h.getPoints()){const w=E.decode(h.getBits(),p[4],p[5],p[6],p[7],H.getMinCodewordWidth(p),H.getMaxCodewordWidth(p)),b=new se(w.getText(),w.getRawBytes(),void 0,p,ue.PDF_417);b.putMetadata(Fe.ERROR_CORRECTION_LEVEL,w.getECLevel());const N=w.getOther();N!=null&&b.putMetadata(Fe.PDF417_EXTRA_METADATA,N),c.push(b)}return c.map(p=>p)}static getMaxWidth(r,o){return r==null||o==null?0:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMinWidth(r,o){return r==null||o==null?F.MAX_VALUE:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(H.getMaxWidth(r[0],r[4]),H.getMaxWidth(r[6],r[2])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN),Math.max(H.getMaxWidth(r[1],r[5]),H.getMaxWidth(r[7],r[3])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(H.getMinWidth(r[0],r[4]),H.getMinWidth(r[6],r[2])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN),Math.min(H.getMinWidth(r[1],r[5]),H.getMinWidth(r[7],r[3])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN)))}reset(){}}class re extends m{}re.kind="ReaderException";class _e{constructor(r,o){this.verbose=r===!0,o&&this.setHints(o)}decode(r,o){return o&&this.setHints(o),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const o=!i(r)&&r.get(Se.TRY_HARDER)===!0,u=i(r)?null:r.get(Se.POSSIBLE_FORMATS),c=new Array;if(!i(u)){const h=u.some(p=>p===ue.UPC_A||p===ue.UPC_E||p===ue.EAN_13||p===ue.EAN_8||p===ue.CODABAR||p===ue.CODE_39||p===ue.CODE_93||p===ue.CODE_128||p===ue.ITF||p===ue.RSS_14||p===ue.RSS_EXPANDED);h&&!o&&c.push(new lo(r,this.verbose)),u.includes(ue.QR_CODE)&&c.push(new Lr),u.includes(ue.DATA_MATRIX)&&c.push(new An),u.includes(ue.AZTEC)&&c.push(new Dt),u.includes(ue.PDF_417)&&c.push(new H),h&&o&&c.push(new lo(r,this.verbose))}c.length===0&&(o||c.push(new lo(r,this.verbose)),c.push(new Lr),c.push(new An),c.push(new Dt),c.push(new H),o&&c.push(new lo(r,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new re("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(r,this.hints)}catch(u){if(u instanceof re)continue}throw new ce("No MultiFormat Readers were able to detect the code.")}}class Ne extends oe{constructor(r=null,o=500){const u=new _e;u.setHints(r),super(u,o)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class Xe extends oe{constructor(r=500){super(new H,r)}}class at extends oe{constructor(r=500){super(new Lr,r)}}var Et;(function(U){U[U.ERROR_CORRECTION=0]="ERROR_CORRECTION",U[U.CHARACTER_SET=1]="CHARACTER_SET",U[U.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",U[U.MIN_SIZE=3]="MIN_SIZE",U[U.MAX_SIZE=4]="MAX_SIZE",U[U.MARGIN=5]="MARGIN",U[U.PDF417_COMPACT=6]="PDF417_COMPACT",U[U.PDF417_COMPACTION=7]="PDF417_COMPACTION",U[U.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",U[U.AZTEC_LAYERS=9]="AZTEC_LAYERS",U[U.QR_VERSION=10]="QR_VERSION"})(Et||(Et={}));var vt=Et;class tn{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new ot(r,Int32Array.from([1])))}buildGenerator(r){const o=this.cachedGenerators;if(r>=o.length){let u=o[o.length-1];const c=this.field;for(let h=o.length;h<=r;h++){const p=u.multiply(new ot(c,Int32Array.from([1,c.exp(h-1+c.getGeneratorBase())])));o.push(p),u=p}}return o[r]}encode(r,o){if(o===0)throw new C("No error correction bytes");const u=r.length-o;if(u<=0)throw new C("No data bytes provided");const c=this.buildGenerator(o),h=new Int32Array(u);D.arraycopy(r,0,h,0,u);let p=new ot(this.field,h);p=p.multiplyByMonomial(o,1);const b=p.divide(c)[1].getCoefficients(),N=o-b.length;for(let O=0;O<N;O++)r[u+O]=0;D.arraycopy(b,0,r,u+N,b.length)}}class Nt{constructor(){}static applyMaskPenaltyRule1(r){return Nt.applyMaskPenaltyRule1Internal(r,!0)+Nt.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let o=0;const u=r.getArray(),c=r.getWidth(),h=r.getHeight();for(let p=0;p<h-1;p++){const w=u[p];for(let b=0;b<c-1;b++){const N=w[b];N===w[b+1]&&N===u[p+1][b]&&N===u[p+1][b+1]&&o++}}return Nt.N2*o}static applyMaskPenaltyRule3(r){let o=0;const u=r.getArray(),c=r.getWidth(),h=r.getHeight();for(let p=0;p<h;p++)for(let w=0;w<c;w++){const b=u[p];w+6<c&&b[w]===1&&b[w+1]===0&&b[w+2]===1&&b[w+3]===1&&b[w+4]===1&&b[w+5]===0&&b[w+6]===1&&(Nt.isWhiteHorizontal(b,w-4,w)||Nt.isWhiteHorizontal(b,w+7,w+11))&&o++,p+6<h&&u[p][w]===1&&u[p+1][w]===0&&u[p+2][w]===1&&u[p+3][w]===1&&u[p+4][w]===1&&u[p+5][w]===0&&u[p+6][w]===1&&(Nt.isWhiteVertical(u,w,p-4,p)||Nt.isWhiteVertical(u,w,p+7,p+11))&&o++}return o*Nt.N3}static isWhiteHorizontal(r,o,u){o=Math.max(o,0),u=Math.min(u,r.length);for(let c=o;c<u;c++)if(r[c]===1)return!1;return!0}static isWhiteVertical(r,o,u,c){u=Math.max(u,0),c=Math.min(c,r.length);for(let h=u;h<c;h++)if(r[h][o]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let o=0;const u=r.getArray(),c=r.getWidth(),h=r.getHeight();for(let b=0;b<h;b++){const N=u[b];for(let O=0;O<c;O++)N[O]===1&&o++}const p=r.getHeight()*r.getWidth();return Math.floor(Math.abs(o*2-p)*10/p)*Nt.N4}static getDataMaskBit(r,o,u){let c,h;switch(r){case 0:c=u+o&1;break;case 1:c=u&1;break;case 2:c=o%3;break;case 3:c=(u+o)%3;break;case 4:c=Math.floor(u/2)+Math.floor(o/3)&1;break;case 5:h=u*o,c=(h&1)+h%3;break;case 6:h=u*o,c=(h&1)+h%3&1;break;case 7:h=u*o,c=h%3+(u+o&1)&1;break;default:throw new C("Invalid mask pattern: "+r)}return c===0}static applyMaskPenaltyRule1Internal(r,o){let u=0;const c=o?r.getHeight():r.getWidth(),h=o?r.getWidth():r.getHeight(),p=r.getArray();for(let w=0;w<c;w++){let b=0,N=-1;for(let O=0;O<h;O++){const z=o?p[w][O]:p[O][w];z===N?b++:(b>=5&&(u+=Nt.N1+(b-5)),b=1,N=z)}b>=5&&(u+=Nt.N1+(b-5))}return u}}Nt.N1=3,Nt.N2=3,Nt.N3=40,Nt.N4=10;class In{constructor(r,o){this.width=r,this.height=o;const u=new Array(o);for(let c=0;c!==o;c++)u[c]=new Uint8Array(r);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(r,o){return this.bytes[o][r]}getArray(){return this.bytes}setNumber(r,o,u){this.bytes[o][r]=u}setBoolean(r,o,u){this.bytes[o][r]=u?1:0}clear(r){for(const o of this.bytes)B.fill(o,r)}equals(r){if(!(r instanceof In))return!1;const o=r;if(this.width!==o.width||this.height!==o.height)return!1;for(let u=0,c=this.height;u<c;++u){const h=this.bytes[u],p=o.bytes[u];for(let w=0,b=this.width;w<b;++w)if(h[w]!==p[w])return!1}return!0}toString(){const r=new ge;for(let o=0,u=this.height;o<u;++o){const c=this.bytes[o];for(let h=0,p=this.width;h<p;++h)switch(c[h]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class zn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new ge;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<zn.NUM_MASK_PATTERNS}}zn.NUM_MASK_PATTERNS=8;class on extends m{}on.kind="WriterException";class yt{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,o,u,c,h){yt.clearMatrix(h),yt.embedBasicPatterns(u,h),yt.embedTypeInfo(o,c,h),yt.maybeEmbedVersionInfo(u,h),yt.embedDataBits(r,c,h)}static embedBasicPatterns(r,o){yt.embedPositionDetectionPatternsAndSeparators(o),yt.embedDarkDotAtLeftBottomCorner(o),yt.maybeEmbedPositionAdjustmentPatterns(r,o),yt.embedTimingPatterns(o)}static embedTypeInfo(r,o,u){const c=new Z;yt.makeTypeInfoBits(r,o,c);for(let h=0,p=c.getSize();h<p;++h){const w=c.get(c.getSize()-1-h),b=yt.TYPE_INFO_COORDINATES[h],N=b[0],O=b[1];if(u.setBoolean(N,O,w),h<8){const z=u.getWidth()-h-1;u.setBoolean(z,8,w)}else{const G=u.getHeight()-7+(h-8);u.setBoolean(8,G,w)}}}static maybeEmbedVersionInfo(r,o){if(r.getVersionNumber()<7)return;const u=new Z;yt.makeVersionInfoBits(r,u);let c=6*3-1;for(let h=0;h<6;++h)for(let p=0;p<3;++p){const w=u.get(c);c--,o.setBoolean(h,o.getHeight()-11+p,w),o.setBoolean(o.getHeight()-11+p,h,w)}}static embedDataBits(r,o,u){let c=0,h=-1,p=u.getWidth()-1,w=u.getHeight()-1;for(;p>0;){for(p===6&&(p-=1);w>=0&&w<u.getHeight();){for(let b=0;b<2;++b){const N=p-b;if(!yt.isEmpty(u.get(N,w)))continue;let O;c<r.getSize()?(O=r.get(c),++c):O=!1,o!==255&&Nt.getDataMaskBit(o,N,w)&&(O=!O),u.setBoolean(N,w,O)}w+=h}h=-h,w+=h,p-=2}if(c!==r.getSize())throw new on("Not all bits consumed: "+c+"/"+r.getSize())}static findMSBSet(r){return 32-F.numberOfLeadingZeros(r)}static calculateBCHCode(r,o){if(o===0)throw new C("0 polynomial");const u=yt.findMSBSet(o);for(r<<=u-1;yt.findMSBSet(r)>=u;)r^=o<<yt.findMSBSet(r)-u;return r}static makeTypeInfoBits(r,o,u){if(!zn.isValidMaskPattern(o))throw new on("Invalid mask pattern");const c=r.getBits()<<3|o;u.appendBits(c,5);const h=yt.calculateBCHCode(c,yt.TYPE_INFO_POLY);u.appendBits(h,10);const p=new Z;if(p.appendBits(yt.TYPE_INFO_MASK_PATTERN,15),u.xor(p),u.getSize()!==15)throw new on("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(r,o){o.appendBits(r.getVersionNumber(),6);const u=yt.calculateBCHCode(r.getVersionNumber(),yt.VERSION_INFO_POLY);if(o.appendBits(u,12),o.getSize()!==18)throw new on("should not happen but we got: "+o.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let o=8;o<r.getWidth()-8;++o){const u=(o+1)%2;yt.isEmpty(r.get(o,6))&&r.setNumber(o,6,u),yt.isEmpty(r.get(6,o))&&r.setNumber(6,o,u)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new on;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,o,u){for(let c=0;c<8;++c){if(!yt.isEmpty(u.get(r+c,o)))throw new on;u.setNumber(r+c,o,0)}}static embedVerticalSeparationPattern(r,o,u){for(let c=0;c<7;++c){if(!yt.isEmpty(u.get(r,o+c)))throw new on;u.setNumber(r,o+c,0)}}static embedPositionAdjustmentPattern(r,o,u){for(let c=0;c<5;++c){const h=yt.POSITION_ADJUSTMENT_PATTERN[c];for(let p=0;p<5;++p)u.setNumber(r+p,o+c,h[p])}}static embedPositionDetectionPattern(r,o,u){for(let c=0;c<7;++c){const h=yt.POSITION_DETECTION_PATTERN[c];for(let p=0;p<7;++p)u.setNumber(r+p,o+c,h[p])}}static embedPositionDetectionPatternsAndSeparators(r){const o=yt.POSITION_DETECTION_PATTERN[0].length;yt.embedPositionDetectionPattern(0,0,r),yt.embedPositionDetectionPattern(r.getWidth()-o,0,r),yt.embedPositionDetectionPattern(0,r.getWidth()-o,r);const u=8;yt.embedHorizontalSeparationPattern(0,u-1,r),yt.embedHorizontalSeparationPattern(r.getWidth()-u,u-1,r),yt.embedHorizontalSeparationPattern(0,r.getWidth()-u,r);const c=7;yt.embedVerticalSeparationPattern(c,0,r),yt.embedVerticalSeparationPattern(r.getHeight()-c-1,0,r),yt.embedVerticalSeparationPattern(c,r.getHeight()-c,r)}static maybeEmbedPositionAdjustmentPatterns(r,o){if(r.getVersionNumber()<2)return;const u=r.getVersionNumber()-1,c=yt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let h=0,p=c.length;h!==p;h++){const w=c[h];if(w>=0)for(let b=0;b!==p;b++){const N=c[b];N>=0&&yt.isEmpty(o.get(N,w))&&yt.embedPositionAdjustmentPattern(N-2,w-2,o)}}}}yt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),yt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),yt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),yt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),yt.VERSION_INFO_POLY=7973,yt.TYPE_INFO_POLY=1335,yt.TYPE_INFO_MASK_PATTERN=21522;class Pr{constructor(r,o){this.dataBytes=r,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ln{constructor(){}static calculateMaskPenalty(r){return Nt.applyMaskPenaltyRule1(r)+Nt.applyMaskPenaltyRule2(r)+Nt.applyMaskPenaltyRule3(r)+Nt.applyMaskPenaltyRule4(r)}static encode(r,o,u=null){let c=ln.DEFAULT_BYTE_MODE_ENCODING;const h=u!==null&&u.get(vt.CHARACTER_SET)!==void 0;h&&(c=u.get(vt.CHARACTER_SET).toString());const p=this.chooseMode(r,c),w=new Z;if(p===Bt.BYTE&&(h||ln.DEFAULT_BYTE_MODE_ENCODING!==c)){const rt=J.getCharacterSetECIByName(c);rt!==void 0&&this.appendECI(rt,w)}this.appendModeInfo(p,w);const b=new Z;this.appendBytes(r,p,b,c);let N;if(u!==null&&u.get(vt.QR_VERSION)!==void 0){const rt=Number.parseInt(u.get(vt.QR_VERSION).toString(),10);N=dt.getVersionForNumber(rt);const tt=this.calculateBitsNeeded(p,w,b,N);if(!this.willFit(tt,N,o))throw new on("Data too big for requested version")}else N=this.recommendVersion(o,p,w,b);const O=new Z;O.appendBitArray(w);const z=p===Bt.BYTE?b.getSizeInBytes():r.length;this.appendLengthInfo(z,N,p,O),O.appendBitArray(b);const G=N.getECBlocksForLevel(o),ie=N.getTotalCodewords()-G.getTotalECCodewords();this.terminateBits(ie,O);const we=this.interleaveWithECBytes(O,N.getTotalCodewords(),ie,G.getNumBlocks()),Ae=new zn;Ae.setECLevel(o),Ae.setMode(p),Ae.setVersion(N);const Te=N.getDimensionForVersion(),ze=new In(Te,Te),$e=this.chooseMaskPattern(we,o,N,ze);return Ae.setMaskPattern($e),yt.buildMatrix(we,o,N,$e,ze),Ae.setMatrix(ze),Ae}static recommendVersion(r,o,u,c){const h=this.calculateBitsNeeded(o,u,c,dt.getVersionForNumber(1)),p=this.chooseVersion(h,r),w=this.calculateBitsNeeded(o,u,c,p);return this.chooseVersion(w,r)}static calculateBitsNeeded(r,o,u,c){return o.getSize()+r.getCharacterCountBits(c)+u.getSize()}static getAlphanumericCode(r){return r<ln.ALPHANUMERIC_TABLE.length?ln.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,o=null){if(J.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(r))return Bt.KANJI;let u=!1,c=!1;for(let h=0,p=r.length;h<p;++h){const w=r.charAt(h);if(ln.isDigit(w))u=!0;else if(this.getAlphanumericCode(w.charCodeAt(0))!==-1)c=!0;else return Bt.BYTE}return c?Bt.ALPHANUMERIC:u?Bt.NUMERIC:Bt.BYTE}static isOnlyDoubleByteKanji(r){let o;try{o=K.encode(r,J.SJIS)}catch{return!1}const u=o.length;if(u%2!==0)return!1;for(let c=0;c<u;c+=2){const h=o[c]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(r,o,u,c){let h=Number.MAX_SAFE_INTEGER,p=-1;for(let w=0;w<zn.NUM_MASK_PATTERNS;w++){yt.buildMatrix(r,o,u,w,c);let b=this.calculateMaskPenalty(c);b<h&&(h=b,p=w)}return p}static chooseVersion(r,o){for(let u=1;u<=40;u++){const c=dt.getVersionForNumber(u);if(ln.willFit(r,c,o))return c}throw new on("Data too big")}static willFit(r,o,u){const c=o.getTotalCodewords(),p=o.getECBlocksForLevel(u).getTotalECCodewords(),w=c-p,b=(r+7)/8;return w>=b}static terminateBits(r,o){const u=r*8;if(o.getSize()>u)throw new on("data bits cannot fit in the QR Code"+o.getSize()+" > "+u);for(let p=0;p<4&&o.getSize()<u;++p)o.appendBit(!1);const c=o.getSize()&7;if(c>0)for(let p=c;p<8;p++)o.appendBit(!1);const h=r-o.getSizeInBytes();for(let p=0;p<h;++p)o.appendBits(p&1?17:236,8);if(o.getSize()!==u)throw new on("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,o,u,c,h,p){if(c>=u)throw new on("Block ID too large");const w=r%u,b=u-w,N=Math.floor(r/u),O=N+1,z=Math.floor(o/u),G=z+1,ie=N-z,we=O-G;if(ie!==we)throw new on("EC bytes mismatch");if(u!==b+w)throw new on("RS blocks mismatch");if(r!==(z+ie)*b+(G+we)*w)throw new on("Total bytes mismatch");c<b?(h[0]=z,p[0]=ie):(h[0]=G,p[0]=we)}static interleaveWithECBytes(r,o,u,c){if(r.getSizeInBytes()!==u)throw new on("Number of bits and data bytes does not match");let h=0,p=0,w=0;const b=new Array;for(let O=0;O<c;++O){const z=new Int32Array(1),G=new Int32Array(1);ln.getNumDataBytesAndNumECBytesForBlockID(o,u,c,O,z,G);const ie=z[0],we=new Uint8Array(ie);r.toBytes(8*h,we,0,ie);const Ae=ln.generateECBytes(we,G[0]);b.push(new Pr(we,Ae)),p=Math.max(p,ie),w=Math.max(w,Ae.length),h+=z[0]}if(u!==h)throw new on("Data bytes does not match offset");const N=new Z;for(let O=0;O<p;++O)for(const z of b){const G=z.getDataBytes();O<G.length&&N.appendBits(G[O],8)}for(let O=0;O<w;++O)for(const z of b){const G=z.getErrorCorrectionBytes();O<G.length&&N.appendBits(G[O],8)}if(o!==N.getSizeInBytes())throw new on("Interleaving error: "+o+" and "+N.getSizeInBytes()+" differ.");return N}static generateECBytes(r,o){const u=r.length,c=new Int32Array(u+o);for(let p=0;p<u;p++)c[p]=r[p]&255;new tn(ut.QR_CODE_FIELD_256).encode(c,o);const h=new Uint8Array(o);for(let p=0;p<o;p++)h[p]=c[u+p];return h}static appendModeInfo(r,o){o.appendBits(r.getBits(),4)}static appendLengthInfo(r,o,u,c){const h=u.getCharacterCountBits(o);if(r>=1<<h)throw new on(r+" is bigger than "+((1<<h)-1));c.appendBits(r,h)}static appendBytes(r,o,u,c){switch(o){case Bt.NUMERIC:ln.appendNumericBytes(r,u);break;case Bt.ALPHANUMERIC:ln.appendAlphanumericBytes(r,u);break;case Bt.BYTE:ln.append8BitBytes(r,u,c);break;case Bt.KANJI:ln.appendKanjiBytes(r,u);break;default:throw new on("Invalid mode: "+o)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const o=ln.getDigit(r);return o>=0&&o<=9}static appendNumericBytes(r,o){const u=r.length;let c=0;for(;c<u;){const h=ln.getDigit(r.charAt(c));if(c+2<u){const p=ln.getDigit(r.charAt(c+1)),w=ln.getDigit(r.charAt(c+2));o.appendBits(h*100+p*10+w,10),c+=3}else if(c+1<u){const p=ln.getDigit(r.charAt(c+1));o.appendBits(h*10+p,7),c+=2}else o.appendBits(h,4),c++}}static appendAlphanumericBytes(r,o){const u=r.length;let c=0;for(;c<u;){const h=ln.getAlphanumericCode(r.charCodeAt(c));if(h===-1)throw new on;if(c+1<u){const p=ln.getAlphanumericCode(r.charCodeAt(c+1));if(p===-1)throw new on;o.appendBits(h*45+p,11),c+=2}else o.appendBits(h,6),c++}}static append8BitBytes(r,o,u){let c;try{c=K.encode(r,u)}catch(h){throw new on(h)}for(let h=0,p=c.length;h!==p;h++){const w=c[h];o.appendBits(w,8)}}static appendKanjiBytes(r,o){let u;try{u=K.encode(r,J.SJIS)}catch(h){throw new on(h)}const c=u.length;for(let h=0;h<c;h+=2){const p=u[h]&255,w=u[h+1]&255,b=p<<8&4294967295|w;let N=-1;if(b>=33088&&b<=40956?N=b-33088:b>=57408&&b<=60351&&(N=b-49472),N===-1)throw new on("Invalid byte sequence");const O=(N>>8)*192+(N&255);o.appendBits(O,13)}}static appendECI(r,o){o.appendBits(Bt.ECI.getBits(),4),o.appendBits(r.getValue(),8)}}ln.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ln.DEFAULT_BYTE_MODE_ENCODING=J.UTF8.getName();class ar{write(r,o,u,c=null){if(r.length===0)throw new C("Found empty contents");if(o<0||u<0)throw new C("Requested dimensions are too small: "+o+"x"+u);let h=dn.L,p=ar.QUIET_ZONE_SIZE;c!==null&&(c.get(vt.ERROR_CORRECTION)!==void 0&&(h=dn.fromString(c.get(vt.ERROR_CORRECTION).toString())),c.get(vt.MARGIN)!==void 0&&(p=Number.parseInt(c.get(vt.MARGIN).toString(),10)));const w=ln.encode(r,h,c);return this.renderResult(w,o,u,p)}writeToDom(r,o,u,c,h=null){typeof r=="string"&&(r=document.querySelector(r));const p=this.write(o,u,c,h);r&&r.appendChild(p)}renderResult(r,o,u,c){const h=r.getMatrix();if(h===null)throw new pe;const p=h.getWidth(),w=h.getHeight(),b=p+c*2,N=w+c*2,O=Math.max(o,b),z=Math.max(u,N),G=Math.min(Math.floor(O/b),Math.floor(z/N)),ie=Math.floor((O-p*G)/2),we=Math.floor((z-w*G)/2),Ae=this.createSVGElement(O,z);for(let Te=0,ze=we;Te<w;Te++,ze+=G)for(let $e=0,rt=ie;$e<p;$e++,rt+=G)if(h.get($e,Te)===1){const tt=this.createSvgRectElement(rt,ze,G,G);Ae.appendChild(tt)}return Ae}createSVGElement(r,o){const u=document.createElementNS(ar.SVG_NS,"svg");return u.setAttributeNS(null,"height",r.toString()),u.setAttributeNS(null,"width",o.toString()),u}createSvgRectElement(r,o,u,c){const h=document.createElementNS(ar.SVG_NS,"rect");return h.setAttributeNS(null,"x",r.toString()),h.setAttributeNS(null,"y",o.toString()),h.setAttributeNS(null,"height",u.toString()),h.setAttributeNS(null,"width",c.toString()),h.setAttributeNS(null,"fill","#000000"),h}}ar.QUIET_ZONE_SIZE=4,ar.SVG_NS="http://www.w3.org/2000/svg";class Cr{encode(r,o,u,c,h){if(r.length===0)throw new C("Found empty contents");if(o!==ue.QR_CODE)throw new C("Can only encode QR_CODE, but got "+o);if(u<0||c<0)throw new C(`Requested dimensions are too small: ${u}x${c}`);let p=dn.L,w=Cr.QUIET_ZONE_SIZE;h!==null&&(h.get(vt.ERROR_CORRECTION)!==void 0&&(p=dn.fromString(h.get(vt.ERROR_CORRECTION).toString())),h.get(vt.MARGIN)!==void 0&&(w=Number.parseInt(h.get(vt.MARGIN).toString(),10)));const b=ln.encode(r,p,h);return Cr.renderResult(b,u,c,w)}static renderResult(r,o,u,c){const h=r.getMatrix();if(h===null)throw new pe;const p=h.getWidth(),w=h.getHeight(),b=p+c*2,N=w+c*2,O=Math.max(o,b),z=Math.max(u,N),G=Math.min(Math.floor(O/b),Math.floor(z/N)),ie=Math.floor((O-p*G)/2),we=Math.floor((z-w*G)/2),Ae=new me(O,z);for(let Te=0,ze=we;Te<w;Te++,ze+=G)for(let $e=0,rt=ie;$e<p;$e++,rt+=G)h.get($e,Te)===1&&Ae.setRegion(rt,ze,G,G);return Ae}}Cr.QUIET_ZONE_SIZE=4;class Sr{encode(r,o,u,c,h){let p;switch(o){case ue.QR_CODE:p=new Cr;break;default:throw new C("No encoder available for format "+o)}return p.encode(r,o,u,c,h)}}class Pi extends he{constructor(r,o,u,c,h,p,w,b){if(super(p,w),this.yuvData=r,this.dataWidth=o,this.dataHeight=u,this.left=c,this.top=h,c+p>o||h+w>u)throw new C("Crop rectangle does not fit within image data.");b&&this.reverseHorizontal(p,w)}getRow(r,o){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const u=this.getWidth();(o==null||o.length<u)&&(o=new Uint8ClampedArray(u));const c=(r+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,c,o,0,u),o}getMatrix(){const r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.yuvData;const u=r*o,c=new Uint8ClampedArray(u);let h=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return D.arraycopy(this.yuvData,h,c,0,u),c;for(let p=0;p<o;p++){const w=p*r;D.arraycopy(this.yuvData,h,c,w,r),h+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,o,u,c){return new Pi(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+o,u,c,!1)}renderThumbnail(){const r=this.getWidth()/Pi.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/Pi.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(r*o),c=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let p=0;p<o;p++){const w=p*r;for(let b=0;b<r;b++){const N=c[h+b*Pi.THUMBNAIL_SCALE_FACTOR]&255;u[w+b]=4278190080|N*65793}h+=this.dataWidth*Pi.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/Pi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Pi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,o){const u=this.yuvData;for(let c=0,h=this.top*this.dataWidth+this.left;c<o;c++,h+=this.dataWidth){const p=h+r/2;for(let w=h,b=h+r-1;w<p;w++,b--){const N=u[w];u[w]=u[b],u[b]=N}}}invert(){return new Pe(this)}}Pi.THUMBNAIL_SCALE_FACTOR=2;class Xi extends he{constructor(r,o,u,c,h,p,w){if(super(o,u),this.dataWidth=c,this.dataHeight=h,this.left=p,this.top=w,r.BYTES_PER_ELEMENT===4){const b=o*u,N=new Uint8ClampedArray(b);for(let O=0;O<b;O++){const z=r[O],G=z>>16&255,ie=z>>7&510,we=z&255;N[O]=(G+ie+we)/4&255}this.luminances=N}else this.luminances=r;if(c===void 0&&(this.dataWidth=o),h===void 0&&(this.dataHeight=u),p===void 0&&(this.left=0),w===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+u>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(r,o){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const u=this.getWidth();(o==null||o.length<u)&&(o=new Uint8ClampedArray(u));const c=(r+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,c,o,0,u),o}getMatrix(){const r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.luminances;const u=r*o,c=new Uint8ClampedArray(u);let h=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return D.arraycopy(this.luminances,h,c,0,u),c;for(let p=0;p<o;p++){const w=p*r;D.arraycopy(this.luminances,h,c,w,r),h+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,o,u,c){return new Xi(this.luminances,u,c,this.dataWidth,this.dataHeight,this.left+r,this.top+o)}invert(){return new Pe(this)}}class Mr extends J{static forName(r){return this.getCharacterSetECIByName(r)}}class fo{}fo.ISO_8859_1=J.ISO8859_1;class Go{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class gs{static singletonList(r){return[r]}static min(r,o){return r.sort(o)[0]}}class Zo{constructor(r){this.previous=r}getPrevious(){return this.previous}}class cr extends Zo{constructor(r,o,u){super(r),this.value=o,this.bitCount=u}appendTo(r,o){r.appendBits(this.value,this.bitCount)}add(r,o){return new cr(this,r,o)}addBinaryShift(r,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new cr(this,r,o)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+F.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class Yo extends cr{constructor(r,o,u){super(r,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=u}appendTo(r,o){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):u===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(o[this.binaryShiftStart+u],8)}addBinaryShift(r,o){return new Yo(this,r,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ms(U,r,o){return new Yo(U,r,o)}function Eo(U,r,o){return new cr(U,r,o)}const fa=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xn=0,Jr=1,$r=2,Mi=3,vr=4,Ki=new cr(null,0,0),Os=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Xo(U){for(let r of U)B.fill(r,-1);return U[xn][vr]=0,U[Jr][vr]=0,U[Jr][xn]=28,U[Mi][vr]=0,U[$r][vr]=0,U[$r][xn]=15,U}const No=Xo(B.createInt32Array(6,6));class Or{constructor(r,o,u,c){this.token=r,this.mode=o,this.binaryShiftByteCount=u,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,o){let u=this.bitCount,c=this.token;if(r!==this.mode){let p=Os[this.mode][r];c=Eo(c,p&65535,p>>16),u+=p>>16}let h=r===$r?4:5;return c=Eo(c,o,h),new Or(c,r,0,u+h)}shiftAndAppend(r,o){let u=this.token,c=this.mode===$r?4:5;return u=Eo(u,No[this.mode][r],c),u=Eo(u,o,5),new Or(u,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(r){let o=this.token,u=this.mode,c=this.bitCount;if(this.mode===vr||this.mode===$r){let w=Os[u][xn];o=Eo(o,w&65535,w>>16),c+=w>>16,u=xn}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,p=new Or(o,u,this.binaryShiftByteCount+1,c+h);return p.binaryShiftByteCount===2078&&(p=p.endBinaryShift(r+1)),p}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Ms(o,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new Or(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let o=this.bitCount+(Os[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?o+=Or.calculateBinaryShiftCost(r)-Or.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(o+=10),o<=r.bitCount}toBitArray(r){let o=[];for(let c=this.endBinaryShift(r.length).token;c!==null;c=c.getPrevious())o.unshift(c);let u=new Z;for(const c of o)c.appendTo(u,r);return u}toString(){return $.format("%s bits=%d bytes=%d",fa[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}Or.INITIAL_STATE=new Or(Ki,xn,0,0);function Oi(U){const r=$.getCharCode(" "),o=$.getCharCode("."),u=$.getCharCode(",");U[xn][r]=1;const c=$.getCharCode("Z"),h=$.getCharCode("A");for(let G=h;G<=c;G++)U[xn][G]=G-h+2;U[Jr][r]=1;const p=$.getCharCode("z"),w=$.getCharCode("a");for(let G=w;G<=p;G++)U[Jr][G]=G-w+2;U[$r][r]=1;const b=$.getCharCode("9"),N=$.getCharCode("0");for(let G=N;G<=b;G++)U[$r][G]=G-N+2;U[$r][u]=12,U[$r][o]=13;const O=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let G=0;G<O.length;G++)U[Mi][$.getCharCode(O[G])]=G;const z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let G=0;G<z.length;G++)$.getCharCode(z[G])>0&&(U[vr][$.getCharCode(z[G])]=G);return U}const dr=Oi(B.createInt32Array(5,256));class vi{constructor(r){this.text=r}encode(){const r=$.getCharCode(" "),o=$.getCharCode(`
`);let u=gs.singletonList(Or.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let p,w=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case $.getCharCode("\r"):p=w===o?2:0;break;case $.getCharCode("."):p=w===r?3:0;break;case $.getCharCode(","):p=w===r?4:0;break;case $.getCharCode(":"):p=w===r?5:0;break;default:p=0}p>0?(u=vi.updateStateListForPair(u,h,p),h++):u=this.updateStateListForChar(u,h)}return gs.min(u,(h,p)=>h.getBitCount()-p.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,o){const u=[];for(let c of r)this.updateStateForChar(c,o,u);return vi.simplifyStates(u)}updateStateForChar(r,o,u){let c=this.text[o]&255,h=dr[r.getMode()][c]>0,p=null;for(let w=0;w<=vr;w++){let b=dr[w][c];if(b>0){if(p==null&&(p=r.endBinaryShift(o)),!h||w===r.getMode()||w===$r){const N=p.latchAndAppend(w,b);u.push(N)}if(!h&&No[r.getMode()][w]>=0){const N=p.shiftAndAppend(w,b);u.push(N)}}}if(r.getBinaryShiftByteCount()>0||dr[r.getMode()][c]===0){let w=r.addBinaryShiftChar(o);u.push(w)}}static updateStateListForPair(r,o,u){const c=[];for(let h of r)this.updateStateForPair(h,o,u,c);return this.simplifyStates(c)}static updateStateForPair(r,o,u,c){let h=r.endBinaryShift(o);if(c.push(h.latchAndAppend(vr,u)),r.getMode()!==vr&&c.push(h.shiftAndAppend(vr,u)),u===3||u===4){let p=h.latchAndAppend($r,16-u).latchAndAppend($r,1);c.push(p)}if(r.getBinaryShiftByteCount()>0){let p=r.addBinaryShiftChar(o).addBinaryShiftChar(o+1);c.push(p)}}static simplifyStates(r){let o=[];for(const u of r){let c=!0;for(const h of o){if(h.isBetterThanOrEqualTo(u)){c=!1;break}u.isBetterThanOrEqualTo(h)&&(o=o.filter(p=>p!==h))}c&&o.push(u)}return o}}class pn{constructor(){}static encodeBytes(r){return pn.encode(r,pn.DEFAULT_EC_PERCENT,pn.DEFAULT_AZTEC_LAYERS)}static encode(r,o,u){let c=new vi(r).encode(),h=F.truncDivision(c.getSize()*o,100)+11,p=c.getSize()+h,w,b,N,O,z;if(u!==pn.DEFAULT_AZTEC_LAYERS){if(w=u<0,b=Math.abs(u),b>(w?pn.MAX_NB_BITS_COMPACT:pn.MAX_NB_BITS))throw new C($.format("Illegal value %s for layers",u));N=pn.totalBitsInLayer(b,w),O=pn.WORD_SIZE[b];let tt=N-N%O;if(z=pn.stuffBits(c,O),z.getSize()+h>tt)throw new C("Data to large for user specified layer");if(w&&z.getSize()>O*64)throw new C("Data to large for user specified layer")}else{O=0,z=null;for(let tt=0;;tt++){if(tt>pn.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(w=tt<=3,b=w?tt+1:tt,N=pn.totalBitsInLayer(b,w),p>N)continue;(z==null||O!==pn.WORD_SIZE[b])&&(O=pn.WORD_SIZE[b],z=pn.stuffBits(c,O));let Wt=N-N%O;if(!(w&&z.getSize()>O*64)&&z.getSize()+h<=Wt)break}}let G=pn.generateCheckWords(z,N,O),ie=z.getSize()/O,we=pn.generateModeMessage(w,b,ie),Ae=(w?11:14)+b*4,Te=new Int32Array(Ae),ze;if(w){ze=Ae;for(let tt=0;tt<Te.length;tt++)Te[tt]=tt}else{ze=Ae+1+2*F.truncDivision(F.truncDivision(Ae,2)-1,15);let tt=F.truncDivision(Ae,2),Wt=F.truncDivision(ze,2);for(let Jt=0;Jt<tt;Jt++){let Xn=Jt+F.truncDivision(Jt,15);Te[tt-Jt-1]=Wt-Xn-1,Te[tt+Jt]=Wt+Xn+1}}let $e=new me(ze);for(let tt=0,Wt=0;tt<b;tt++){let Jt=(b-tt)*4+(w?9:12);for(let Xn=0;Xn<Jt;Xn++){let kr=Xn*2;for(let ei=0;ei<2;ei++)G.get(Wt+kr+ei)&&$e.set(Te[tt*2+ei],Te[tt*2+Xn]),G.get(Wt+Jt*2+kr+ei)&&$e.set(Te[tt*2+Xn],Te[Ae-1-tt*2-ei]),G.get(Wt+Jt*4+kr+ei)&&$e.set(Te[Ae-1-tt*2-ei],Te[Ae-1-tt*2-Xn]),G.get(Wt+Jt*6+kr+ei)&&$e.set(Te[Ae-1-tt*2-Xn],Te[tt*2+ei])}Wt+=Jt*8}if(pn.drawModeMessage($e,w,ze,we),w)pn.drawBullsEye($e,F.truncDivision(ze,2),5);else{pn.drawBullsEye($e,F.truncDivision(ze,2),7);for(let tt=0,Wt=0;tt<F.truncDivision(Ae,2)-1;tt+=15,Wt+=16)for(let Jt=F.truncDivision(ze,2)&1;Jt<ze;Jt+=2)$e.set(F.truncDivision(ze,2)-Wt,Jt),$e.set(F.truncDivision(ze,2)+Wt,Jt),$e.set(Jt,F.truncDivision(ze,2)-Wt),$e.set(Jt,F.truncDivision(ze,2)+Wt)}let rt=new Go;return rt.setCompact(w),rt.setSize(ze),rt.setLayers(b),rt.setCodeWords(ie),rt.setMatrix($e),rt}static drawBullsEye(r,o,u){for(let c=0;c<u;c+=2)for(let h=o-c;h<=o+c;h++)r.set(h,o-c),r.set(h,o+c),r.set(o-c,h),r.set(o+c,h);r.set(o-u,o-u),r.set(o-u+1,o-u),r.set(o-u,o-u+1),r.set(o+u,o-u),r.set(o+u,o-u+1),r.set(o+u,o+u-1)}static generateModeMessage(r,o,u){let c=new Z;return r?(c.appendBits(o-1,2),c.appendBits(u-1,6),c=pn.generateCheckWords(c,28,4)):(c.appendBits(o-1,5),c.appendBits(u-1,11),c=pn.generateCheckWords(c,40,4)),c}static drawModeMessage(r,o,u,c){let h=F.truncDivision(u,2);if(o)for(let p=0;p<7;p++){let w=h-3+p;c.get(p)&&r.set(w,h-5),c.get(p+7)&&r.set(h+5,w),c.get(20-p)&&r.set(w,h+5),c.get(27-p)&&r.set(h-5,w)}else for(let p=0;p<10;p++){let w=h-5+p+F.truncDivision(p,5);c.get(p)&&r.set(w,h-7),c.get(p+10)&&r.set(h+7,w),c.get(29-p)&&r.set(w,h+7),c.get(39-p)&&r.set(h-7,w)}}static generateCheckWords(r,o,u){let c=r.getSize()/u,h=new tn(pn.getGF(u)),p=F.truncDivision(o,u),w=pn.bitsToWords(r,u,p);h.encode(w,p-c);let b=o%u,N=new Z;N.appendBits(0,b);for(const O of Array.from(w))N.appendBits(O,u);return N}static bitsToWords(r,o,u){let c=new Int32Array(u),h,p;for(h=0,p=r.getSize()/o;h<p;h++){let w=0;for(let b=0;b<o;b++)w|=r.get(h*o+b)?1<<o-b-1:0;c[h]=w}return c}static getGF(r){switch(r){case 4:return ut.AZTEC_PARAM;case 6:return ut.AZTEC_DATA_6;case 8:return ut.AZTEC_DATA_8;case 10:return ut.AZTEC_DATA_10;case 12:return ut.AZTEC_DATA_12;default:throw new C("Unsupported word size "+r)}}static stuffBits(r,o){let u=new Z,c=r.getSize(),h=(1<<o)-2;for(let p=0;p<c;p+=o){let w=0;for(let b=0;b<o;b++)(p+b>=c||r.get(p+b))&&(w|=1<<o-1-b);(w&h)===h?(u.appendBits(w&h,o),p--):w&h?u.appendBits(w,o):(u.appendBits(w|1,o),p--)}return u}static totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}pn.DEFAULT_EC_PERCENT=33,pn.DEFAULT_AZTEC_LAYERS=0,pn.MAX_NB_BITS=32,pn.MAX_NB_BITS_COMPACT=4,pn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ki{encode(r,o,u,c){return this.encodeWithHints(r,o,u,c,null)}encodeWithHints(r,o,u,c,h){let p=fo.ISO_8859_1,w=pn.DEFAULT_EC_PERCENT,b=pn.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(vt.CHARACTER_SET)&&(p=Mr.forName(h.get(vt.CHARACTER_SET).toString())),h.has(vt.ERROR_CORRECTION)&&(w=F.parseInt(h.get(vt.ERROR_CORRECTION).toString())),h.has(vt.AZTEC_LAYERS)&&(b=F.parseInt(h.get(vt.AZTEC_LAYERS).toString()))),ki.encodeLayers(r,o,u,c,p,w,b)}static encodeLayers(r,o,u,c,h,p,w){if(o!==ue.AZTEC)throw new C("Can only encode AZTEC, but got "+o);let b=pn.encode($.getBytes(r,h),p,w);return ki.renderResult(b,u,c)}static renderResult(r,o,u){let c=r.getMatrix();if(c==null)throw new pe;let h=c.getWidth(),p=c.getHeight(),w=Math.max(o,h),b=Math.max(u,p),N=Math.min(w/h,b/p),O=(w-h*N)/2,z=(b-p*N)/2,G=new me(w,b);for(let ie=0,we=z;ie<p;ie++,we+=N)for(let Ae=0,Te=O;Ae<h;Ae++,Te+=N)c.get(Ae,ie)&&G.setRegion(Te,we,N,N);return G}}n.AbstractExpandedDecoder=Ei,n.ArgumentException=_,n.ArithmeticException=gt,n.AztecCode=Go,n.AztecCodeReader=Dt,n.AztecCodeWriter=ki,n.AztecDecoder=pt,n.AztecDetector=$t,n.AztecDetectorResult=zt,n.AztecEncoder=pn,n.AztecHighLevelEncoder=vi,n.AztecPoint=Ct,n.BarcodeFormat=ue,n.Binarizer=j,n.BinaryBitmap=P,n.BitArray=Z,n.BitMatrix=me,n.BitSource=$n,n.BrowserAztecCodeReader=Kn,n.BrowserBarcodeReader=jo,n.BrowserCodeReader=oe,n.BrowserDatamatrixCodeReader=zo,n.BrowserMultiFormatReader=Ne,n.BrowserPDF417Reader=Xe,n.BrowserQRCodeReader=at,n.BrowserQRCodeSvgWriter=ar,n.CharacterSetECI=J,n.ChecksumException=S,n.Code128Reader=Ge,n.Code39Reader=Tt,n.DataMatrixDecodedBitStreamParser=hi,n.DataMatrixReader=An,n.DecodeHintType=Se,n.DecoderResult=Ve,n.DefaultGridSampler=Rn,n.DetectorResult=nn,n.EAN13Reader=Tn,n.EncodeHintType=vt,n.Exception=m,n.FormatException=fe,n.GenericGF=ut,n.GenericGFPoly=ot,n.GlobalHistogramBinarizer=Be,n.GridSampler=sn,n.GridSamplerInstance=Xt,n.HTMLCanvasElementLuminanceSource=Ie,n.HybridBinarizer=Le,n.ITFReader=Gt,n.IllegalArgumentException=C,n.IllegalStateException=pe,n.InvertedLuminanceSource=Pe,n.LuminanceSource=he,n.MathUtils=Ke,n.MultiFormatOneDReader=lo,n.MultiFormatReader=_e,n.MultiFormatWriter=Sr,n.NotFoundException=ce,n.OneDReader=Zt,n.PDF417DecodedBitStreamParser=We,n.PDF417DecoderErrorCorrection=qo,n.PDF417Reader=H,n.PDF417ResultMetadata=Ts,n.PerspectiveTransform=Ut,n.PlanarYUVLuminanceSource=Pi,n.QRCodeByteMatrix=In,n.QRCodeDataMask=Tr,n.QRCodeDecodedBitStreamParser=Zn,n.QRCodeDecoderErrorCorrectionLevel=dn,n.QRCodeDecoderFormatInformation=Ur,n.QRCodeEncoder=ln,n.QRCodeEncoderQRCode=zn,n.QRCodeMaskUtil=Nt,n.QRCodeMatrixUtil=yt,n.QRCodeMode=Bt,n.QRCodeReader=Lr,n.QRCodeVersion=dt,n.QRCodeWriter=Cr,n.RGBLuminanceSource=Xi,n.RSS14Reader=Qn,n.RSSExpandedReader=st,n.ReaderException=re,n.ReedSolomonDecoder=fn,n.ReedSolomonEncoder=tn,n.ReedSolomonException=Ye,n.Result=se,n.ResultMetadataType=Fe,n.ResultPoint=Ze,n.StringUtils=$,n.UnsupportedOperationException=be,n.VideoInputDevice=He,n.WhiteRectangleDetector=vn,n.WriterException=on,n.ZXingArrays=B,n.ZXingCharset=Mr,n.ZXingInteger=F,n.ZXingStandardCharsets=fo,n.ZXingStringBuilder=ge,n.ZXingStringEncoding=K,n.ZXingSystem=D,n.createAbstractExpandedDecoder=Ns,Object.defineProperty(n,"__esModule",{value:!0})})})(_0,_0.exports);var xr=_0.exports;const O8=D0(xr),k8=l5({__proto__:null,default:O8},[xr]);var Ng=function(){function e(t,n,i){if(this.formatMap=new Map([[It.QR_CODE,xr.BarcodeFormat.QR_CODE],[It.AZTEC,xr.BarcodeFormat.AZTEC],[It.CODABAR,xr.BarcodeFormat.CODABAR],[It.CODE_39,xr.BarcodeFormat.CODE_39],[It.CODE_93,xr.BarcodeFormat.CODE_93],[It.CODE_128,xr.BarcodeFormat.CODE_128],[It.DATA_MATRIX,xr.BarcodeFormat.DATA_MATRIX],[It.MAXICODE,xr.BarcodeFormat.MAXICODE],[It.ITF,xr.BarcodeFormat.ITF],[It.EAN_13,xr.BarcodeFormat.EAN_13],[It.EAN_8,xr.BarcodeFormat.EAN_8],[It.PDF_417,xr.BarcodeFormat.PDF_417],[It.RSS_14,xr.BarcodeFormat.RSS_14],[It.RSS_EXPANDED,xr.BarcodeFormat.RSS_EXPANDED],[It.UPC_A,xr.BarcodeFormat.UPC_A],[It.UPC_E,xr.BarcodeFormat.UPC_E],[It.UPC_EAN_EXTENSION,xr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!k8)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var s=this.createZXingFormats(t),a=new Map;a.set(xr.DecodeHintType.POSSIBLE_FORMATS,s),a.set(xr.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(i,s){try{i(n.decode(t))}catch(a){s(a)}})},e.prototype.decode=function(t){var n=new xr.MultiFormatReader(this.verbose,this.hints),i=new xr.HTMLCanvasElementLuminanceSource(t),s=new xr.BinaryBitmap(new xr.HybridBinarizer(i)),a=n.decode(s);return{text:a.text,format:Uy.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,s){t.set(n,i)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],i=0,s=t;i<s.length;i++){var a=s[i];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),R8=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(_){try{m(i.next(_))}catch(C){d(C)}}function v(_){try{m(i.throw(_))}catch(C){d(C)}}function m(_){_.done?a(_.value):s(_.value).then(g,v)}m((i=i.apply(e,t||[])).next())})},D8=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(m){return function(_){return v([m,_])}}function v(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(_){m=[6,_],s=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Ig=function(){function e(t,n,i){if(this.formatMap=new Map([[It.QR_CODE,"qr_code"],[It.AZTEC,"aztec"],[It.CODABAR,"codabar"],[It.CODE_39,"code_39"],[It.CODE_93,"code_93"],[It.CODE_128,"code_128"],[It.DATA_MATRIX,"data_matrix"],[It.ITF,"itf"],[It.EAN_13,"ean_13"],[It.EAN_8,"ean_8"],[It.PDF_417,"pdf417"],[It.UPC_A,"upc_a"],[It.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return R8(this,void 0,void 0,function(){var n,i;return D8(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:Uy.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,i=0,s=0,a=t;s<a.length;s++){var d=a[s],g=d.boundingBox.width*d.boundingBox.height;g>i&&(i=g,n=d)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],i=0,s=t;i<s.length;i++){var a=s[i];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,s){t.set(n,i)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Tg=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(_){try{m(i.next(_))}catch(C){d(C)}}function v(_){try{m(i.throw(_))}catch(C){d(C)}}function m(_){_.done?a(_.value):s(_.value).then(g,v)}m((i=i.apply(e,t||[])).next())})},Lg=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(m){return function(_){return v([m,_])}}function v(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(_){m=[6,_],s=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},B8=function(){function e(t,n,i,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&Ig.isSupported()?(this.primaryDecoder=new Ig(t,i,s),this.secondaryDecoder=new Ng(t,i,s)):this.primaryDecoder=new Ng(t,i,s)}return e.prototype.decodeAsync=function(t){return Tg(this,void 0,void 0,function(){var n;return Lg(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Tg(this,void 0,void 0,function(){var n,i;return Lg(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(i=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,i=this.executionResults;n<i.length;n++){var s=i[n];t+=s}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Bp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Of=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(_){try{m(i.next(_))}catch(C){d(C)}}function v(_){try{m(i.throw(_))}catch(C){d(C)}}function m(_){_.done?a(_.value):s(_.value).then(g,v)}m((i=i.apply(e,t||[])).next())})},kf=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(m){return function(_){return v([m,_])}}function v(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(_){m=[6,_],s=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},qy=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),F8=function(e){Bp(t,e);function t(n,i){return e.call(this,n,i)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var i={};i[this.name]=n;var s={advanced:[i]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(qy),j8=function(e){Bp(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(F8),z8=function(e){Bp(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(qy),U8=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new j8(this.track)},e.prototype.torchFeature=function(){return new z8(this.track)},e}(),H8=function(){function e(t,n,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,i,s){return Of(this,void 0,void 0,function(){var a,d;return kf(this,function(g){switch(g.label){case 0:return a=new e(t,n,s),i.aspectRatio?(d={aspectRatio:i.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:g.sent(),g.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,i=function(){setTimeout(t,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Of(this,void 0,void 0,function(){return kf(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,i){var s=t.mediaStream.getVideoTracks(),a=s.length,d=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++d,d>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new U8(this.getFirstTrackOrFail())},e}(),W8=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,i){return Of(this,void 0,void 0,function(){return kf(this,function(s){return[2,H8.create(t,this.mediaStream,n,i)]})})},e.create=function(t){return Of(this,void 0,void 0,function(){var n,i;return kf(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=s.sent(),[2,new e(i)]}})})},e}(),Pg=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(_){try{m(i.next(_))}catch(C){d(C)}}function v(_){try{m(i.throw(_))}catch(C){d(C)}}function m(_){_.done?a(_.value):s(_.value).then(g,v)}m((i=i.apply(e,t||[])).next())})},Mg=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(m){return function(_){return v([m,_])}}function v(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(_){m=[6,_],s=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},V8=function(){function e(){}return e.failIfNotSupported=function(){return Pg(this,void 0,void 0,function(){return Mg(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Pg(this,void 0,void 0,function(){return Mg(this,function(n){return[2,W8.create(t)]})})},e}(),q8=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(_){try{m(i.next(_))}catch(C){d(C)}}function v(_){try{m(i.throw(_))}catch(C){d(C)}}function m(_){_.done?a(_.value):s(_.value).then(g,v)}m((i=i.apply(e,t||[])).next())})},G8=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(m){return function(_){return v([m,_])}}function v(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(_){m=[6,_],s=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Z8=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=mu.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=mu.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return q8(this,void 0,void 0,function(){var t,n,i,s,a,d,g;return G8(this,function(v){switch(v.label){case 0:return t=function(m){for(var _=m.getVideoTracks(),C=0,P=_;C<P.length;C++){var S=P[C];S.enabled=!1,S.stop(),m.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=v.sent(),s=[],a=0,d=i;a<d.length;a++)g=d[a],g.kind==="videoinput"&&s.push({id:g.deviceId,label:g.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var i=function(a){for(var d=[],g=0,v=a;g<v.length;g++){var m=v[g];m.kind==="video"&&d.push({id:m.id,label:m.label})}t(d)},s=MediaStreamTrack;s.getSources(i)})},e}(),Gr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Gr||(Gr={}));var Y8=function(){function e(){this.state=Gr.NOT_STARTED,this.onGoingTransactionNewState=Gr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Gr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Gr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Gr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Gr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Gr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Gr.UNKNOWN:throw"Transition from unknown is not allowed";case Gr.NOT_STARTED:this.failIfNewStateIs(t,[Gr.PAUSED]);break;case Gr.SCANNING:break;case Gr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var i=0,s=n;i<s.length;i++){var a=s[i];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),X8=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Gr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Gr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Gr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Gr.PAUSED},e}(),K8=function(){function e(){}return e.create=function(){return new X8(new Y8)},e}(),Q8=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),rs=function(e){Q8(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Us),J8=function(){function e(t,n){this.logger=n,this.fps=rs.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=rs.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Vy.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ia(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Og=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new Wy(this.verbose),this.qrcode=new B8(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=K8.create()}return e.prototype.start=function(t,n,i,s){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;s?d=s:d=this.verbose?this.logger.log:function(){};var g=J8.create(n,this.logger);this.clearElement();var v=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=v,_=document.getElementById(this.elementId);_.clientWidth?_.clientWidth:rs.DEFAULT_WIDTH,_.style.position="relative",this.shouldScan=!0,this.element=_;var C=this,P=this.stateManagerProxy.startTransition(Gr.SCANNING);return new Promise(function(S,j){var D=m?g.videoConstraints:C.createVideoConstraints(t);if(!D){P.cancel(),j("videoConstraints should be defined");return}var q={};(!m||g.aspectRatio)&&(q.aspectRatio=g.aspectRatio);var M={onRenderSurfaceReady:function(B,F){C.setupUi(B,F,g),C.isScanning=!0,C.foreverScan(g,i,d)}};V8.failIfNotSupported().then(function(B){B.create(D).then(function(F){return F.render(a.element,q,M).then(function(Z){C.renderedCamera=Z,P.execute(),S(null)}).catch(function(Z){P.cancel(),j(Z)})}).catch(function(F){P.cancel(),j(mu.errorGettingUserMedia(F))})}).catch(function(B){P.cancel(),j(mu.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Gr.PAUSED),this.showPausedState(),(ia(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Gr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Gr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(t.element){var a=document.getElementById(rs.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),i(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(i){return i.decodedText})},e.prototype.scanFileV2=function(t,n){var i=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ia(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,a){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var g=d.width,v=d.height,m=document.getElementById(i.elementId),_=m.clientWidth?m.clientWidth:rs.DEFAULT_WIDTH,C=Math.max(m.clientHeight?m.clientHeight:v,rs.FILE_SCAN_MIN_HEIGHT),P=i.computeCanvasDrawConfig(g,v,_,C);if(n){var S=i.createCanvasElement(_,C,"qr-canvas-visible");S.style.display="inline-block",m.appendChild(S);var j=S.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=_,j.canvas.height=C,j.drawImage(d,0,0,g,v,P.x,P.y,P.width,P.height)}var D=rs.FILE_SCAN_HIDDEN_CANVAS_PADDING,q=Math.max(d.width,P.width),M=Math.max(d.height,P.height),B=q+2*D,F=M+2*D,Z=i.createCanvasElement(B,F);m.appendChild(Z);var ye=Z.getContext("2d");if(!ye)throw"Unable to get 2d context from canvas";ye.canvas.width=B,ye.canvas.height=F,ye.drawImage(d,0,0,g,v,D,D,q,M);try{i.qrcode.decodeRobustlyAsync(Z).then(function(Se){s(Sg.createFromQrcodeResult(Se))}).catch(a)}catch(Se){a("QR code parse error, error = ".concat(Se))}},d.onerror=a,d.onabort=a,d.onstalled=a,d.onsuspend=a,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Z8.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Vy.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[It.QR_CODE,It.AZTEC,It.CODABAR,It.CODE_39,It.CODE_93,It.CODE_128,It.DATA_MATRIX,It.MAXICODE,It.ITF,It.EAN_13,It.EAN_8,It.PDF_417,It.RSS_14,It.RSS_EXPANDED,It.UPC_A,It.UPC_E,It.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],s=0,a=t.formatsToSupport;s<a.length;s++){var d=a[s];P8(d)?i.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ia(t))return!0;if(!ia(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ia(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return ia(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,i){var s=this,a=i.qrbox;this.validateQrboxConfig(a);var d=this.toQrdimensions(t,n,a),g=function(m){if(m<rs.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(rs.MIN_QR_BOX_SIZE,"px.")},v=function(m){return m>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};g(d.width),g(d.height),d.width=v(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return i},e.prototype.setupUi=function(t,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,i);var s=ia(i.qrbox)?{width:t,height:n}:i.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(t,n,s);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=i.isShadedBoxEnabled()&&a.height<=n,g={x:0,y:0,width:t,height:n},v=d?this.getShadedRegionBounds(t,n,a):g,m=this.createCanvasElement(v.width,v.height),_={willReadFrequently:!0},C=m.getContext("2d",_);C.canvas.width=v.width,C.canvas.height=v.height,this.element.append(m),d&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=C,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=mu.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,Sg.createFromQrcodeResult(s)),i.possiblyUpdateShaders(!0),!0}).catch(function(s){i.possiblyUpdateShaders(!1);var a=mu.codeParseError(s);return n(a,Hy.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,i){var s=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),d=a.videoWidth/a.clientWidth,g=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*d,m=this.qrRegion.height*g,_=this.qrRegion.x*d,C=this.qrRegion.y*g;this.context.drawImage(a,_,C,v,m,0,0,this.qrRegion.width,this.qrRegion.height);var P=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,i)},s.getTimeoutFps(t.fps))};this.scanContext(n,i).then(function(S){!S&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,i).finally(function(){P()})):P()}).catch(function(S){s.logger.logError("Error happend while scanning context",S),P()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",i="deviceId",s={user:!0,environment:!0},a="exact",d=function(j){if(j in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var v=Object.keys(t)[0];if(v!==n&&v!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(v===n){var m=t.facingMode;if(typeof m=="string"){if(d(m))return{facingMode:m}}else if(typeof m=="object")if(a in m){if(d(m["".concat(a)]))return{facingMode:{exact:m["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var _=typeof m;throw"Invalid type of 'facingMode' = ".concat(_)}}else{var C=t.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(a in C)return{deviceId:{exact:C["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var P=typeof C;throw"Invalid type of 'deviceId' = ".concat(P)}}}var S=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(S)},e.prototype.computeCanvasDrawConfig=function(t,n,i,s){if(t<=i&&n<=s){var a=(i-t)/2,d=(s-n)/2;return{x:a,y:d,width:t,height:n}}else{var g=t,v=n;return t>i&&(n=i/t*n,t=i),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(v)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,i,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?rs.BORDER_SHADER_MATCH_COLOR:rs.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,i){var s=t,a=n,d=document.createElement("canvas");return d.style.width="".concat(s,"px"),d.style.height="".concat(a,"px"),d.style.display="none",d.id=ia(i)?"qr-canvas":i,d},e.prototype.getShadedRegionBounds=function(t,n,i){if(i.width>t||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},e.prototype.possiblyInsertShadingElement=function(t,n,i,s){if(!(n-s.width<1||i-s.height<1)){var a=document.createElement("div");a.style.position="absolute";var d=(n-s.width)/2,g=(i-s.height)/2;if(a.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(rs.SHADED_REGION_ELEMENT_ID),n-s.width<11||i-s.height<11)this.hasBorderShaders=!1;else{var v=5,m=40;this.insertShaderBorders(a,m,v,-v,null,0,!0),this.insertShaderBorders(a,m,v,-v,null,0,!1),this.insertShaderBorders(a,m,v,null,-v,0,!0),this.insertShaderBorders(a,m,v,null,-v,0,!1),this.insertShaderBorders(a,v,m+v,-v,null,-v,!0),this.insertShaderBorders(a,v,m+v,null,-v,-v,!0),this.insertShaderBorders(a,v,m+v,-v,null,-v,!1),this.insertShaderBorders(a,v,m+v,null,-v,-v,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,i,s,a,d,g){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=rs.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(n,"px"),v.style.height="".concat(i,"px"),s!==null&&(v.style.top="".concat(s,"px")),a!==null&&(v.style.bottom="".concat(a,"px")),g?v.style.left="".concat(d,"px"):v.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),t.appendChild(v)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Fp="data:image/svg+xml;base64,",$8=Fp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",eA=Fp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",kg=Fp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",tA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Rg=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),nA=function(){function e(){this.data=Rg.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Rg.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),rA=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Eg.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var i=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(i),this.infoDiv.appendChild(s);var a=document.createElement("a");a.innerText=Eg.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),iA=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=kg,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(i){return n.onHoverIn()},this.infoIcon.onmouseout=function(i){return n.onHoverOut()},this.infoIcon.onclick=function(i){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=tA,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=kg,this.infoIcon.style.opacity="0.6")},e}(),oA=function(){function e(){var t=this;this.infoDiv=new rA,this.infoIcon=new iA(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),sA=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(_){try{m(i.next(_))}catch(C){d(C)}}function v(_){try{m(i.throw(_))}catch(C){d(C)}}function m(_){_.done?a(_.value):s(_.value).then(g,v)}m((i=i.apply(e,t||[])).next())})},aA=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(m){return function(_){return v([m,_])}}function v(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(_){m=[6,_],s=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Dg=function(){function e(){}return e.hasPermissions=function(){return sA(this,void 0,void 0,function(){var t,n,i,s;return aA(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),n=0,i=t;n<i.length;n++)if(s=i[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),Ha=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var i=n[t];if(e.isCameraScanType(i))return!0}return!1},e.isCameraScanType=function(t){return t===cl.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===cl.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Us.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Us.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var i=0,s=t;i<s.length;i++){var a=s[i];if(!Us.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e}(),ss=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),ba=function(){function e(){}return e.createElement=function(t,n){var i=document.createElement(t);return i.id=n,i.classList.add(ss.ALL_ELEMENT_CLASS),t==="button"&&i.setAttribute("type","button"),i},e}(),Gy=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(d){d(a)})}return new(n||(n=Promise))(function(a,d){function g(_){try{m(i.next(_))}catch(C){d(C)}}function v(_){try{m(i.throw(_))}catch(C){d(C)}}function m(_){_.done?a(_.value):s(_.value).then(g,v)}m((i=i.apply(e,t||[])).next())})},Zy=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(m){return function(_){return v([m,_])}}function v(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(i=1,s&&(a=m[0]&2?s.return:m[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,m[1])).done)return a;switch(s=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(_){m=[6,_],s=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Bg=function(){function e(t,n,i){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=i}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Gy(this,void 0,void 0,function(){var t,n;return Zy(this,function(i){switch(i.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return i.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=i.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?rr.torchOffButton():rr.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var i=t?rr.torchOnFailedMessage():rr.torchOffFailedMessage();n&&(i+="; Error = "+n),this.onTorchActionFailureCallback(i)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),lA=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=ba.createElement("button",ss.TORCH_BUTTON_ID),this.torchController=new Bg(t,this,n)}return e.prototype.render=function(t,n){var i=this;this.torchButton.innerText=rr.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(a){return Gy(i,void 0,void 0,function(){return Zy(this,function(d){switch(d.label){case 0:return[4,s.torchController.flipState()];case 1:return d.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(ss.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(ss.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(ss.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(ss.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Bg(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=rr.torchOnButton(),this.torchController.reset()},e.create=function(t,n,i,s){var a=new e(n,s);return a.render(t,i),a},e}(),uA=function(){function e(t,n,i){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=ba.createElement("button",ss.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(g){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=ba.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(g){if(!(g==null||g.target==null)){var v=g.target;if(!(v.files&&v.files.length===0)){var m=v.files,_=m[0],C=_.name;a.setImageNameToButton(C),i(_)}}});var d=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(d),this.fileBasedScanRegion.addEventListener("dragenter",function(g){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(g){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(g){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(g){g.stopPropagation(),g.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var v=g.dataTransfer;if(v){var m=v.files;if(!m||m.length===0)return;for(var _=!1,C=0;C<m.length;++C){var P=m.item(C);if(P){var S=/image.*/;if(P.type.match(S)){_=!0;var j=P.name;a.setImageNameToButton(j),i(P),d.innerText=rr.dragAndDropMessage();break}}}_||(d.innerText=rr.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=rr.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var i=t.substring(0,8),s=t.length,a=t.substring(s-8,s);t="".concat(i,"....").concat(a)}var d=rr.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=d},e.prototype.setInitialValueToButton=function(){var t=rr.fileSelectionChooseImage()+" - "+rr.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,i){var s=new e(t,n,i);return s},e}(),cA=function(){function e(t){this.selectElement=ba.createElement("select",ss.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var i=this.cameras.length;if(i===0)throw new Error("No cameras found");if(i===1)n.style.display="none";else{var s=rr.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var a=1,d=0,g=this.cameras;d<g.length;d++){var v=g[d],m=v.id,_=v.label==null?m:v.label;(!_||_==="")&&(_=[rr.anonymousCameraPrefix(),a++].join(" "));var C=document.createElement("option");C.value=m,C.innerText=_,this.options.push(C),this.selectElement.appendChild(C)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,i=this.options;n<i.length;n++){var s=i[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var i=new e(n);return i.render(t),i},e}(),hA=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ba.createElement("input",ss.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var i=rr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=rr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,i,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=i.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var i=new e;return i.render(t,n),i},e}(),is;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(is||(is={}));function fA(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function dA(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Yy=function(){function e(t,n,i){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=i===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Ha(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Wy(this.verbose),this.persistedDataManager=new nA,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var i=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,d){if(t)t(a,d);else{if(i.lastMatchFound===a)return;i.lastMatchFound=a,i.setHeaderMessage(rr.lastMatch(a),is.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,d){n&&n(a,d)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new Og(this.getScanRegionId(),dA(this.config,this.verbose))},e.prototype.pause=function(t){(ia(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var i=document.getElementById(t.elementId);i&&(i.innerHTML="",t.resetBasicLayout(i))};return this.html5Qrcode?new Promise(function(i,s){if(!t.html5Qrcode){i();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){i();return}t.html5Qrcode.clear(),n(),i()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),s(a)}):(t.html5Qrcode.clear(),n(),i())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Us.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Us.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Us.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Us.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Us.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Us.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Us.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),i=this.getScanRegionId();n.id=i,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Ha.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),a=this.getDashboardId();s.id=a,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var i=new oA;i.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,i){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(rr.cameraPermissionRequesting());var a=function(){i||s.createPermissionButton(t,n)};Og.getCameras().then(function(d){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),d&&d.length>0?(t.removeChild(n),s.renderCameraSelection(d)):(s.setHeaderMessage(rr.noCameraFound(),is.STATUS_WARNING),a())}).catch(function(d){s.persistedDataManager.setHasPermission(!1),i?i.disabled=!1:a(),s.setHeaderMessage(d,is.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var i=this,s=ba.createElement("button",this.getCameraPermissionButtonId());s.innerText=rr.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,i.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var i=this;if(Ha.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Dg.hasPermissions().then(function(s){s?i.createCameraListUi(t,n):(i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n))}).catch(function(s){i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var i=document.createElement("div");i.id=this.getDashboardSectionCameraScanRegionId(),i.style.display=Ha.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(i);var s=document.createElement("div");s.style.textAlign="center",i.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(i,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Ha.isFileScanType(this.currentScanType),i=this,s=function(a){if(!i.html5Qrcode)throw"html5Qrcode not defined";Ha.isFileScanType(i.currentScanType)&&(i.setHeaderMessage(rr.loadingImage()),i.html5Qrcode.scanFileV2(a,!0).then(function(d){i.resetHeaderMessage(),i.qrCodeSuccessCallback(d.decodedText,d)}).catch(function(d){i.setHeaderMessage(d,is.STATUS_WARNING),i.qrCodeErrorCallback(d,Hy.createFrom(d))}))};this.fileSelectionUi=uA.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,i=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var a=hA.create(s,!1),d=function(D){var q=D.zoomFeature();if(q.isSupported()){a.setOnCameraZoomValueChangeCallback(function(B){q.apply(B)});var M=1;n.config.defaultZoomValueIfSupported&&(M=n.config.defaultZoomValueIfSupported),M=M8(M,q.min(),q.max()),a.setValues(q.min(),q.max(),M,q.step()),a.show()}},g=cA.create(s,t),v=document.createElement("span"),m=ba.createElement("button",ss.CAMERA_START_BUTTON_ID);m.innerText=rr.scanButtonStartScanningText(),v.appendChild(m);var _=ba.createElement("button",ss.CAMERA_STOP_BUTTON_ID);_.innerText=rr.scanButtonStopScanningText(),_.style.display="none",_.disabled=!0,v.appendChild(_);var C,P=function(D){if(!D.torchFeature().isSupported()){C&&C.hide();return}C?C.updateTorchCapability(D.torchFeature()):C=lA.create(v,D.torchFeature(),{display:"none",marginLeft:"5px"},function(q){i.setHeaderMessage(q,is.STATUS_WARNING)}),C.show()};s.appendChild(v);var S=function(D){D||(m.style.display="none"),m.innerText=rr.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,D&&(m.style.display="inline-block")};if(m.addEventListener("click",function(D){m.innerText=rr.scanButtonScanningStarting(),g.disable(),m.disabled=!0,m.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!1),i.resetHeaderMessage();var q=g.getValue();i.persistedDataManager.setLastUsedCameraId(q),i.html5Qrcode.start(q,fA(i.config),i.qrCodeSuccessCallback,i.qrCodeErrorCallback).then(function(M){_.disabled=!1,_.style.display="inline-block",S(!1);var B=i.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&P(B),n.config.showZoomSliderIfSupported===!0&&d(B)}).catch(function(M){i.showHideScanTypeSwapLink(!0),g.enable(),S(!0),i.setHeaderMessage(M,is.STATUS_WARNING)})}),g.hasSingleItem()&&m.click(),_.addEventListener("click",function(D){if(!i.html5Qrcode)throw"html5Qrcode not defined";_.disabled=!0,i.html5Qrcode.stop().then(function(q){n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!0),g.enable(),m.disabled=!1,_.style.display="none",m.style.display="inline-block",C&&(C.reset(),C.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),i.insertCameraScanImageToScanRegion()}).catch(function(q){_.disabled=!1,i.setHeaderMessage(q,is.STATUS_WARNING)})}),i.persistedDataManager.getLastUsedCameraId()){var j=i.persistedDataManager.getLastUsedCameraId();g.hasValue(j)?(g.setValue(j),m.click()):i.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=rr.textIfCameraScanSelected(),i=rr.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var d=ba.createElement("span",this.getDashboardSectionSwapLinkId());d.style.textDecoration="underline",d.style.cursor="pointer",d.innerText=Ha.isCameraScanType(this.currentScanType)?n:i,d.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Ha.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),d.innerText=i,t.currentScanType=cl.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),d.innerText=n,t.currentScanType=cl.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(d),s.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Dg.hasPermissions().then(function(i){if(i){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(i){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=is.STATUS_DEFAULT);var i=this.getHeaderMessageDiv();switch(i.innerText=t,i.style.display="block",n){case is.STATUS_SUCCESS:i.style.background="rgba(106, 175, 80, 0.26)",i.style.color="#477735";break;case is.STATUS_WARNING:i.style.background="rgba(203, 36, 49, 0.14)",i.style.color="#cb2431";break;case is.STATUS_DEFAULT:default:i.style.background="rgba(0, 0, 0, 0)",i.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=$8,this.cameraScanImage.alt=rr.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=eA,this.fileScanImage.alt=rr.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return ss.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return ss.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const Fg=[{name:"Aceh",coord:[5.55,95.317]},{name:"Medan",coord:[3.5952,98.6722]},{name:"Pekanbaru",coord:[.5333,101.45]},{name:"Padang",coord:[-.9493,100.3543]},{name:"Batam",coord:[1.08,104.03]},{name:"Palembang",coord:[-2.9761,104.7754]},{name:"Bengkulu",coord:[-3.8,102.2656]},{name:"Lampung",coord:[-5.45,105.2667]},{name:"Jakarta",coord:[-6.2088,106.8456]},{name:"Bandung",coord:[-6.9147,107.6098]},{name:"Semarang",coord:[-7.0051,110.4381]},{name:"Yogyakarta",coord:[-7.7956,110.3695]},{name:"Surabaya",coord:[-7.2575,112.7521]},{name:"Malang",coord:[-7.9666,112.6326]},{name:"Bali (Denpasar)",coord:[-8.6705,115.2126]},{name:"Kupang",coord:[-10.1771,123.6051]},{name:"Makassar",coord:[-5.1477,119.4327]},{name:"Manado",coord:[1.478,124.8425]},{name:"Palangkaraya",coord:[-2.2099,113.9164]},{name:"Pontianak",coord:[-.4796,109.3404]},{name:"Samarinda",coord:[-.5023,117.1539]},{name:"Banjarmasin",coord:[-3.316,114.5946]},{name:"Jayapura",coord:[-2.5336,140.7181]},{name:"Manokwari",coord:[-.8617,134.0628]}],pA=()=>{const{addItem:e}=nt.useContext($c),[t,n]=nt.useState(""),[i,s]=nt.useState(""),[a,d]=nt.useState(""),[g,v]=nt.useState(["Jakarta"]),[m,_]=nt.useState(""),C=()=>{const M=new Yy("reader",{fps:10,qrbox:250});M.render(B=>{_(B),alert(`Barcode berhasil discan: ${B}`),M.clear()})},P=()=>{if(!m)return alert("Silakan scan barcode dulu!");const M={uid:m,name:t||`Barang ${m}`,status:"START",currentCP:0,targetCP:g.length,schedule:i||new Date().toLocaleString(),estimation:30,startTime:new Date().toISOString(),lastCheckpointTime:new Date().toISOString(),pic:a,cpLocations:g.map(B=>{const F=Fg.find(Z=>Z.name===B);return F?F.coord:[-6.2088,106.8456]})};e(M),alert(`Barang ${M.name} (UID: ${m}) berhasil ditambahkan!`),n(""),s(""),d(""),v(["Jakarta"]),_("")},S=()=>{n(""),s(""),d(""),v(["Jakarta"]),_("")},j=()=>v(M=>[...M,"Jakarta"]),D=M=>v(B=>B.filter((F,Z)=>Z!==M)),q=t.trim()&&m.trim()&&i&&a.trim()&&g.every(M=>M!=="");return Re.jsxs("div",{className:"p-4",children:[Re.jsx("h2",{children:"QR Scanner & Input Barang"}),Re.jsxs("div",{className:"mb-3",children:[Re.jsx("label",{children:"Nama Barang:"}),Re.jsx("input",{type:"text",className:"form-control",placeholder:"Masukkan nama barang",value:t,onChange:M=>n(M.target.value)})]}),Re.jsxs("div",{className:"mb-3",children:[Re.jsx("label",{children:"Scan / Upload Barcode:"}),Re.jsxs("div",{className:"d-flex mb-2",children:[Re.jsx("button",{className:"btn btn-secondary me-2",onClick:C,children:"Scan Barcode"}),m&&Re.jsxs("span",{className:"align-self-center",children:["UID: ",m]})]}),Re.jsx("div",{id:"reader",style:{width:"100%"}})]}),Re.jsxs("div",{className:"mb-3",children:[Re.jsx("label",{children:"Tanggal Pengiriman:"}),Re.jsx("input",{type:"datetime-local",className:"form-control",value:i,onChange:M=>s(M.target.value)})]}),Re.jsxs("div",{className:"mb-3",children:[Re.jsx("label",{children:"PIC / Penanggung Jawab:"}),Re.jsx("input",{type:"text",className:"form-control",placeholder:"Nama PIC",value:a,onChange:M=>d(M.target.value)})]}),Re.jsxs("div",{className:"mb-3",children:[Re.jsx("label",{children:"Lokasi Checkpoint (CP):"}),g.map((M,B)=>Re.jsxs("div",{className:"d-flex mb-2",children:[Re.jsx("select",{className:"form-select me-2",value:M,onChange:F=>v(Z=>{const ye=[...Z];return ye[B]=F.target.value,ye}),children:Fg.map(F=>Re.jsx("option",{value:F.name,children:F.name},F.name))}),g.length>1&&Re.jsx("button",{className:"btn btn-danger",onClick:()=>D(B),children:"Hapus"})]},B)),Re.jsx("button",{className:"btn btn-primary mt-2",onClick:j,children:"Tambah CP"})]}),Re.jsxs("div",{className:"d-flex",children:[Re.jsx("button",{className:"btn btn-success me-2",onClick:P,disabled:!q,children:"Kirim"}),Re.jsx("button",{className:"btn btn-danger",onClick:S,children:"Batal"})]})]})},gA=()=>{const{items:e,updateItem:t,removeItem:n,addHistory:i}=nt.useContext($c),[s,a]=nt.useState(null),d=Jc(),g=C=>{if(!C.lastCheckpointTime)return"Belum mulai";if(C.status==="SAMPAI")return"Selesai";const S=(new Date-new Date(C.lastCheckpointTime))/1e3,j=10;return S<=j?"Tepat Waktu":S<=j+5?"Rawan Terlambat":"Terlambat"};nt.useEffect(()=>{const C=setInterval(()=>{e.forEach(P=>{const S=g(P);t(P.uid,{keterangan:S})})},1e3);return()=>clearInterval(C)},[e,t]);const v=C=>{a(C.uid);const P=new Yy("scanner",{fps:10,qrbox:250});P.render(S=>{if(S===C.uid){if(C.currentCP<C.targetCP){const j=C.currentCP+1,D=new Date().toISOString(),q=j>=C.targetCP?"SAMPAI":`CP${j}`,M=g({...C,status:q,lastCheckpointTime:D});t(C.uid,{currentCP:j,lastCheckpointTime:D,status:q,keterangan:M}),i({uid:C.uid,name:C.name,cp:j,time:D,proof:null,keterangan:M}),alert(`✅ Scan berhasil! Lanjut ke ${j>=C.targetCP?"Selesai":"CP"+j}`)}P.clear(),a(null)}else alert("❌ Barcode salah! Scan barcode yang sesuai.")})},m=(C,P)=>{const S=P.target.files[0];if(!S)return;const j=new FileReader;j.onloadend=()=>{const D=C.proofs||{};D[`CP${C.currentCP}`]=j.result,t(C.uid,{proofs:D}),i({uid:C.uid,name:C.name,cp:C.currentCP,time:new Date().toISOString(),proof:j.result,keterangan:C.keterangan||"-"}),alert("📷 Bukti scan berhasil diupload!")},j.readAsDataURL(S)},_=C=>{d("/history",{state:{uid:C}})};return Re.jsxs("div",{className:"p-4",children:[Re.jsx("h2",{children:"📍 Tracking Data"}),Re.jsxs("table",{className:"table table-bordered table-striped",children:[Re.jsx("thead",{className:"table-dark",children:Re.jsxs("tr",{children:[Re.jsx("th",{children:"UID"}),Re.jsx("th",{children:"Nama"}),Re.jsx("th",{children:"Status"}),Re.jsx("th",{children:"CP"}),Re.jsx("th",{children:"Keterangan"}),Re.jsx("th",{children:"Bukti Scan"}),Re.jsx("th",{children:"Aksi"})]})}),Re.jsx("tbody",{children:e.map(C=>Re.jsxs("tr",{children:[Re.jsx("td",{children:C.uid}),Re.jsx("td",{children:C.name}),Re.jsx("td",{children:C.status==="SAMPAI"?Re.jsx("span",{className:"badge bg-success",children:C.status}):C.status}),Re.jsxs("td",{children:[C.currentCP,"/",C.targetCP]}),Re.jsx("td",{children:C.keterangan||"-"}),Re.jsx("td",{children:C.proofs&&C.proofs[`CP${C.currentCP}`]?Re.jsx("img",{src:C.proofs[`CP${C.currentCP}`],alt:"bukti",width:"60"}):Re.jsx("input",{type:"file",accept:"image/*",onChange:P=>m(C,P)})}),Re.jsxs("td",{children:[C.status==="SAMPAI"?Re.jsx("button",{className:"btn btn-sm btn-danger me-1",onClick:()=>n(C.uid),children:"Hapus"}):Re.jsx("button",{className:"btn btn-sm btn-primary me-1",onClick:()=>v(C),children:"Scan (Next CP)"}),Re.jsx("button",{className:"btn btn-sm btn-info",onClick:()=>_(C.uid),children:"Cek"})]})]},C.uid))})]}),s&&Re.jsxs("div",{className:"mt-4",children:[Re.jsxs("h5",{children:["🔍 Scanner untuk UID: ",s]}),Re.jsx("div",{id:"scanner",style:{width:"100%"}})]})]})},mA="modulepreload",vA=function(e){return"/rfid-tracking2/"+e},jg={},Kd=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=Promise.allSettled(n.map(v=>{if(v=vA(v),v in jg)return;jg[v]=!0;const m=v.endsWith(".css"),_=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${_}`))return;const C=document.createElement("link");if(C.rel=m?"stylesheet":mA,m||(C.as="script"),C.crossOrigin="",C.href=v,g&&C.setAttribute("nonce",g),document.head.appendChild(C),m)return new Promise((P,S)=>{C.addEventListener("load",P),C.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${v}`)))})}))}function a(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return s.then(d=>{for(const g of d||[])g.status==="rejected"&&a(g.reason);return t().catch(a)})};function ir(e){"@babel/helpers - typeof";return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(e)}var Gs=Uint8Array,ls=Uint16Array,jp=Int32Array,zp=new Gs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Up=new Gs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),zg=new Gs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xy=function(e,t){for(var n=new ls(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var s=new jp(n[30]),i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)s[a]=a-n[i]<<5|i;return{b:n,r:s}},Ky=Xy(zp,2),yA=Ky.b,A0=Ky.r;yA[28]=258,A0[258]=28;var wA=Xy(Up,0),Ug=wA.r,b0=new ls(32768);for(var _r=0;_r<32768;++_r){var Wa=(_r&43690)>>1|(_r&21845)<<1;Wa=(Wa&52428)>>2|(Wa&13107)<<2,Wa=(Wa&61680)>>4|(Wa&3855)<<4,b0[_r]=((Wa&65280)>>8|(Wa&255)<<8)>>1}var bc=function(e,t,n){for(var i=e.length,s=0,a=new ls(t);s<i;++s)e[s]&&++a[e[s]-1];var d=new ls(t);for(s=1;s<t;++s)d[s]=d[s-1]+a[s-1]<<1;var g;if(n){g=new ls(1<<t);var v=15-t;for(s=0;s<i;++s)if(e[s])for(var m=s<<4|e[s],_=t-e[s],C=d[e[s]-1]++<<_,P=C|(1<<_)-1;C<=P;++C)g[b0[C]>>v]=m}else for(g=new ls(i),s=0;s<i;++s)e[s]&&(g[s]=b0[d[e[s]-1]++]>>15-e[s]);return g},Dl=new Gs(288);for(var _r=0;_r<144;++_r)Dl[_r]=8;for(var _r=144;_r<256;++_r)Dl[_r]=9;for(var _r=256;_r<280;++_r)Dl[_r]=7;for(var _r=280;_r<288;++_r)Dl[_r]=8;var Rf=new Gs(32);for(var _r=0;_r<32;++_r)Rf[_r]=5;var xA=bc(Dl,9,0),_A=bc(Rf,5,0),Qy=function(e){return(e+7)/8|0},AA=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Gs(e.subarray(t,n))},ga=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},lc=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},Qd=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var s=n.length,a=n.slice();if(!s)return{t:$y,l:0};if(s==1){var d=new Gs(n[0].s+1);return d[n[0].s]=1,{t:d,l:1}}n.sort(function(ye,Se){return ye.f-Se.f}),n.push({s:-1,f:25001});var g=n[0],v=n[1],m=0,_=1,C=2;for(n[0]={s:-1,f:g.f+v.f,l:g,r:v};_!=s-1;)g=n[n[m].f<n[C].f?m++:C++],v=n[m!=_&&n[m].f<n[C].f?m++:C++],n[_++]={s:-1,f:g.f+v.f,l:g,r:v};for(var P=a[0].s,i=1;i<s;++i)a[i].s>P&&(P=a[i].s);var S=new ls(P+1),j=C0(n[_-1],S,0);if(j>t){var i=0,D=0,q=j-t,M=1<<q;for(a.sort(function(Se,fe){return S[fe.s]-S[Se.s]||Se.f-fe.f});i<s;++i){var B=a[i].s;if(S[B]>t)D+=M-(1<<j-S[B]),S[B]=t;else break}for(D>>=q;D>0;){var F=a[i].s;S[F]<t?D-=1<<t-S[F]++-1:++i}for(;i>=0&&D;--i){var Z=a[i].s;S[Z]==t&&(--S[Z],++D)}j=t}return{t:new Gs(S),l:j}},C0=function(e,t,n){return e.s==-1?Math.max(C0(e.l,t,n+1),C0(e.r,t,n+1)):t[e.s]=n},Hg=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ls(++t),i=0,s=e[0],a=1,d=function(v){n[i++]=v},g=1;g<=t;++g)if(e[g]==s&&g!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)d(32754);a>2&&(d(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(d(s),--a;a>6;a-=6)d(8304);a>2&&(d(a-3<<5|8208),a=0)}for(;a--;)d(s);a=1,s=e[g]}return{c:n.subarray(0,i),n:t}},uc=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},Jy=function(e,t,n){var i=n.length,s=Qy(t+2);e[s]=i&255,e[s+1]=i>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var a=0;a<i;++a)e[s+a+4]=n[a];return(s+4+i)*8},Wg=function(e,t,n,i,s,a,d,g,v,m,_){ga(t,_++,n),++s[256];for(var C=Qd(s,15),P=C.t,S=C.l,j=Qd(a,15),D=j.t,q=j.l,M=Hg(P),B=M.c,F=M.n,Z=Hg(D),ye=Z.c,Se=Z.n,fe=new ls(19),de=0;de<B.length;++de)++fe[B[de]&31];for(var de=0;de<ye.length;++de)++fe[ye[de]&31];for(var J=Qd(fe,7),be=J.t,K=J.l,$=19;$>4&&!be[zg[$-1]];--$);var ge=m+5<<3,me=uc(s,Dl)+uc(a,Rf)+d,ce=uc(s,P)+uc(a,D)+d+14+3*$+uc(fe,be)+2*fe[16]+3*fe[17]+7*fe[18];if(v>=0&&ge<=me&&ge<=ce)return Jy(t,_,e.subarray(v,v+m));var Be,Le,he,Pe;if(ga(t,_,1+(ce<me)),_+=2,ce<me){Be=bc(P,S,0),Le=P,he=bc(D,q,0),Pe=D;var Ie=bc(be,K,0);ga(t,_,F-257),ga(t,_+5,Se-1),ga(t,_+10,$-4),_+=14;for(var de=0;de<$;++de)ga(t,_+3*de,be[zg[de]]);_+=3*$;for(var He=[B,ye],V=0;V<2;++V)for(var oe=He[V],de=0;de<oe.length;++de){var se=oe[de]&31;ga(t,_,Ie[se]),_+=be[se],se>15&&(ga(t,_,oe[de]>>5&127),_+=oe[de]>>12)}}else Be=xA,Le=Dl,he=_A,Pe=Rf;for(var de=0;de<g;++de){var ve=i[de];if(ve>255){var se=ve>>18&31;lc(t,_,Be[se+257]),_+=Le[se+257],se>7&&(ga(t,_,ve>>23&31),_+=zp[se]);var ue=ve&31;lc(t,_,he[ue]),_+=Pe[ue],ue>3&&(lc(t,_,ve>>5&8191),_+=Up[ue])}else lc(t,_,Be[ve]),_+=Le[ve]}return lc(t,_,Be[256]),_+Le[256]},bA=new jp([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$y=new Gs(0),CA=function(e,t,n,i,s,a){var d=a.z||e.length,g=new Gs(i+d+5*(1+Math.ceil(d/7e3))+s),v=g.subarray(i,g.length-s),m=a.l,_=(a.r||0)&7;if(t){_&&(v[0]=a.r>>3);for(var C=bA[t-1],P=C>>13,S=C&8191,j=(1<<n)-1,D=a.p||new ls(32768),q=a.h||new ls(j+1),M=Math.ceil(n/3),B=2*M,F=function(Ye){return(e[Ye]^e[Ye+1]<<M^e[Ye+2]<<B)&j},Z=new jp(25e3),ye=new ls(288),Se=new ls(32),fe=0,de=0,J=a.i||0,be=0,K=a.w||0,$=0;J+2<d;++J){var ge=F(J),me=J&32767,ce=q[ge];if(D[me]=ce,q[ge]=me,K<=J){var Be=d-J;if((fe>7e3||be>24576)&&(Be>423||!m)){_=Wg(e,v,0,Z,ye,Se,de,be,$,J-$,_),be=fe=de=0,$=J;for(var Le=0;Le<286;++Le)ye[Le]=0;for(var Le=0;Le<30;++Le)Se[Le]=0}var he=2,Pe=0,Ie=S,He=me-ce&32767;if(Be>2&&ge==F(J-He))for(var V=Math.min(P,Be)-1,oe=Math.min(32767,J),se=Math.min(258,Be);He<=oe&&--Ie&&me!=ce;){if(e[J+he]==e[J+he-He]){for(var ve=0;ve<se&&e[J+ve]==e[J+ve-He];++ve);if(ve>he){if(he=ve,Pe=He,ve>V)break;for(var ue=Math.min(He,ve-2),Me=0,Le=0;Le<ue;++Le){var Fe=J-He+Le&32767,Ve=D[Fe],Je=Fe-Ve&32767;Je>Me&&(Me=Je,ce=Fe)}}}me=ce,ce=D[me],He+=me-ce&32767}if(Pe){Z[be++]=268435456|A0[he]<<18|Ug[Pe];var ot=A0[he]&31,gt=Ug[Pe]&31;de+=zp[ot]+Up[gt],++ye[257+ot],++Se[gt],K=J+he,++fe}else Z[be++]=e[J],++ye[e[J]]}}for(J=Math.max(J,K);J<d;++J)Z[be++]=e[J],++ye[e[J]];_=Wg(e,v,m,Z,ye,Se,de,be,$,J-$,_),m||(a.r=_&7|v[_/8|0]<<3,_-=7,a.h=q,a.p=D,a.i=J,a.w=K)}else{for(var J=a.w||0;J<d+m;J+=65535){var ut=J+65535;ut>=d&&(v[_/8|0]=m,ut=d),_=Jy(v,_+1,e.subarray(J,ut))}a.i=d}return AA(g,0,i+Qy(_)+s)},ew=function(){var e=1,t=0;return{p:function(n){for(var i=e,s=t,a=n.length|0,d=0;d!=a;){for(var g=Math.min(d+2655,a);d<g;++d)s+=i+=n[d];i=(i&65535)+15*(i>>16),s=(s&65535)+15*(s>>16)}e=i,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},SA=function(e,t,n,i,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),d=new Gs(a.length+e.length);d.set(a),d.set(e,a.length),e=d,s.w=a.length}return CA(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,s)},tw=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},EA=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=ew();s.p(t.dictionary),tw(e,2,s.d())}};function S0(e,t){t||(t={});var n=ew();n.p(e);var i=SA(e,t,t.dictionary?6:2,4);return EA(i,t),tw(i,i.length-4,n.d()),i}var NA=typeof TextDecoder<"u"&&new TextDecoder,IA=0;try{NA.decode($y,{stream:!0}),IA=1}catch{}function TA(e){if(Array.isArray(e))return e}function LA(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,s,a,d,g=[],v=!0,m=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(v=(i=a.call(n)).done)&&(g.push(i.value),g.length!==t);v=!0);}catch(_){m=!0,s=_}finally{try{if(!v&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(m)throw s}}return g}}function Vg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function PA(e,t){if(e){if(typeof e=="string")return Vg(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vg(e,t):void 0}}function MA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qg(e,t){return TA(e)||LA(e,t)||PA(e,t)||MA()}function Gg(e,t="utf8"){return new TextDecoder(t).decode(e)}const OA=new TextEncoder;function kA(e){return OA.encode(e)}const RA=1024*8,DA=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Jd={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Hp{constructor(t=RA,n={}){Hn(this,"buffer");Hn(this,"byteLength");Hn(this,"byteOffset");Hn(this,"length");Hn(this,"offset");Hn(this,"lastWrittenByte");Hn(this,"littleEndian");Hn(this,"_data");Hn(this,"_mark");Hn(this,"_marks");let i=!1;typeof t=="number"?t=new ArrayBuffer(t):(i=!0,this.lastWrittenByte=t.byteLength);const s=n.offset?n.offset>>>0:0,a=t.byteLength-s;let d=s;(ArrayBuffer.isView(t)||t instanceof Hp)&&(t.byteLength!==t.buffer.byteLength&&(d=t.byteOffset+s),t=t.buffer),i?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=d,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,d,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const i=(this.offset+t)*2,s=new Uint8Array(i);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const i=Jd[n].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,a=this.buffer.slice(s,s+i);if(this.littleEndian===DA&&n!=="uint8"&&n!=="int8"){const g=new Uint8Array(this.buffer.slice(s,s+i));g.reverse();const v=new Jd[n](g.buffer);return this.offset+=i,v.reverse(),v}const d=new Jd[n](a);return this.offset+=i,d}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let i=0;i<t;i++)n+=this.readChar();return n}readUtf8(t=1){return Gg(this.readBytes(t))}decodeText(t=1,n="utf8"){return Gg(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(kA(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Hu(e){let t=e.length;for(;--t>=0;)e[t]=0}const BA=3,FA=258,nw=29,jA=256,zA=jA+1+nw,rw=30,UA=512,HA=new Array((zA+2)*2);Hu(HA);const WA=new Array(rw*2);Hu(WA);const VA=new Array(UA);Hu(VA);const qA=new Array(FA-BA+1);Hu(qA);const GA=new Array(nw);Hu(GA);const ZA=new Array(rw);Hu(ZA);const YA=(e,t,n,i)=>{let s=e&65535|0,a=e>>>16&65535|0,d=0;for(;n!==0;){d=n>2e3?2e3:n,n-=d;do s=s+t[i++]|0,a=a+s|0;while(--d);s%=65521,a%=65521}return s|a<<16|0};var E0=YA;const XA=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},KA=new Uint32Array(XA()),QA=(e,t,n,i)=>{const s=KA,a=i+n;e^=-1;for(let d=i;d<a;d++)e=e>>>8^s[(e^t[d])&255];return e^-1};var ta=QA,N0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},iw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const JA=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var $A=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)JA(n,i)&&(e[i]=n[i])}}return e},e6=e=>{let t=0;for(let i=0,s=e.length;i<s;i++)t+=e[i].length;const n=new Uint8Array(t);for(let i=0,s=0,a=e.length;i<a;i++){let d=e[i];n.set(d,s),s+=d.length}return n},ow={assign:$A,flattenChunks:e6};let sw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{sw=!1}const qc=new Uint8Array(256);for(let e=0;e<256;e++)qc[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;qc[254]=qc[254]=1;var t6=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,i,s,a,d=e.length,g=0;for(s=0;s<d;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<d&&(i=e.charCodeAt(s+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),s++)),g+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(g),a=0,s=0;a<g;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<d&&(i=e.charCodeAt(s+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),s++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};const n6=(e,t)=>{if(t<65534&&e.subarray&&sw)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n};var r6=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let i,s;const a=new Array(n*2);for(s=0,i=0;i<n;){let d=e[i++];if(d<128){a[s++]=d;continue}let g=qc[d];if(g>4){a[s++]=65533,i+=g-1;continue}for(d&=g===2?31:g===3?15:7;g>1&&i<n;)d=d<<6|e[i++]&63,g--;if(g>1){a[s++]=65533;continue}d<65536?a[s++]=d:(d-=65536,a[s++]=55296|d>>10&1023,a[s++]=56320|d&1023)}return n6(a,s)},i6=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+qc[e[n]]>t?n:t},I0={string2buf:t6,buf2string:r6,utf8border:i6};function o6(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var s6=o6;const Oh=16209,a6=16191;var l6=function(t,n){let i,s,a,d,g,v,m,_,C,P,S,j,D,q,M,B,F,Z,ye,Se,fe,de,J,be;const K=t.state;i=t.next_in,J=t.input,s=i+(t.avail_in-5),a=t.next_out,be=t.output,d=a-(n-t.avail_out),g=a+(t.avail_out-257),v=K.dmax,m=K.wsize,_=K.whave,C=K.wnext,P=K.window,S=K.hold,j=K.bits,D=K.lencode,q=K.distcode,M=(1<<K.lenbits)-1,B=(1<<K.distbits)-1;e:do{j<15&&(S+=J[i++]<<j,j+=8,S+=J[i++]<<j,j+=8),F=D[S&M];t:for(;;){if(Z=F>>>24,S>>>=Z,j-=Z,Z=F>>>16&255,Z===0)be[a++]=F&65535;else if(Z&16){ye=F&65535,Z&=15,Z&&(j<Z&&(S+=J[i++]<<j,j+=8),ye+=S&(1<<Z)-1,S>>>=Z,j-=Z),j<15&&(S+=J[i++]<<j,j+=8,S+=J[i++]<<j,j+=8),F=q[S&B];n:for(;;){if(Z=F>>>24,S>>>=Z,j-=Z,Z=F>>>16&255,Z&16){if(Se=F&65535,Z&=15,j<Z&&(S+=J[i++]<<j,j+=8,j<Z&&(S+=J[i++]<<j,j+=8)),Se+=S&(1<<Z)-1,Se>v){t.msg="invalid distance too far back",K.mode=Oh;break e}if(S>>>=Z,j-=Z,Z=a-d,Se>Z){if(Z=Se-Z,Z>_&&K.sane){t.msg="invalid distance too far back",K.mode=Oh;break e}if(fe=0,de=P,C===0){if(fe+=m-Z,Z<ye){ye-=Z;do be[a++]=P[fe++];while(--Z);fe=a-Se,de=be}}else if(C<Z){if(fe+=m+C-Z,Z-=C,Z<ye){ye-=Z;do be[a++]=P[fe++];while(--Z);if(fe=0,C<ye){Z=C,ye-=Z;do be[a++]=P[fe++];while(--Z);fe=a-Se,de=be}}}else if(fe+=C-Z,Z<ye){ye-=Z;do be[a++]=P[fe++];while(--Z);fe=a-Se,de=be}for(;ye>2;)be[a++]=de[fe++],be[a++]=de[fe++],be[a++]=de[fe++],ye-=3;ye&&(be[a++]=de[fe++],ye>1&&(be[a++]=de[fe++]))}else{fe=a-Se;do be[a++]=be[fe++],be[a++]=be[fe++],be[a++]=be[fe++],ye-=3;while(ye>2);ye&&(be[a++]=be[fe++],ye>1&&(be[a++]=be[fe++]))}}else if(Z&64){t.msg="invalid distance code",K.mode=Oh;break e}else{F=q[(F&65535)+(S&(1<<Z)-1)];continue n}break}}else if(Z&64)if(Z&32){K.mode=a6;break e}else{t.msg="invalid literal/length code",K.mode=Oh;break e}else{F=D[(F&65535)+(S&(1<<Z)-1)];continue t}break}}while(i<s&&a<g);ye=j>>3,i-=ye,j-=ye<<3,S&=(1<<j)-1,t.next_in=i,t.next_out=a,t.avail_in=i<s?5+(s-i):5-(i-s),t.avail_out=a<g?257+(g-a):257-(a-g),K.hold=S,K.bits=j};const Jl=15,Zg=852,Yg=592,Xg=0,$d=1,Kg=2,u6=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),c6=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),h6=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),f6=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),d6=(e,t,n,i,s,a,d,g)=>{const v=g.bits;let m=0,_=0,C=0,P=0,S=0,j=0,D=0,q=0,M=0,B=0,F,Z,ye,Se,fe,de=null,J;const be=new Uint16Array(Jl+1),K=new Uint16Array(Jl+1);let $=null,ge,me,ce;for(m=0;m<=Jl;m++)be[m]=0;for(_=0;_<i;_++)be[t[n+_]]++;for(S=v,P=Jl;P>=1&&be[P]===0;P--);if(S>P&&(S=P),P===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,g.bits=1,0;for(C=1;C<P&&be[C]===0;C++);for(S<C&&(S=C),q=1,m=1;m<=Jl;m++)if(q<<=1,q-=be[m],q<0)return-1;if(q>0&&(e===Xg||P!==1))return-1;for(K[1]=0,m=1;m<Jl;m++)K[m+1]=K[m]+be[m];for(_=0;_<i;_++)t[n+_]!==0&&(d[K[t[n+_]]++]=_);if(e===Xg?(de=$=d,J=20):e===$d?(de=u6,$=c6,J=257):(de=h6,$=f6,J=0),B=0,_=0,m=C,fe=a,j=S,D=0,ye=-1,M=1<<S,Se=M-1,e===$d&&M>Zg||e===Kg&&M>Yg)return 1;for(;;){ge=m-D,d[_]+1<J?(me=0,ce=d[_]):d[_]>=J?(me=$[d[_]-J],ce=de[d[_]-J]):(me=96,ce=0),F=1<<m-D,Z=1<<j,C=Z;do Z-=F,s[fe+(B>>D)+Z]=ge<<24|me<<16|ce|0;while(Z!==0);for(F=1<<m-1;B&F;)F>>=1;if(F!==0?(B&=F-1,B+=F):B=0,_++,--be[m]===0){if(m===P)break;m=t[n+d[_]]}if(m>S&&(B&Se)!==ye){for(D===0&&(D=S),fe+=C,j=m-D,q=1<<j;j+D<P&&(q-=be[j+D],!(q<=0));)j++,q<<=1;if(M+=1<<j,e===$d&&M>Zg||e===Kg&&M>Yg)return 1;ye=B&Se,s[ye]=S<<24|j<<16|fe-a|0}}return B!==0&&(s[fe+B]=m-D<<24|64<<16|0),g.bits=S,0};var Cc=d6;const p6=0,aw=1,lw=2,{Z_FINISH:Qg,Z_BLOCK:g6,Z_TREES:kh,Z_OK:Bl,Z_STREAM_END:m6,Z_NEED_DICT:v6,Z_STREAM_ERROR:Ss,Z_DATA_ERROR:uw,Z_MEM_ERROR:cw,Z_BUF_ERROR:y6,Z_DEFLATED:Jg}=iw,ad=16180,$g=16181,em=16182,tm=16183,nm=16184,rm=16185,im=16186,om=16187,sm=16188,am=16189,Df=16190,ma=16191,e1=16192,lm=16193,t1=16194,um=16195,cm=16196,hm=16197,fm=16198,Rh=16199,Dh=16200,dm=16201,pm=16202,gm=16203,mm=16204,vm=16205,n1=16206,ym=16207,wm=16208,Er=16209,hw=16210,fw=16211,w6=852,x6=592,_6=15,A6=_6,xm=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function b6(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ul=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<ad||t.mode>fw?1:0},dw=e=>{if(Ul(e))return Ss;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=ad,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(w6),t.distcode=t.distdyn=new Int32Array(x6),t.sane=1,t.back=-1,Bl},pw=e=>{if(Ul(e))return Ss;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,dw(e)},gw=(e,t)=>{let n;if(Ul(e))return Ss;const i=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ss:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,pw(e))},mw=(e,t)=>{if(!e)return Ss;const n=new b6;e.state=n,n.strm=e,n.window=null,n.mode=ad;const i=gw(e,t);return i!==Bl&&(e.state=null),i},C6=e=>mw(e,A6);let _m=!0,r1,i1;const S6=e=>{if(_m){r1=new Int32Array(512),i1=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Cc(aw,e.lens,0,288,r1,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Cc(lw,e.lens,0,32,i1,0,e.work,{bits:5}),_m=!1}e.lencode=r1,e.lenbits=9,e.distcode=i1,e.distbits=5},vw=(e,t,n,i)=>{let s;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>i&&(s=i),a.window.set(t.subarray(n-i,n-i+s),a.wnext),i-=s,i?(a.window.set(t.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0},E6=(e,t)=>{let n,i,s,a,d,g,v,m,_,C,P,S,j,D,q=0,M,B,F,Z,ye,Se,fe,de;const J=new Uint8Array(4);let be,K;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ul(e)||!e.output||!e.input&&e.avail_in!==0)return Ss;n=e.state,n.mode===ma&&(n.mode=e1),d=e.next_out,s=e.output,v=e.avail_out,a=e.next_in,i=e.input,g=e.avail_in,m=n.hold,_=n.bits,C=g,P=v,de=Bl;e:for(;;)switch(n.mode){case ad:if(n.wrap===0){n.mode=e1;break}for(;_<16;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}if(n.wrap&2&&m===35615){n.wbits===0&&(n.wbits=15),n.check=0,J[0]=m&255,J[1]=m>>>8&255,n.check=ta(n.check,J,2,0),m=0,_=0,n.mode=$g;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((m&255)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=Er;break}if((m&15)!==Jg){e.msg="unknown compression method",n.mode=Er;break}if(m>>>=4,_-=4,fe=(m&15)+8,n.wbits===0&&(n.wbits=fe),fe>15||fe>n.wbits){e.msg="invalid window size",n.mode=Er;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=m&512?am:ma,m=0,_=0;break;case $g:for(;_<16;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}if(n.flags=m,(n.flags&255)!==Jg){e.msg="unknown compression method",n.mode=Er;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Er;break}n.head&&(n.head.text=m>>8&1),n.flags&512&&n.wrap&4&&(J[0]=m&255,J[1]=m>>>8&255,n.check=ta(n.check,J,2,0)),m=0,_=0,n.mode=em;case em:for(;_<32;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}n.head&&(n.head.time=m),n.flags&512&&n.wrap&4&&(J[0]=m&255,J[1]=m>>>8&255,J[2]=m>>>16&255,J[3]=m>>>24&255,n.check=ta(n.check,J,4,0)),m=0,_=0,n.mode=tm;case tm:for(;_<16;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}n.head&&(n.head.xflags=m&255,n.head.os=m>>8),n.flags&512&&n.wrap&4&&(J[0]=m&255,J[1]=m>>>8&255,n.check=ta(n.check,J,2,0)),m=0,_=0,n.mode=nm;case nm:if(n.flags&1024){for(;_<16;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}n.length=m,n.head&&(n.head.extra_len=m),n.flags&512&&n.wrap&4&&(J[0]=m&255,J[1]=m>>>8&255,n.check=ta(n.check,J,2,0)),m=0,_=0}else n.head&&(n.head.extra=null);n.mode=rm;case rm:if(n.flags&1024&&(S=n.length,S>g&&(S=g),S&&(n.head&&(fe=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(a,a+S),fe)),n.flags&512&&n.wrap&4&&(n.check=ta(n.check,i,S,a)),g-=S,a+=S,n.length-=S),n.length))break e;n.length=0,n.mode=im;case im:if(n.flags&2048){if(g===0)break e;S=0;do fe=i[a+S++],n.head&&fe&&n.length<65536&&(n.head.name+=String.fromCharCode(fe));while(fe&&S<g);if(n.flags&512&&n.wrap&4&&(n.check=ta(n.check,i,S,a)),g-=S,a+=S,fe)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=om;case om:if(n.flags&4096){if(g===0)break e;S=0;do fe=i[a+S++],n.head&&fe&&n.length<65536&&(n.head.comment+=String.fromCharCode(fe));while(fe&&S<g);if(n.flags&512&&n.wrap&4&&(n.check=ta(n.check,i,S,a)),g-=S,a+=S,fe)break e}else n.head&&(n.head.comment=null);n.mode=sm;case sm:if(n.flags&512){for(;_<16;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}if(n.wrap&4&&m!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Er;break}m=0,_=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=ma;break;case am:for(;_<32;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}e.adler=n.check=xm(m),m=0,_=0,n.mode=Df;case Df:if(n.havedict===0)return e.next_out=d,e.avail_out=v,e.next_in=a,e.avail_in=g,n.hold=m,n.bits=_,v6;e.adler=n.check=1,n.mode=ma;case ma:if(t===g6||t===kh)break e;case e1:if(n.last){m>>>=_&7,_-=_&7,n.mode=n1;break}for(;_<3;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}switch(n.last=m&1,m>>>=1,_-=1,m&3){case 0:n.mode=lm;break;case 1:if(S6(n),n.mode=Rh,t===kh){m>>>=2,_-=2;break e}break;case 2:n.mode=cm;break;case 3:e.msg="invalid block type",n.mode=Er}m>>>=2,_-=2;break;case lm:for(m>>>=_&7,_-=_&7;_<32;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}if((m&65535)!==(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Er;break}if(n.length=m&65535,m=0,_=0,n.mode=t1,t===kh)break e;case t1:n.mode=um;case um:if(S=n.length,S){if(S>g&&(S=g),S>v&&(S=v),S===0)break e;s.set(i.subarray(a,a+S),d),g-=S,a+=S,v-=S,d+=S,n.length-=S;break}n.mode=ma;break;case cm:for(;_<14;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}if(n.nlen=(m&31)+257,m>>>=5,_-=5,n.ndist=(m&31)+1,m>>>=5,_-=5,n.ncode=(m&15)+4,m>>>=4,_-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Er;break}n.have=0,n.mode=hm;case hm:for(;n.have<n.ncode;){for(;_<3;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}n.lens[$[n.have++]]=m&7,m>>>=3,_-=3}for(;n.have<19;)n.lens[$[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,be={bits:n.lenbits},de=Cc(p6,n.lens,0,19,n.lencode,0,n.work,be),n.lenbits=be.bits,de){e.msg="invalid code lengths set",n.mode=Er;break}n.have=0,n.mode=fm;case fm:for(;n.have<n.nlen+n.ndist;){for(;q=n.lencode[m&(1<<n.lenbits)-1],M=q>>>24,B=q>>>16&255,F=q&65535,!(M<=_);){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}if(F<16)m>>>=M,_-=M,n.lens[n.have++]=F;else{if(F===16){for(K=M+2;_<K;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}if(m>>>=M,_-=M,n.have===0){e.msg="invalid bit length repeat",n.mode=Er;break}fe=n.lens[n.have-1],S=3+(m&3),m>>>=2,_-=2}else if(F===17){for(K=M+3;_<K;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}m>>>=M,_-=M,fe=0,S=3+(m&7),m>>>=3,_-=3}else{for(K=M+7;_<K;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}m>>>=M,_-=M,fe=0,S=11+(m&127),m>>>=7,_-=7}if(n.have+S>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Er;break}for(;S--;)n.lens[n.have++]=fe}}if(n.mode===Er)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Er;break}if(n.lenbits=9,be={bits:n.lenbits},de=Cc(aw,n.lens,0,n.nlen,n.lencode,0,n.work,be),n.lenbits=be.bits,de){e.msg="invalid literal/lengths set",n.mode=Er;break}if(n.distbits=6,n.distcode=n.distdyn,be={bits:n.distbits},de=Cc(lw,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,be),n.distbits=be.bits,de){e.msg="invalid distances set",n.mode=Er;break}if(n.mode=Rh,t===kh)break e;case Rh:n.mode=Dh;case Dh:if(g>=6&&v>=258){e.next_out=d,e.avail_out=v,e.next_in=a,e.avail_in=g,n.hold=m,n.bits=_,l6(e,P),d=e.next_out,s=e.output,v=e.avail_out,a=e.next_in,i=e.input,g=e.avail_in,m=n.hold,_=n.bits,n.mode===ma&&(n.back=-1);break}for(n.back=0;q=n.lencode[m&(1<<n.lenbits)-1],M=q>>>24,B=q>>>16&255,F=q&65535,!(M<=_);){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}if(B&&!(B&240)){for(Z=M,ye=B,Se=F;q=n.lencode[Se+((m&(1<<Z+ye)-1)>>Z)],M=q>>>24,B=q>>>16&255,F=q&65535,!(Z+M<=_);){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}m>>>=Z,_-=Z,n.back+=Z}if(m>>>=M,_-=M,n.back+=M,n.length=F,B===0){n.mode=vm;break}if(B&32){n.back=-1,n.mode=ma;break}if(B&64){e.msg="invalid literal/length code",n.mode=Er;break}n.extra=B&15,n.mode=dm;case dm:if(n.extra){for(K=n.extra;_<K;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,_-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=pm;case pm:for(;q=n.distcode[m&(1<<n.distbits)-1],M=q>>>24,B=q>>>16&255,F=q&65535,!(M<=_);){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}if(!(B&240)){for(Z=M,ye=B,Se=F;q=n.distcode[Se+((m&(1<<Z+ye)-1)>>Z)],M=q>>>24,B=q>>>16&255,F=q&65535,!(Z+M<=_);){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}m>>>=Z,_-=Z,n.back+=Z}if(m>>>=M,_-=M,n.back+=M,B&64){e.msg="invalid distance code",n.mode=Er;break}n.offset=F,n.extra=B&15,n.mode=gm;case gm:if(n.extra){for(K=n.extra;_<K;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,_-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Er;break}n.mode=mm;case mm:if(v===0)break e;if(S=P-v,n.offset>S){if(S=n.offset-S,S>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Er;break}S>n.wnext?(S-=n.wnext,j=n.wsize-S):j=n.wnext-S,S>n.length&&(S=n.length),D=n.window}else D=s,j=d-n.offset,S=n.length;S>v&&(S=v),v-=S,n.length-=S;do s[d++]=D[j++];while(--S);n.length===0&&(n.mode=Dh);break;case vm:if(v===0)break e;s[d++]=n.length,v--,n.mode=Dh;break;case n1:if(n.wrap){for(;_<32;){if(g===0)break e;g--,m|=i[a++]<<_,_+=8}if(P-=v,e.total_out+=P,n.total+=P,n.wrap&4&&P&&(e.adler=n.check=n.flags?ta(n.check,s,P,d-P):E0(n.check,s,P,d-P)),P=v,n.wrap&4&&(n.flags?m:xm(m))!==n.check){e.msg="incorrect data check",n.mode=Er;break}m=0,_=0}n.mode=ym;case ym:if(n.wrap&&n.flags){for(;_<32;){if(g===0)break e;g--,m+=i[a++]<<_,_+=8}if(n.wrap&4&&m!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Er;break}m=0,_=0}n.mode=wm;case wm:de=m6;break e;case Er:de=uw;break e;case hw:return cw;case fw:default:return Ss}return e.next_out=d,e.avail_out=v,e.next_in=a,e.avail_in=g,n.hold=m,n.bits=_,(n.wsize||P!==e.avail_out&&n.mode<Er&&(n.mode<n1||t!==Qg))&&vw(e,e.output,e.next_out,P-e.avail_out),C-=e.avail_in,P-=e.avail_out,e.total_in+=C,e.total_out+=P,n.total+=P,n.wrap&4&&P&&(e.adler=n.check=n.flags?ta(n.check,s,P,e.next_out-P):E0(n.check,s,P,e.next_out-P)),e.data_type=n.bits+(n.last?64:0)+(n.mode===ma?128:0)+(n.mode===Rh||n.mode===t1?256:0),(C===0&&P===0||t===Qg)&&de===Bl&&(de=y6),de},N6=e=>{if(Ul(e))return Ss;let t=e.state;return t.window&&(t.window=null),e.state=null,Bl},I6=(e,t)=>{if(Ul(e))return Ss;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,Bl):Ss},T6=(e,t)=>{const n=t.length;let i,s,a;return Ul(e)||(i=e.state,i.wrap!==0&&i.mode!==Df)?Ss:i.mode===Df&&(s=1,s=E0(s,t,n,0),s!==i.check)?uw:(a=vw(e,t,n,n),a?(i.mode=hw,cw):(i.havedict=1,Bl))};var L6=pw,P6=gw,M6=dw,O6=C6,k6=mw,R6=E6,D6=N6,B6=I6,F6=T6,j6="pako inflate (from Nodeca project)",xa={inflateReset:L6,inflateReset2:P6,inflateResetKeep:M6,inflateInit:O6,inflateInit2:k6,inflate:R6,inflateEnd:D6,inflateGetHeader:B6,inflateSetDictionary:F6,inflateInfo:j6};function z6(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var U6=z6;const yw=Object.prototype.toString,{Z_NO_FLUSH:H6,Z_FINISH:W6,Z_OK:Gc,Z_STREAM_END:o1,Z_NEED_DICT:s1,Z_STREAM_ERROR:V6,Z_DATA_ERROR:Am,Z_MEM_ERROR:q6}=iw;function eh(e){this.options=ow.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s6,this.strm.avail_out=0;let n=xa.inflateInit2(this.strm,t.windowBits);if(n!==Gc)throw new Error(N0[n]);if(this.header=new U6,xa.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=I0.string2buf(t.dictionary):yw.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=xa.inflateSetDictionary(this.strm,t.dictionary),n!==Gc)))throw new Error(N0[n])}eh.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let a,d,g;if(this.ended)return!1;for(t===~~t?d=t:d=t===!0?W6:H6,yw.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),a=xa.inflate(n,d),a===s1&&s&&(a=xa.inflateSetDictionary(n,s),a===Gc?a=xa.inflate(n,d):a===Am&&(a=s1));n.avail_in>0&&a===o1&&n.state.wrap>0&&e[n.next_in]!==0;)xa.inflateReset(n),a=xa.inflate(n,d);switch(a){case V6:case Am:case s1:case q6:return this.onEnd(a),this.ended=!0,!1}if(g=n.avail_out,n.next_out&&(n.avail_out===0||a===o1))if(this.options.to==="string"){let v=I0.utf8border(n.output,n.next_out),m=n.next_out-v,_=I0.buf2string(n.output,v);n.next_out=m,n.avail_out=i-m,m&&n.output.set(n.output.subarray(v,v+m),0),this.onData(_)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Gc&&g===0)){if(a===o1)return a=xa.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};eh.prototype.onData=function(e){this.chunks.push(e)};eh.prototype.onEnd=function(e){e===Gc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ow.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function G6(e,t){const n=new eh(t);if(n.push(e),n.err)throw n.msg||N0[n.err];return n.result}var Z6=eh,Y6=G6,X6={Inflate:Z6,inflate:Y6};const{Inflate:K6,inflate:Q6}=X6;var bm=K6,J6=Q6;const ww=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;ww[e]=t}const Cm=4294967295;function $6(e,t,n){let i=e;for(let s=0;s<n;s++)i=ww[(i^t[s])&255]^i>>>8;return i}function eb(e,t){return($6(Cm,e,t)^Cm)>>>0}function Sm(e,t,n){const i=e.readUint32(),s=eb(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${s}`)}function xw(e,t,n){for(let i=0;i<n;i++)t[i]=e[i]}function _w(e,t,n,i){let s=0;for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-i]&255}function Aw(e,t,n,i){let s=0;if(n.length===0)for(;s<i;s++)t[s]=e[s];else for(;s<i;s++)t[s]=e[s]+n[s]&255}function bw(e,t,n,i,s){let a=0;if(n.length===0){for(;a<s;a++)t[a]=e[a];for(;a<i;a++)t[a]=e[a]+(t[a-s]>>1)&255}else{for(;a<s;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<i;a++)t[a]=e[a]+(t[a-s]+n[a]>>1)&255}}function Cw(e,t,n,i,s){let a=0;if(n.length===0){for(;a<s;a++)t[a]=e[a];for(;a<i;a++)t[a]=e[a]+t[a-s]&255}else{for(;a<s;a++)t[a]=e[a]+n[a]&255;for(;a<i;a++)t[a]=e[a]+tb(t[a-s],n[a],n[a-s])&255}}function tb(e,t,n){const i=e+t-n,s=Math.abs(i-e),a=Math.abs(i-t),d=Math.abs(i-n);return s<=a&&s<=d?e:a<=d?t:n}function nb(e,t,n,i,s,a){switch(e){case 0:xw(t,n,s);break;case 1:_w(t,n,s,a);break;case 2:Aw(t,n,i,s);break;case 3:bw(t,n,i,s,a);break;case 4:Cw(t,n,i,s,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const rb=new Uint16Array([255]),ib=new Uint8Array(rb.buffer),ob=ib[0]===255;function sb(e){const{data:t,width:n,height:i,channels:s,depth:a}=e,d=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],g=Math.ceil(a/8)*s,v=new Uint8Array(i*n*g);let m=0;for(let _=0;_<7;_++){const C=d[_],P=Math.ceil((n-C.x)/C.xStep),S=Math.ceil((i-C.y)/C.yStep);if(P<=0||S<=0)continue;const j=P*g,D=new Uint8Array(j);for(let q=0;q<S;q++){const M=t[m++],B=t.subarray(m,m+j);m+=j;const F=new Uint8Array(j);nb(M,B,F,D,j,g),D.set(F);for(let Z=0;Z<P;Z++){const ye=C.x+Z*C.xStep,Se=C.y+q*C.yStep;if(!(ye>=n||Se>=i))for(let fe=0;fe<g;fe++)v[(Se*n+ye)*g+fe]=F[Z*g+fe]}}}if(a===16){const _=new Uint16Array(v.buffer);if(ob)for(let C=0;C<_.length;C++)_[C]=ab(_[C]);return _}else return v}function ab(e){return(e&255)<<8|e>>8&255}const lb=new Uint16Array([255]),ub=new Uint8Array(lb.buffer),cb=ub[0]===255,hb=new Uint8Array(0);function Em(e){const{data:t,width:n,height:i,channels:s,depth:a}=e,d=Math.ceil(a/8)*s,g=Math.ceil(a/8*s*n),v=new Uint8Array(i*g);let m=hb,_=0,C,P;for(let S=0;S<i;S++){switch(C=t.subarray(_+1,_+1+g),P=v.subarray(S*g,(S+1)*g),t[_]){case 0:xw(C,P,g);break;case 1:_w(C,P,g,d);break;case 2:Aw(C,P,m,g);break;case 3:bw(C,P,m,g,d);break;case 4:Cw(C,P,m,g,d);break;default:throw new Error(`Unsupported filter: ${t[_]}`)}m=P,_+=g+1}if(a===16){const S=new Uint16Array(v.buffer);if(cb)for(let j=0;j<S.length;j++)S[j]=fb(S[j]);return S}else return v}function fb(e){return(e&255)<<8|e>>8&255}const tf=Uint8Array.of(137,80,78,71,13,10,26,10);function Nm(e){if(!db(e.readBytes(tf.length)))throw new Error("wrong PNG signature")}function db(e){if(e.length<tf.length)return!1;for(let t=0;t<tf.length;t++)if(e[t]!==tf[t])return!1;return!0}const pb="tEXt",gb=0,Sw=new TextDecoder("latin1");function mb(e){if(yb(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const vb=/^[\u0000-\u00FF]*$/;function yb(e){if(!vb.test(e))throw new Error("invalid latin1 text")}function wb(e,t,n){const i=Ew(t);e[i]=xb(t,n-i.length-1)}function Ew(e){for(e.mark();e.readByte()!==gb;);const t=e.offset;e.reset();const n=Sw.decode(e.readBytes(t-e.offset-1));return e.skip(1),mb(n),n}function xb(e,t){return Sw.decode(e.readBytes(t))}const ns={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},a1={UNKNOWN:-1,DEFLATE:0},Im={UNKNOWN:-1,ADAPTIVE:0},l1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Bh={NONE:0,BACKGROUND:1,PREVIOUS:2},u1={SOURCE:0,OVER:1};class _b extends Hp{constructor(n,i={}){super(n);Hn(this,"_checkCrc");Hn(this,"_inflator");Hn(this,"_png");Hn(this,"_apng");Hn(this,"_end");Hn(this,"_hasPalette");Hn(this,"_palette");Hn(this,"_hasTransparency");Hn(this,"_transparency");Hn(this,"_compressionMethod");Hn(this,"_filterMethod");Hn(this,"_interlaceMethod");Hn(this,"_colorType");Hn(this,"_isAnimated");Hn(this,"_numberOfFrames");Hn(this,"_numberOfPlays");Hn(this,"_frames");Hn(this,"_writingDataChunks");const{checkCrc:s=!1}=i;this._checkCrc=s,this._inflator=new bm,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=a1.UNKNOWN,this._filterMethod=Im.UNKNOWN,this._interlaceMethod=l1.UNKNOWN,this._colorType=ns.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Nm(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeChunk(n,i)}return this.decodeImage(),this._png}decodeApng(){for(Nm(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(n,i)}return this.decodeApngImage(),this._apng}decodeChunk(n,i){const s=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case pb:wb(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?Sm(this,n+4,i):this.skip(4)}decodeApngChunk(n,i){const s=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,i),this.offset=s+n;break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?Sm(this,n+4,i):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Ab(this.readUint8());const i=this.readUint8();this._colorType=i;let s;switch(i){case ns.GREYSCALE:s=1;break;case ns.TRUECOLOUR:s=3;break;case ns.INDEXED_COLOUR:s=1;break;case ns.GREYSCALE_ALPHA:s=2;break;case ns.TRUECOLOUR_ALPHA:s=4;break;case ns.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==a1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const i=n/3;this._hasPalette=!0;const s=[];this._palette=s;for(let a=0;a<i;a++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const i=n,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let i=n,s=this.offset+this.byteOffset;if(s+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,s,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case ns.GREYSCALE:case ns.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let i=0;i<n/2;i++)this._transparency[i]=this.readUint16();break}case ns.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let i=0;for(;i<n;i++){const s=this.readByte();this._palette[i].push(s)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case ns.UNKNOWN:case ns.GREYSCALE_ALPHA:case ns.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const i=Ew(this),s=this.readUint8();if(s!==a1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const a=this.readBytes(n-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:J6(a)}}decodepHYs(){const n=this.readUint32(),i=this.readUint32(),s=this.readByte();this._png.resolution={x:n,y:i,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const i={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(n);if(s){if(s.data=Em({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)i.data=s.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(s,a,i),this.addFrameDataToCanvas(i,s)}this._apng.frames.push(i)}}return this._apng}disposeFrame(n,i,s){switch(n.disposeOp){case Bh.NONE:break;case Bh.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let d=0;d<this._png.width;d++){const g=(a*n.width+d)*this._png.channels;for(let v=0;v<this._png.channels;v++)s.data[g+v]=0}break;case Bh.PREVIOUS:s.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,i){const s=1<<this._png.depth,a=(d,g)=>{const v=((d+i.yOffset)*this._png.width+i.xOffset+g)*this._png.channels,m=(d*i.width+g)*this._png.channels;return{index:v,frameIndex:m}};switch(i.blendOp){case u1.SOURCE:for(let d=0;d<i.height;d++)for(let g=0;g<i.width;g++){const{index:v,frameIndex:m}=a(d,g);for(let _=0;_<this._png.channels;_++)n.data[v+_]=i.data[m+_]}break;case u1.OVER:for(let d=0;d<i.height;d++)for(let g=0;g<i.width;g++){const{index:v,frameIndex:m}=a(d,g);for(let _=0;_<this._png.channels;_++){const C=i.data[m+this._png.channels-1]/s,P=_%(this._png.channels-1)===0?1:i.data[m+_],S=Math.floor(C*P+(1-C)*n.data[v+_]);n.data[v+_]+=S}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==Im.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===l1.NO_INTERLACE)this._png.data=Em({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===l1.ADAM7)this._png.data=sb({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,i=this._frames.at(-1);i?i.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Bh.NONE,blendOp:u1.SOURCE,data:n}),this._inflator=new bm,this._writingDataChunks=!1}}function Ab(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var Tm;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(Tm||(Tm={}));function bb(e,t){return new _b(e,t).decode()}var cn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function c1(){cn.console&&typeof cn.console.log=="function"&&cn.console.log.apply(cn.console,arguments)}var fr={log:c1,warn:function(e){cn.console&&(typeof cn.console.warn=="function"?cn.console.warn.apply(cn.console,arguments):c1.call(null,arguments))},error:function(e){cn.console&&(typeof cn.console.error=="function"?cn.console.error.apply(cn.console,arguments):c1(e))}};function h1(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){Al(i.response,t,n)},i.onerror=function(){fr.error("could not download file")},i.send()}function Lm(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Fh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Al=cn.saveAs||((typeof window>"u"?"undefined":ir(window))!=="object"||window!==cn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=cn.URL||cn.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?Lm(s.href)?h1(e,t,n):Fh(s,s.target="_blank"):Fh(s)):(s.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){Fh(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(Lm(e))h1(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){Fh(i)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:ir(a)!=="object"&&(fr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return h1(e,t,n);var s=e.type==="application/octet-stream",a=/constructor/i.test(cn.HTMLElement)||cn.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||s&&a)&&(typeof FileReader>"u"?"undefined":ir(FileReader))==="object"){var g=new FileReader;g.onloadend=function(){var _=g.result;_=d?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=_:location=_,i=null},g.readAsDataURL(e)}else{var v=cn.URL||cn.webkitURL,m=v.createObjectURL(e);i?i.location=m:location.href=m,i=null,setTimeout(function(){v.revokeObjectURL(m)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Nw(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(g){return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(g){return[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(g){return[parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16)]}}],i=0;i<n.length;i++){var s=n[i].re,a=n[i].process,d=s.exec(e);d&&(t=a(d),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var g=this.r.toString(16),v=this.g.toString(16),m=this.b.toString(16);return g.length==1&&(g="0"+g),v.length==1&&(v="0"+v),m.length==1&&(m="0"+m),"#"+g+v+m}}var nf=cn.atob.bind(cn),Pm=cn.btoa.bind(cn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function f1(e,t){var n=e[0],i=e[1],s=e[2],a=e[3];n=no(n,i,s,a,t[0],7,-680876936),a=no(a,n,i,s,t[1],12,-389564586),s=no(s,a,n,i,t[2],17,606105819),i=no(i,s,a,n,t[3],22,-1044525330),n=no(n,i,s,a,t[4],7,-176418897),a=no(a,n,i,s,t[5],12,1200080426),s=no(s,a,n,i,t[6],17,-1473231341),i=no(i,s,a,n,t[7],22,-45705983),n=no(n,i,s,a,t[8],7,1770035416),a=no(a,n,i,s,t[9],12,-1958414417),s=no(s,a,n,i,t[10],17,-42063),i=no(i,s,a,n,t[11],22,-1990404162),n=no(n,i,s,a,t[12],7,1804603682),a=no(a,n,i,s,t[13],12,-40341101),s=no(s,a,n,i,t[14],17,-1502002290),n=ro(n,i=no(i,s,a,n,t[15],22,1236535329),s,a,t[1],5,-165796510),a=ro(a,n,i,s,t[6],9,-1069501632),s=ro(s,a,n,i,t[11],14,643717713),i=ro(i,s,a,n,t[0],20,-373897302),n=ro(n,i,s,a,t[5],5,-701558691),a=ro(a,n,i,s,t[10],9,38016083),s=ro(s,a,n,i,t[15],14,-660478335),i=ro(i,s,a,n,t[4],20,-405537848),n=ro(n,i,s,a,t[9],5,568446438),a=ro(a,n,i,s,t[14],9,-1019803690),s=ro(s,a,n,i,t[3],14,-187363961),i=ro(i,s,a,n,t[8],20,1163531501),n=ro(n,i,s,a,t[13],5,-1444681467),a=ro(a,n,i,s,t[2],9,-51403784),s=ro(s,a,n,i,t[7],14,1735328473),n=io(n,i=ro(i,s,a,n,t[12],20,-1926607734),s,a,t[5],4,-378558),a=io(a,n,i,s,t[8],11,-2022574463),s=io(s,a,n,i,t[11],16,1839030562),i=io(i,s,a,n,t[14],23,-35309556),n=io(n,i,s,a,t[1],4,-1530992060),a=io(a,n,i,s,t[4],11,1272893353),s=io(s,a,n,i,t[7],16,-155497632),i=io(i,s,a,n,t[10],23,-1094730640),n=io(n,i,s,a,t[13],4,681279174),a=io(a,n,i,s,t[0],11,-358537222),s=io(s,a,n,i,t[3],16,-722521979),i=io(i,s,a,n,t[6],23,76029189),n=io(n,i,s,a,t[9],4,-640364487),a=io(a,n,i,s,t[12],11,-421815835),s=io(s,a,n,i,t[15],16,530742520),n=oo(n,i=io(i,s,a,n,t[2],23,-995338651),s,a,t[0],6,-198630844),a=oo(a,n,i,s,t[7],10,1126891415),s=oo(s,a,n,i,t[14],15,-1416354905),i=oo(i,s,a,n,t[5],21,-57434055),n=oo(n,i,s,a,t[12],6,1700485571),a=oo(a,n,i,s,t[3],10,-1894986606),s=oo(s,a,n,i,t[10],15,-1051523),i=oo(i,s,a,n,t[1],21,-2054922799),n=oo(n,i,s,a,t[8],6,1873313359),a=oo(a,n,i,s,t[15],10,-30611744),s=oo(s,a,n,i,t[6],15,-1560198380),i=oo(i,s,a,n,t[13],21,1309151649),n=oo(n,i,s,a,t[4],6,-145523070),a=oo(a,n,i,s,t[11],10,-1120210379),s=oo(s,a,n,i,t[2],15,718787259),i=oo(i,s,a,n,t[9],21,-343485551),e[0]=Ja(n,e[0]),e[1]=Ja(i,e[1]),e[2]=Ja(s,e[2]),e[3]=Ja(a,e[3])}function ld(e,t,n,i,s,a){return t=Ja(Ja(t,e),Ja(i,a)),Ja(t<<s|t>>>32-s,n)}function no(e,t,n,i,s,a,d){return ld(t&n|~t&i,e,t,s,a,d)}function ro(e,t,n,i,s,a,d){return ld(t&i|n&~i,e,t,s,a,d)}function io(e,t,n,i,s,a,d){return ld(t^n^i,e,t,s,a,d)}function oo(e,t,n,i,s,a,d){return ld(n^(t|~i),e,t,s,a,d)}function Iw(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)f1(i,Cb(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(f1(i,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,f1(i,s),i}function Cb(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var Mm="0123456789abcdef".split("");function Sb(e){for(var t="",n=0;n<4;n++)t+=Mm[e>>8*n+4&15]+Mm[e>>8*n&15];return t}function Eb(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function T0(e){return Iw(e).map(Eb).join("")}var Nb=function(e){for(var t=0;t<e.length;t++)e[t]=Sb(e[t]);return e.join("")}(Iw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ja(e,t){if(Nb){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function L0(e,t){var n,i,s,a;if(e!==n){for(var d=(s=e,a=1+(256/e.length|0),new Array(a+1).join(s)),g=[],v=0;v<256;v++)g[v]=v;var m=0;for(v=0;v<256;v++){var _=g[v];m=(m+_+d.charCodeAt(v))%256,g[v]=g[m],g[m]=_}n=e,i=g}else g=i;var C=t.length,P=0,S=0,j="";for(v=0;v<C;v++)S=(S+(_=g[P=(P+1)%256]))%256,g[P]=g[S],g[S]=_,d=g[(g[P]+g[S])%256],j+=String.fromCharCode(t.charCodeAt(v)^d);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Om={print:4,modify:8,copy:16,"annot-forms":32};function nu(e,t,n,i){this.v=1,this.r=2;var s=192;e.forEach(function(g){if(Om.perm!==void 0)throw new Error("Invalid permission: "+g);s+=Om[g]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),d=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,d),this.P=-(1+(255^s)),this.encryptionKey=T0(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=L0(this.encryptionKey,this.padding)}function ru(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var s=e.charCodeAt(i);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[i]}return t}function km(e){if(ir(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,i,s){if(s=s||!1,typeof n!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[i,!!s],a},this.unsubscribe=function(n){for(var i in t)if(t[i][n])return delete t[i][n],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[n]){var d=t[n][a];try{d[0].apply(e,i)}catch(g){cn.console&&fr.error("jsPDF PubSub Error",g.message,g)}d[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Bf(e){if(!(this instanceof Bf))return new Bf(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Tw(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function bl(e,t,n,i,s){if(!(this instanceof bl))return new bl(e,t,n,i,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Tw.call(this,i,s)}function vu(e,t,n,i,s){if(!(this instanceof vu))return new vu(e,t,n,i,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Tw.call(this,i,s)}function qt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],a=arguments[3],d=[],g=1,v=16,m="S",_=null;ir(e=e||{})==="object"&&(n=e.orientation,i=e.unit||i,s=e.format||s,a=e.compress||e.compressPdf||a,(_=e.encryption||null)!==null&&(_.userPassword=_.userPassword||"",_.ownerPassword=_.ownerPassword||"",_.userPermissions=_.userPermissions||[]),g=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(v=e.floatPrecision),m=e.defaultPathOperation||"S"),d=e.filters||(a===!0?["FlateEncode"]:d),i=i||"mm",n=(""+(n||"P")).toLowerCase();var C=e.putOnlyUsedFonts||!1,P={},S={internal:{},__private__:{}};S.__private__.PubSub=km;var j="1.3",D=S.__private__.getPdfVersion=function(){return j};S.__private__.setPdfVersion=function(E){j=E};var q={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};S.__private__.getPageFormats=function(){return q};var M=S.__private__.getPageFormat=function(E){return q[E]};s=s||"a4";var B="compat",F="advanced",Z=B;function ye(){this.saveGraphicsState(),pe(new Ht($t,0,0,-$t,0,Ps()*$t).toString()+" cm"),this.setFontSize(this.getFontSize()/$t),m="n",Z=F}function Se(){this.restoreGraphicsState(),m="S",Z=B}var fe=S.__private__.combineFontStyleAndFontWeight=function(E,H){if(E=="bold"&&H=="normal"||E=="bold"&&H==400||E=="normal"&&H=="italic"||E=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(E=H==400||H==="normal"?E==="italic"?"italic":"normal":H!=700&&H!=="bold"||E!=="normal"?(H==700?"bold":H)+""+E:"bold"),E};S.advancedAPI=function(E){var H=Z===B;return H&&ye.call(this),typeof E!="function"||(E(this),H&&Se.call(this)),this},S.compatAPI=function(E){var H=Z===F;return H&&Se.call(this),typeof E!="function"||(E(this),H&&ye.call(this)),this},S.isAdvancedAPI=function(){return Z===F};var de,J=function(E){if(Z!==F)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},be=S.roundToPrecision=S.__private__.roundToPrecision=function(E,H){var re=t||H;if(isNaN(E)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(re).replace(/0+$/,"")};de=S.hpf=S.__private__.hpf=typeof v=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return be(E,v)}:v==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return be(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return be(E,16)};var K=S.f2=S.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return be(E,2)},$=S.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return be(E,3)},ge=S.scale=S.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return Z===B?E*$t:Z===F?E:void 0},me=function(E){return ge(function(H){return Z===B?Ps()-H:Z===F?H:void 0}(E))};S.__private__.setPrecision=S.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(t=parseInt(E,10))};var ce,Be="00000000000000000000000000000000",Le=S.__private__.getFileId=function(){return Be},he=S.__private__.setFileId=function(E){return Be=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():Be.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),_!==null&&(jn=new nu(_.userPermissions,_.userPassword,_.ownerPassword,Be)),Be};S.setFileId=function(E){return he(E),this},S.getFileId=function(){return Le()};var Pe=S.__private__.convertDateToPDFDate=function(E){var H=E.getTimezoneOffset(),re=H<0?"+":"-",_e=Math.floor(Math.abs(H/60)),Ne=Math.abs(H%60),Xe=[re,se(_e),"'",se(Ne),"'"].join("");return["D:",E.getFullYear(),se(E.getMonth()+1),se(E.getDate()),se(E.getHours()),se(E.getMinutes()),se(E.getSeconds()),Xe].join("")},Ie=S.__private__.convertPDFDateToDate=function(E){var H=parseInt(E.substr(2,4),10),re=parseInt(E.substr(6,2),10)-1,_e=parseInt(E.substr(8,2),10),Ne=parseInt(E.substr(10,2),10),Xe=parseInt(E.substr(12,2),10),at=parseInt(E.substr(14,2),10);return new Date(H,re,_e,Ne,Xe,at,0)},He=S.__private__.setCreationDate=function(E){var H;if(E===void 0&&(E=new Date),E instanceof Date)H=Pe(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=E}return ce=H},V=S.__private__.getCreationDate=function(E){var H=ce;return E==="jsDate"&&(H=Ie(ce)),H};S.setCreationDate=function(E){return He(E),this},S.getCreationDate=function(E){return V(E)};var oe,se=S.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},ve=S.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},ue=0,Me=[],Fe=[],Ve=0,Je=[],ot=[],gt=!1,ut=Fe;S.__private__.setCustomOutputDestination=function(E){gt=!0,ut=E};var Ye=function(E){gt||(ut=E)};S.__private__.resetCustomOutputDestination=function(){gt=!1,ut=Fe};var pe=S.__private__.out=function(E){return E=E.toString(),Ve+=E.length+1,ut.push(E),ut},fn=S.__private__.write=function(E){return pe(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},Ot=S.__private__.getArrayBuffer=function(E){for(var H=E.length,re=new ArrayBuffer(H),_e=new Uint8Array(re);H--;)_e[H]=E.charCodeAt(H);return re},pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];S.__private__.getStandardFonts=function(){return pt};var Ke=e.fontSize||16;S.__private__.setFontSize=S.setFontSize=function(E){return Ke=Z===F?E/$t:E,this};var kt,Ze=S.__private__.getFontSize=S.getFontSize=function(){return Z===B?Ke:Ke*$t},nn=e.R2L||!1;S.__private__.setR2L=S.setR2L=function(E){return nn=E,this},S.__private__.getR2L=S.getR2L=function(){return nn};var zt,vn=S.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))kt=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');kt=E}else kt=parseInt(E,10)};S.__private__.getZoomMode=function(){return kt};var sn,Ut=S.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');zt=E};S.__private__.getPageMode=function(){return zt};var Rn=S.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');sn=E};S.__private__.getLayoutMode=function(){return sn},S.__private__.setDisplayMode=S.setDisplayMode=function(E,H,re){return vn(E),Rn(H),Ut(re),this};var Xt={title:"",subject:"",author:"",keywords:"",creator:""};S.__private__.getDocumentProperty=function(E){if(Object.keys(Xt).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xt[E]},S.__private__.getDocumentProperties=function(){return Xt},S.__private__.setDocumentProperties=S.setProperties=S.setDocumentProperties=function(E){for(var H in Xt)Xt.hasOwnProperty(H)&&E[H]&&(Xt[H]=E[H]);return this},S.__private__.setDocumentProperty=function(E,H){if(Object.keys(Xt).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xt[E]=H};var Ct,$t,Dt,Kn,Zt,Ge={},Tt={},Gt=[],xt={},yn={},an={},lr={},Kt=null,Tn=0,rn=[],Mn=new km(S),Xr=e.hotfixes||[],Fr={},sr={},pi=[],Ht=function E(H,re,_e,Ne,Xe,at){if(!(this instanceof E))return new E(H,re,_e,Ne,Xe,at);isNaN(H)&&(H=1),isNaN(re)&&(re=0),isNaN(_e)&&(_e=0),isNaN(Ne)&&(Ne=1),isNaN(Xe)&&(Xe=0),isNaN(at)&&(at=0),this._matrix=[H,re,_e,Ne,Xe,at]};Object.defineProperty(Ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ht.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(de).join(E)},Ht.prototype.multiply=function(E){var H=E.sx*this.sx+E.shy*this.shx,re=E.sx*this.shy+E.shy*this.sy,_e=E.shx*this.sx+E.sy*this.shx,Ne=E.shx*this.shy+E.sy*this.sy,Xe=E.tx*this.sx+E.ty*this.shx+this.tx,at=E.tx*this.shy+E.ty*this.sy+this.ty;return new Ht(H,re,_e,Ne,Xe,at)},Ht.prototype.decompose=function(){var E=this.sx,H=this.shy,re=this.shx,_e=this.sy,Ne=this.tx,Xe=this.ty,at=Math.sqrt(E*E+H*H),Et=(E/=at)*re+(H/=at)*_e;re-=E*Et,_e-=H*Et;var vt=Math.sqrt(re*re+_e*_e);return Et/=vt,E*(_e/=vt)<H*(re/=vt)&&(E=-E,H=-H,Et=-Et,at=-at),{scale:new Ht(at,0,0,vt,0,0),translate:new Ht(1,0,0,1,Ne,Xe),rotate:new Ht(E,H,-H,E,0,0),skew:new Ht(1,0,Et,1,0,0)}},Ht.prototype.toString=function(E){return this.join(" ")},Ht.prototype.inversed=function(){var E=this.sx,H=this.shy,re=this.shx,_e=this.sy,Ne=this.tx,Xe=this.ty,at=1/(E*_e-H*re),Et=_e*at,vt=-H*at,tn=-re*at,Nt=E*at;return new Ht(Et,vt,tn,Nt,-Et*Ne-tn*Xe,-vt*Ne-Nt*Xe)},Ht.prototype.applyToPoint=function(E){var H=E.x*this.sx+E.y*this.shx+this.tx,re=E.x*this.shy+E.y*this.sy+this.ty;return new br(H,re)},Ht.prototype.applyToRectangle=function(E){var H=this.applyToPoint(E),re=this.applyToPoint(new br(E.x+E.w,E.y+E.h));return new Ts(H.x,H.y,re.x-H.x,re.y-H.y)},Ht.prototype.clone=function(){var E=this.sx,H=this.shy,re=this.shx,_e=this.sy,Ne=this.tx,Xe=this.ty;return new Ht(E,H,re,_e,Ne,Xe)},S.Matrix=Ht;var jr=S.matrixMult=function(E,H){return H.multiply(E)},Fo=new Ht(1,0,0,1,0,0);S.unitMatrix=S.identityMatrix=Fo;var zr=function(E,H){if(!yn[E]){var re=(H instanceof bl?"Sh":"P")+(Object.keys(xt).length+1).toString(10);H.id=re,yn[E]=re,xt[re]=H,Mn.publish("addPattern",H)}};S.ShadingPattern=bl,S.TilingPattern=vu,S.addShadingPattern=function(E,H){return J("addShadingPattern()"),zr(E,H),this},S.beginTilingPattern=function(E){J("beginTilingPattern()"),Qs(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},S.endTilingPattern=function(E,H){J("endTilingPattern()"),H.stream=ot[oe].join(`
`),zr(E,H),Mn.publish("endTilingPattern",H),pi.pop().restore()};var Ci,un=S.__private__.newObject=function(){var E=mt();return Bn(E,!0),E},mt=S.__private__.newObjectDeferred=function(){return ue++,Me[ue]=function(){return Ve},ue},Bn=function(E,H){return H=typeof H=="boolean"&&H,Me[E]=Ve,H&&pe(E+" 0 obj"),E},At=S.__private__.newAdditionalObject=function(){var E={objId:mt(),content:""};return Je.push(E),E},Si=mt(),Ei=mt(),Jn=S.__private__.decodeColorString=function(E){var H=E.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length!==5||H[4]!=="k"&&H[4]!=="K"||(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var re=parseFloat(H[0]);H=[re,re,re,"r"]}for(var _e="#",Ne=0;Ne<3;Ne++)_e+=("0"+Math.floor(255*parseFloat(H[Ne])).toString(16)).slice(-2);return _e},Kr=S.__private__.encodeColorString=function(E){var H;typeof E=="string"&&(E={ch1:E});var re=E.ch1,_e=E.ch2,Ne=E.ch3,Xe=E.ch4,at=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var Et=new Nw(re);if(Et.ok)re=Et.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var vt=parseInt(re.substr(1),16);re=vt>>16&255,_e=vt>>8&255,Ne=255&vt}if(_e===void 0||Xe===void 0&&re===_e&&_e===Ne)H=typeof re=="string"?re+" "+at[0]:E.precision===2?K(re/255)+" "+at[0]:$(re/255)+" "+at[0];else if(Xe===void 0||ir(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return["1.","1.","1.",at[1]].join(" ");H=typeof re=="string"?[re,_e,Ne,at[1]].join(" "):E.precision===2?[K(re/255),K(_e/255),K(Ne/255),at[1]].join(" "):[$(re/255),$(_e/255),$(Ne/255),at[1]].join(" ")}else H=typeof re=="string"?[re,_e,Ne,Xe,at[2]].join(" "):E.precision===2?[K(re),K(_e),K(Ne),K(Xe),at[2]].join(" "):[$(re),$(_e),$(Ne),$(Xe),at[2]].join(" ");return H},Ir=S.__private__.getFilters=function(){return d},ui=S.__private__.putStream=function(E){var H=(E=E||{}).data||"",re=E.filters||Ir(),_e=E.alreadyAppliedFilters||[],Ne=E.addLength1||!1,Xe=H.length,at=E.objectId,Et=function(Pr){return Pr};if(_!==null&&at===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");_!==null&&(Et=jn.encryptor(at,0));var vt={};re===!0&&(re=["FlateEncode"]);var tn=E.additionalKeyValues||[],Nt=(vt=qt.API.processDataByFilters!==void 0?qt.API.processDataByFilters(H,re):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(_e)?_e.join(" "):_e.toString());if(vt.data.length!==0&&(tn.push({key:"Length",value:vt.data.length}),Ne===!0&&tn.push({key:"Length1",value:Xe})),Nt.length!=0)if(Nt.split("/").length-1==1)tn.push({key:"Filter",value:Nt});else{tn.push({key:"Filter",value:"["+Nt+"]"});for(var In=0;In<tn.length;In+=1)if(tn[In].key==="DecodeParms"){for(var zn=[],on=0;on<vt.reverseChain.split("/").length-1;on+=1)zn.push("null");zn.push(tn[In].value),tn[In].value="["+zn.join(" ")+"]"}}pe("<<");for(var yt=0;yt<tn.length;yt++)pe("/"+tn[yt].key+" "+tn[yt].value);pe(">>"),vt.data.length!==0&&(pe("stream"),pe(Et(vt.data)),pe("endstream"))},ci=S.__private__.putPage=function(E){var H=E.number,re=E.data,_e=E.objId,Ne=E.contentsObjId;Bn(_e,!0),pe("<</Type /Page"),pe("/Parent "+E.rootDictionaryObjId+" 0 R"),pe("/Resources "+E.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(de(E.mediaBox.bottomLeftX))+" "+parseFloat(de(E.mediaBox.bottomLeftY))+" "+de(E.mediaBox.topRightX)+" "+de(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&pe("/CropBox ["+de(E.cropBox.bottomLeftX)+" "+de(E.cropBox.bottomLeftY)+" "+de(E.cropBox.topRightX)+" "+de(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&pe("/BleedBox ["+de(E.bleedBox.bottomLeftX)+" "+de(E.bleedBox.bottomLeftY)+" "+de(E.bleedBox.topRightX)+" "+de(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&pe("/TrimBox ["+de(E.trimBox.bottomLeftX)+" "+de(E.trimBox.bottomLeftY)+" "+de(E.trimBox.topRightX)+" "+de(E.trimBox.topRightY)+"]"),E.artBox!==null&&pe("/ArtBox ["+de(E.artBox.bottomLeftX)+" "+de(E.artBox.bottomLeftY)+" "+de(E.artBox.topRightX)+" "+de(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&pe("/UserUnit "+E.userUnit),Mn.publish("putPage",{objId:_e,pageContext:rn[H],pageNumber:H,page:re}),pe("/Contents "+Ne+" 0 R"),pe(">>"),pe("endobj");var Xe=re.join(`
`);return Z===F&&(Xe+=`
Q`),Bn(Ne,!0),ui({data:Xe,filters:Ir(),objectId:Ne}),pe("endobj"),_e},bo=S.__private__.putPages=function(){var E,H,re=[];for(E=1;E<=Tn;E++)rn[E].objId=mt(),rn[E].contentsObjId=mt();for(E=1;E<=Tn;E++)re.push(ci({number:E,data:ot[E],objId:rn[E].objId,contentsObjId:rn[E].contentsObjId,mediaBox:rn[E].mediaBox,cropBox:rn[E].cropBox,bleedBox:rn[E].bleedBox,trimBox:rn[E].trimBox,artBox:rn[E].artBox,userUnit:rn[E].userUnit,rootDictionaryObjId:Si,resourceDictionaryObjId:Ei}));Bn(Si,!0),pe("<</Type /Pages");var _e="/Kids [";for(H=0;H<Tn;H++)_e+=re[H]+" 0 R ";pe(_e+"]"),pe("/Count "+Tn),pe(">>"),pe("endobj"),Mn.publish("postPutPages")},Es=function(E){Mn.publish("putFont",{font:E,out:pe,newObject:un,putStream:ui}),E.isAlreadyPutted!==!0&&(E.objectNumber=un(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+ru(E.postScriptName)),pe("/Subtype /Type1"),typeof E.encoding=="string"&&pe("/Encoding /"+E.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},gi=function(E){E.objectNumber=un();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[de(E.x),de(E.y),de(E.x+E.width),de(E.y+E.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var re=E.pages[1].join(`
`);ui({data:re,additionalKeyValues:H,objectId:E.objectNumber}),pe("endobj")},mr=function(E,H){H||(H=21);var re=un(),_e=function(at,Et){var vt,tn=[],Nt=1/(Et-1);for(vt=0;vt<1;vt+=Nt)tn.push(vt);if(tn.push(1),at[0].offset!=0){var In={offset:0,color:at[0].color};at.unshift(In)}if(at[at.length-1].offset!=1){var zn={offset:1,color:at[at.length-1].color};at.push(zn)}for(var on="",yt=0,Pr=0;Pr<tn.length;Pr++){for(vt=tn[Pr];vt>at[yt+1].offset;)yt++;var ln=at[yt].offset,ar=(vt-ln)/(at[yt+1].offset-ln),Cr=at[yt].color,Sr=at[yt+1].color;on+=ve(Math.round((1-ar)*Cr[0]+ar*Sr[0]).toString(16))+ve(Math.round((1-ar)*Cr[1]+ar*Sr[1]).toString(16))+ve(Math.round((1-ar)*Cr[2]+ar*Sr[2]).toString(16))}return on.trim()}(E.colors,H),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+H+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ui({data:_e,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),pe("endobj"),E.objectNumber=un(),pe("<< /ShadingType "+E.type),pe("/ColorSpace /DeviceRGB");var Xe="/Coords ["+de(parseFloat(E.coords[0]))+" "+de(parseFloat(E.coords[1]))+" ";E.type===2?Xe+=de(parseFloat(E.coords[2]))+" "+de(parseFloat(E.coords[3])):Xe+=de(parseFloat(E.coords[2]))+" "+de(parseFloat(E.coords[3]))+" "+de(parseFloat(E.coords[4]))+" "+de(parseFloat(E.coords[5])),pe(Xe+="]"),E.matrix&&pe("/Matrix ["+E.matrix.toString()+"]"),pe("/Function "+re+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},Fn=function(E,H){var re=mt(),_e=un();H.push({resourcesOid:re,objectOid:_e}),E.objectNumber=_e;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+E.boundingBox.map(de).join(" ")+"]"}),Ne.push({key:"XStep",value:de(E.xStep)}),Ne.push({key:"YStep",value:de(E.yStep)}),Ne.push({key:"Resources",value:re+" 0 R"}),E.matrix&&Ne.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),ui({data:E.stream,additionalKeyValues:Ne,objectId:E.objectNumber}),pe("endobj")},Ns=function(E){for(var H in E.objectNumber=un(),pe("<<"),E)switch(H){case"opacity":pe("/ca "+K(E[H]));break;case"stroke-opacity":pe("/CA "+K(E[H]))}pe(">>"),pe("endobj")},Wi=function(E){Bn(E.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var H in pe("/Font <<"),Ge)Ge.hasOwnProperty(H)&&(C===!1||C===!0&&P.hasOwnProperty(H))&&pe("/"+H+" "+Ge[H].objectNumber+" 0 R");pe(">>")}(),function(){if(Object.keys(xt).length>0){for(var H in pe("/Shading <<"),xt)xt.hasOwnProperty(H)&&xt[H]instanceof bl&&xt[H].objectNumber>=0&&pe("/"+H+" "+xt[H].objectNumber+" 0 R");Mn.publish("putShadingPatternDict"),pe(">>")}}(),function(H){if(Object.keys(xt).length>0){for(var re in pe("/Pattern <<"),xt)xt.hasOwnProperty(re)&&xt[re]instanceof S.TilingPattern&&xt[re].objectNumber>=0&&xt[re].objectNumber<H&&pe("/"+re+" "+xt[re].objectNumber+" 0 R");Mn.publish("putTilingPatternDict"),pe(">>")}}(E.objectOid),function(){if(Object.keys(an).length>0){var H;for(H in pe("/ExtGState <<"),an)an.hasOwnProperty(H)&&an[H].objectNumber>=0&&pe("/"+H+" "+an[H].objectNumber+" 0 R");Mn.publish("putGStateDict"),pe(">>")}}(),function(){for(var H in pe("/XObject <<"),Fr)Fr.hasOwnProperty(H)&&Fr[H].objectNumber>=0&&pe("/"+H+" "+Fr[H].objectNumber+" 0 R");Mn.publish("putXobjectDict"),pe(">>")}(),pe(">>"),pe("endobj")},Xs=function(E){Tt[E.fontName]=Tt[E.fontName]||{},Tt[E.fontName][E.fontStyle]=E.id},st=function(E,H,re,_e,Ne){var Xe={id:"F"+(Object.keys(Ge).length+1).toString(10),postScriptName:E,fontName:H,fontStyle:re,encoding:_e,isStandardFont:Ne||!1,metadata:{}};return Mn.publish("addFont",{font:Xe,instance:this}),Ge[Xe.id]=Xe,Xs(Xe),Xe.id},Vi=S.__private__.pdfEscape=S.pdfEscape=function(E,H){return function(re,_e){var Ne,Xe,at,Et,vt,tn,Nt,In,zn;if(at=(_e=_e||{}).sourceEncoding||"Unicode",vt=_e.outputEncoding,(_e.autoencode||vt)&&Ge[Ct].metadata&&Ge[Ct].metadata[at]&&Ge[Ct].metadata[at].encoding&&(Et=Ge[Ct].metadata[at].encoding,!vt&&Ge[Ct].encoding&&(vt=Ge[Ct].encoding),!vt&&Et.codePages&&(vt=Et.codePages[0]),typeof vt=="string"&&(vt=Et[vt]),vt)){for(Nt=!1,tn=[],Ne=0,Xe=re.length;Ne<Xe;Ne++)(In=vt[re.charCodeAt(Ne)])?tn.push(String.fromCharCode(In)):tn.push(re[Ne]),tn[Ne].charCodeAt(0)>>8&&(Nt=!0);re=tn.join("")}for(Ne=re.length;Nt===void 0&&Ne!==0;)re.charCodeAt(Ne-1)>>8&&(Nt=!0),Ne--;if(!Nt)return re;for(tn=_e.noBOM?[]:[254,255],Ne=0,Xe=re.length;Ne<Xe;Ne++){if((zn=(In=re.charCodeAt(Ne))>>8)>>8)throw new Error("Character at position "+Ne+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tn.push(zn),tn.push(In-(zn<<8))}return String.fromCharCode.apply(void 0,tn)}(E,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qn=S.__private__.beginPage=function(E){ot[++Tn]=[],rn[Tn]={objId:0,contentsObjId:0,userUnit:Number(g),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Ln(Tn),Ye(ot[oe])},lo=function(E,H){var re,_e,Ne;switch(n=H||n,typeof E=="string"&&(re=M(E.toLowerCase()),Array.isArray(re)&&(_e=re[0],Ne=re[1])),Array.isArray(E)&&(_e=E[0]*$t,Ne=E[1]*$t),isNaN(_e)&&(_e=s[0],Ne=s[1]),(_e>14400||Ne>14400)&&(fr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_e=Math.min(14400,_e),Ne=Math.min(14400,Ne)),s=[_e,Ne],n.substr(0,1)){case"l":Ne>_e&&(s=[Ne,_e]);break;case"p":_e>Ne&&(s=[Ne,_e])}Qn(s),en(Is),pe(qo),Ks!==0&&pe(Ks+" J"),So!==0&&pe(So+" j"),Mn.publish("addPage",{pageNumber:Tn})},jo=function(E){E>0&&E<=Tn&&(ot.splice(E,1),rn.splice(E,1),Tn--,oe>Tn&&(oe=Tn),this.setPage(oe))},Ln=function(E){E>0&&E<=Tn&&(oe=E)},Nn=S.__private__.getNumberOfPages=S.getNumberOfPages=function(){return ot.length-1},hn=function(E,H,re){var _e,Ne=void 0;return re=re||{},E=E!==void 0?E:Ge[Ct].fontName,H=H!==void 0?H:Ge[Ct].fontStyle,_e=E.toLowerCase(),Tt[_e]!==void 0&&Tt[_e][H]!==void 0?Ne=Tt[_e][H]:Tt[E]!==void 0&&Tt[E][H]!==void 0?Ne=Tt[E][H]:re.disableWarning===!1&&fr.warn("Unable to look up font label for font '"+E+"', '"+H+"'. Refer to getFontList() for available fonts."),Ne||re.noFallback||(Ne=Tt.times[H])==null&&(Ne=Tt.times.normal),Ne},wn=S.__private__.putInfo=function(){var E=un(),H=function(_e){return _e};for(var re in _!==null&&(H=jn.encryptor(E,0)),pe("<<"),pe("/Producer ("+Vi(H("jsPDF "+qt.version))+")"),Xt)Xt.hasOwnProperty(re)&&Xt[re]&&pe("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+Vi(H(Xt[re]))+")");pe("/CreationDate ("+Vi(H(ce))+")"),pe(">>"),pe("endobj")},Vn=S.__private__.putCatalog=function(E){var H=(E=E||{}).rootDictionaryObjId||Si;switch(un(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+H+" 0 R"),kt||(kt="fullwidth"),kt){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+kt;re.substr(re.length-1)==="%"&&(kt=parseInt(kt)/100),typeof kt=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+K(kt)+"]")}switch(sn||(sn="continuous"),sn){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}zt&&pe("/PageMode /"+zt),Mn.publish("putCatalog"),pe(">>"),pe("endobj")},$n=S.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(ue+1)),pe("/Root "+ue+" 0 R"),pe("/Info "+(ue-1)+" 0 R"),_!==null&&pe("/Encrypt "+jn.oid+" 0 R"),pe("/ID [ <"+Be+"> <"+Be+"> ]"),pe(">>")},qn=S.__private__.putHeader=function(){pe("%PDF-"+j),pe("%ºß¬à")},hi=S.__private__.putXRef=function(){var E="0000000000";pe("xref"),pe("0 "+(ue+1)),pe("0000000000 65535 f ");for(var H=1;H<=ue;H++)typeof Me[H]=="function"?pe((E+Me[H]()).slice(-10)+" 00000 n "):Me[H]!==void 0?pe((E+Me[H]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},uo=S.__private__.buildDocument=function(){var E;ue=0,Ve=0,Fe=[],Me=[],Je=[],Si=mt(),Ei=mt(),Ye(Fe),Mn.publish("buildDocument"),qn(),bo(),function(){Mn.publish("putAdditionalObjects");for(var re=0;re<Je.length;re++){var _e=Je[re];Bn(_e.objId,!0),pe(_e.content),pe("endobj")}Mn.publish("postPutAdditionalObjects")}(),E=[],function(){for(var re in Ge)Ge.hasOwnProperty(re)&&(C===!1||C===!0&&P.hasOwnProperty(re))&&Es(Ge[re])}(),function(){var re;for(re in an)an.hasOwnProperty(re)&&Ns(an[re])}(),function(){for(var re in Fr)Fr.hasOwnProperty(re)&&gi(Fr[re])}(),function(re){var _e;for(_e in xt)xt.hasOwnProperty(_e)&&(xt[_e]instanceof bl?mr(xt[_e]):xt[_e]instanceof vu&&Fn(xt[_e],re))}(E),Mn.publish("putResources"),E.forEach(Wi),Wi({resourcesOid:Ei,objectOid:Number.MAX_SAFE_INTEGER}),Mn.publish("postPutResources"),_!==null&&(jn.oid=un(),pe("<<"),pe("/Filter /Standard"),pe("/V "+jn.v),pe("/R "+jn.r),pe("/U <"+jn.toHexString(jn.U)+">"),pe("/O <"+jn.toHexString(jn.O)+">"),pe("/P "+jn.P),pe(">>"),pe("endobj")),wn(),Vn();var H=Ve;return hi(),$n(),pe("startxref"),pe(""+H),pe("%%EOF"),Ye(ot[oe]),Fe.join(`
`)},St=S.__private__.getBlob=function(E){return new Blob([Ot(E)],{type:"application/pdf"})},An=S.output=S.__private__.output=(Ci=function(E,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",E){case void 0:return uo();case"save":S.save(H.filename);break;case"arraybuffer":return Ot(uo());case"blob":return St(uo());case"bloburi":case"bloburl":if(cn.URL!==void 0&&typeof cn.URL.createObjectURL=="function")return cn.URL&&cn.URL.createObjectURL(St(uo()))||void 0;fr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",_e=uo();try{re=Pm(_e)}catch{re=Pm(unescape(encodeURIComponent(_e)))}return"data:application/pdf;filename="+H.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Ne=H.pdfObjectUrl,Xe="");var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+Xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",Et=cn.open();return Et!==null&&Et.document.write(at),Et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(cn)==="[object Window]"){var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',tn=cn.open();if(tn!==null){tn.document.write(vt);var Nt=this;tn.document.documentElement.querySelector("#pdfViewer").onload=function(){tn.document.title=H.filename,tn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return tn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(cn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var In='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',zn=cn.open();if(zn!==null&&(zn.document.write(In),zn.document.title=H.filename),zn||typeof safari>"u")return zn;break;case"datauri":case"dataurl":return cn.document.location.href=this.output("datauristring",H);default:return null}},Ci.foo=function(){try{return Ci.apply(this,arguments)}catch(re){var E=re.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var H="Error in function "+E.split(`
`)[0].split("<")[0]+": "+re.message;if(!cn.console)throw new Error(H);cn.console.error(H,re),cn.alert&&alert(H)}},Ci.foo.bar=Ci,Ci.foo),zo=function(E){return Array.isArray(Xr)===!0&&Xr.indexOf(E)>-1};switch(i){case"pt":$t=1;break;case"mm":$t=72/25.4;break;case"cm":$t=72/2.54;break;case"in":$t=72;break;case"px":$t=zo("px_scaling")==1?.75:96/72;break;case"pc":case"em":$t=12;break;case"ex":$t=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);$t=i}var jn=null;He(),he();var dn=S.__private__.getPageInfo=S.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rn[E].objId,pageNumber:E,pageContext:rn[E]}},Ur=S.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in rn)if(rn[H].objId===E)break;return dn(H)},Oe=S.__private__.getCurrentPageInfo=S.getCurrentPageInfo=function(){return{objId:rn[oe].objId,pageNumber:oe,pageContext:rn[oe]}};S.addPage=function(){return lo.apply(this,arguments),this},S.setPage=function(){return Ln.apply(this,arguments),Ye.call(this,ot[oe]),this},S.insertPage=function(E){return this.addPage(),this.movePage(oe,E),this},S.movePage=function(E,H){var re,_e;if(E>H){re=ot[E],_e=rn[E];for(var Ne=E;Ne>H;Ne--)ot[Ne]=ot[Ne-1],rn[Ne]=rn[Ne-1];ot[H]=re,rn[H]=_e,this.setPage(H)}else if(E<H){re=ot[E],_e=rn[E];for(var Xe=E;Xe<H;Xe++)ot[Xe]=ot[Xe+1],rn[Xe]=rn[Xe+1];ot[H]=re,rn[H]=_e,this.setPage(H)}return this},S.deletePage=function(){return jo.apply(this,arguments),this},S.__private__.text=S.text=function(E,H,re,_e,Ne){var Xe,at,Et,vt,tn,Nt,In,zn,on,yt=(_e=_e||{}).scope||this;if(typeof E=="number"&&typeof H=="number"&&(typeof re=="string"||Array.isArray(re))){var Pr=re;re=H,H=E,E=Pr}if(arguments[3]instanceof Ht==0?(Et=arguments[4],vt=arguments[5],ir(In=arguments[3])==="object"&&In!==null||(typeof Et=="string"&&(vt=Et,Et=null),typeof In=="string"&&(vt=In,In=null),typeof In=="number"&&(Et=In,In=null),_e={flags:In,angle:Et,align:vt})):(J("The transform parameter of text() with a Matrix value"),on=Ne),isNaN(H)||isNaN(re)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return yt;var ln,ar="",Cr=typeof _e.lineHeightFactor=="number"?_e.lineHeightFactor:Co,Sr=yt.internal.scaleFactor;function Pi($e){return $e=$e.split("	").join(Array(_e.TabLen||9).join(" ")),Vi($e,In)}function Xi($e){for(var rt,tt=$e.concat(),Wt=[],Jt=tt.length;Jt--;)typeof(rt=tt.shift())=="string"?Wt.push(rt):Array.isArray($e)&&(rt.length===1||rt[1]===void 0&&rt[2]===void 0)?Wt.push(rt[0]):Wt.push([rt[0],rt[1],rt[2]]);return Wt}function Mr($e,rt){var tt;if(typeof $e=="string")tt=rt($e)[0];else if(Array.isArray($e)){for(var Wt,Jt,Xn=$e.concat(),kr=[],ei=Xn.length;ei--;)typeof(Wt=Xn.shift())=="string"?kr.push(rt(Wt)[0]):Array.isArray(Wt)&&typeof Wt[0]=="string"&&(Jt=rt(Wt[0],Wt[1],Wt[2]),kr.push([Jt[0],Jt[1],Jt[2]]));tt=kr}return tt}var fo=!1,Go=!0;if(typeof E=="string")fo=!0;else if(Array.isArray(E)){var gs=E.concat();at=[];for(var Zo,cr=gs.length;cr--;)(typeof(Zo=gs.shift())!="string"||Array.isArray(Zo)&&typeof Zo[0]!="string")&&(Go=!1);fo=Go}if(fo===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Yo=Ke/yt.internal.scaleFactor,Ms=Yo*(Cr-1);switch(_e.baseline){case"bottom":re-=Ms;break;case"top":re+=Yo-Ms;break;case"hanging":re+=Yo-2*Ms;break;case"middle":re+=Yo/2-Ms}if((Nt=_e.maxWidth||0)>0&&(typeof E=="string"?E=yt.splitTextToSize(E,Nt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function($e,rt){return $e.concat(yt.splitTextToSize(rt,Nt))},[]))),Xe={text:E,x:H,y:re,options:_e,mutex:{pdfEscape:Vi,activeFontKey:Ct,fonts:Ge,activeFontSize:Ke}},Mn.publish("preProcessText",Xe),E=Xe.text,Et=(_e=Xe.options).angle,on instanceof Ht==0&&Et&&typeof Et=="number"){Et*=Math.PI/180,_e.rotationDirection===0&&(Et=-Et),Z===F&&(Et=-Et);var Eo=Math.cos(Et),fa=Math.sin(Et);on=new Ht(Eo,fa,-fa,Eo,0,0)}else Et&&Et instanceof Ht&&(on=Et);Z!==F||on||(on=Fo),(tn=_e.charSpace||ho)!==void 0&&(ar+=de(ge(tn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zn=_e.horizontalScale)!==void 0&&(ar+=de(100*zn)+` Tz
`),_e.lang;var xn=-1,Jr=_e.renderingMode!==void 0?_e.renderingMode:_e.stroke,$r=yt.internal.getCurrentPageInfo().pageContext;switch(Jr){case 0:case!1:case"fill":xn=0;break;case 1:case!0:case"stroke":xn=1;break;case 2:case"fillThenStroke":xn=2;break;case 3:case"invisible":xn=3;break;case 4:case"fillAndAddForClipping":xn=4;break;case 5:case"strokeAndAddPathForClipping":xn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":xn=6;break;case 7:case"addToPathForClipping":xn=7}var Mi=$r.usedRenderingMode!==void 0?$r.usedRenderingMode:-1;xn!==-1?ar+=xn+` Tr
`:Mi!==-1&&(ar+=`0 Tr
`),xn!==-1&&($r.usedRenderingMode=xn),vt=_e.align||"left";var vr,Ki=Ke*Cr,Os=yt.internal.pageSize.getWidth(),Xo=Ge[Ct];tn=_e.charSpace||ho,Nt=_e.maxWidth||0,In=Object.assign({autoencode:!0,noBOM:!0},_e.flags);var No=[],Or=function($e){return yt.getStringUnitWidth($e,{font:Xo,charSpace:tn,fontSize:Ke,doKerning:!1})*Ke/Sr};if(Object.prototype.toString.call(E)==="[object Array]"){var Oi;at=Xi(E),vt!=="left"&&(vr=at.map(Or));var dr,vi=0;if(vt==="right"){H-=vr[0],E=[],cr=at.length;for(var pn=0;pn<cr;pn++)pn===0?(dr=Qt(H),Oi=Yn(re)):(dr=ge(vi-vr[pn]),Oi=-Ki),E.push([at[pn],dr,Oi]),vi=vr[pn]}else if(vt==="center"){H-=vr[0]/2,E=[],cr=at.length;for(var ki=0;ki<cr;ki++)ki===0?(dr=Qt(H),Oi=Yn(re)):(dr=ge((vi-vr[ki])/2),Oi=-Ki),E.push([at[ki],dr,Oi]),vi=vr[ki]}else if(vt==="left"){E=[],cr=at.length;for(var U=0;U<cr;U++)E.push(at[U])}else if(vt==="justify"&&Xo.encoding==="Identity-H"){E=[],cr=at.length,Nt=Nt!==0?Nt:Os;for(var r=0,o=0;o<cr;o++)if(Oi=o===0?Yn(re):-Ki,dr=o===0?Qt(H):r,o<cr-1){var u=ge((Nt-vr[o])/(at[o].split(" ").length-1)),c=at[o].split(" ");E.push([c[0]+" ",dr,Oi]),r=0;for(var h=1;h<c.length;h++){var p=(Or(c[h-1]+" "+c[h])-Or(c[h]))*Sr+u;h==c.length-1?E.push([c[h],p,0]):E.push([c[h]+" ",p,0]),r-=p}}else E.push([at[o],dr,Oi]);E.push(["",r,0])}else{if(vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],cr=at.length,Nt=Nt!==0?Nt:Os,o=0;o<cr;o++){Oi=o===0?Yn(re):-Ki,dr=o===0?Qt(H):0;var w=at[o].split(" ").length-1,b=w>0?(Nt-vr[o])/w:0;o<cr-1?No.push(de(ge(b))):No.push(0),E.push([at[o],dr,Oi])}}}(typeof _e.R2L=="boolean"?_e.R2L:nn)===!0&&(E=Mr(E,function($e,rt,tt){return[$e.split("").reverse().join(""),rt,tt]})),Xe={text:E,x:H,y:re,options:_e,mutex:{pdfEscape:Vi,activeFontKey:Ct,fonts:Ge,activeFontSize:Ke}},Mn.publish("postProcessText",Xe),E=Xe.text,ln=Xe.mutex.isHex||!1;var N=Ge[Ct].encoding;N!=="WinAnsiEncoding"&&N!=="StandardEncoding"||(E=Mr(E,function($e,rt,tt){return[Pi($e),rt,tt]})),at=Xi(E),E=[];for(var O,z,G,ie=Array.isArray(at[0])?1:0,we="",Ae=function($e,rt,tt){var Wt="";return tt instanceof Ht?(tt=typeof _e.angle=="number"?jr(tt,new Ht(1,0,0,1,$e,rt)):jr(new Ht(1,0,0,1,$e,rt),tt),Z===F&&(tt=jr(new Ht(1,0,0,-1,0,0),tt)),Wt=tt.join(" ")+` Tm
`):Wt=de($e)+" "+de(rt)+` Td
`,Wt},Te=0;Te<at.length;Te++){switch(we="",ie){case 1:G=(ln?"<":"(")+at[Te][0]+(ln?">":")"),O=parseFloat(at[Te][1]),z=parseFloat(at[Te][2]);break;case 0:G=(ln?"<":"(")+at[Te]+(ln?">":")"),O=Qt(H),z=Yn(re)}No!==void 0&&No[Te]!==void 0&&(we=No[Te]+` Tw
`),Te===0?E.push(we+Ae(O,z,on)+G):ie===0?E.push(we+G):ie===1&&E.push(we+Ae(O,z,on)+G)}E=ie===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var ze=`BT
/`;return ze+=Ct+" "+Ke+` Tf
`,ze+=de(Ke*Cr)+` TL
`,ze+=ur+`
`,ze+=ar,ze+=E,pe(ze+="ET"),P[Ct]=!0,yt};var ne=S.__private__.clip=S.clip=function(E){return pe(E==="evenodd"?"W*":"W"),this};S.clipEvenOdd=function(){return ne("evenodd")},S.__private__.discardPath=S.discardPath=function(){return pe("n"),this};var dt=S.__private__.isValidStyle=function(E){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(H=!0),H};S.__private__.setDefaultPathOperation=S.setDefaultPathOperation=function(E){return dt(E)&&(m=E),this};var Gn=S.__private__.getStyle=S.getStyle=function(E){var H=m;switch(E){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=E}return H},Tr=S.close=function(){return pe("h"),this};S.stroke=function(){return pe("S"),this},S.fill=function(E){return qi("f",E),this},S.fillEvenOdd=function(E){return qi("f*",E),this},S.fillStroke=function(E){return qi("B",E),this},S.fillStrokeEvenOdd=function(E){return qi("B*",E),this};var qi=function(E,H){ir(H)==="object"?Bt(H,E):pe(E)},Uo=function(E){E===null||Z===F&&E===void 0||(E=Gn(E),pe(E))};function Hr(E,H,re,_e,Ne){var Xe=new vu(H||this.boundingBox,re||this.xStep,_e||this.yStep,this.gState,Ne||this.matrix);Xe.stream=this.stream;var at=E+"$$"+this.cloneIndex+++"$$";return zr(at,Xe),Xe}var Bt=function(E,H){var re=yn[E.key],_e=xt[re];if(_e instanceof bl)pe("q"),pe(Zn(H)),_e.gState&&S.setGState(_e.gState),pe(E.matrix.toString()+" cm"),pe("/"+re+" sh"),pe("Q");else if(_e instanceof vu){var Ne=new Ht(1,0,0,-1,0,Ps());E.matrix&&(Ne=Ne.multiply(E.matrix||Fo),re=Hr.call(_e,E.key,E.boundingBox,E.xStep,E.yStep,Ne).id),pe("q"),pe("/Pattern cs"),pe("/"+re+" scn"),_e.gState&&S.setGState(_e.gState),pe(H),pe("Q")}},Zn=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ho=S.moveTo=function(E,H){return pe(de(ge(E))+" "+de(me(H))+" m"),this},Wo=S.lineTo=function(E,H){return pe(de(ge(E))+" "+de(me(H))+" l"),this},Gi=S.curveTo=function(E,H,re,_e,Ne,Xe){return pe([de(ge(E)),de(me(H)),de(ge(re)),de(me(_e)),de(ge(Ne)),de(me(Xe)),"c"].join(" ")),this};S.__private__.line=S.line=function(E,H,re,_e,Ne){if(isNaN(E)||isNaN(H)||isNaN(re)||isNaN(_e)||!dt(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return Z===B?this.lines([[re-E,_e-H]],E,H,[1,1],Ne||"S"):this.lines([[re-E,_e-H]],E,H,[1,1]).stroke()},S.__private__.lines=S.lines=function(E,H,re,_e,Ne,Xe){var at,Et,vt,tn,Nt,In,zn,on,yt,Pr,ln,ar;if(typeof E=="number"&&(ar=re,re=H,H=E,E=ar),_e=_e||[1,1],Xe=Xe||!1,isNaN(H)||isNaN(re)||!Array.isArray(E)||!Array.isArray(_e)||!dt(Ne)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ho(H,re),at=_e[0],Et=_e[1],tn=E.length,Pr=H,ln=re,vt=0;vt<tn;vt++)(Nt=E[vt]).length===2?(Pr=Nt[0]*at+Pr,ln=Nt[1]*Et+ln,Wo(Pr,ln)):(In=Nt[0]*at+Pr,zn=Nt[1]*Et+ln,on=Nt[2]*at+Pr,yt=Nt[3]*Et+ln,Pr=Nt[4]*at+Pr,ln=Nt[5]*Et+ln,Gi(In,zn,on,yt,Pr,ln));return Xe&&Tr(),Uo(Ne),this},S.path=function(E){for(var H=0;H<E.length;H++){var re=E[H],_e=re.c;switch(re.op){case"m":Ho(_e[0],_e[1]);break;case"l":Wo(_e[0],_e[1]);break;case"c":Gi.apply(this,_e);break;case"h":Tr()}}return this},S.__private__.rect=S.rect=function(E,H,re,_e,Ne){if(isNaN(E)||isNaN(H)||isNaN(re)||isNaN(_e)||!dt(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return Z===B&&(_e=-_e),pe([de(ge(E)),de(me(H)),de(ge(re)),de(ge(_e)),"re"].join(" ")),Uo(Ne),this},S.__private__.triangle=S.triangle=function(E,H,re,_e,Ne,Xe,at){if(isNaN(E)||isNaN(H)||isNaN(re)||isNaN(_e)||isNaN(Ne)||isNaN(Xe)||!dt(at))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-E,_e-H],[Ne-re,Xe-_e],[E-Ne,H-Xe]],E,H,[1,1],at,!0),this},S.__private__.roundedRect=S.roundedRect=function(E,H,re,_e,Ne,Xe,at){if(isNaN(E)||isNaN(H)||isNaN(re)||isNaN(_e)||isNaN(Ne)||isNaN(Xe)||!dt(at))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Et=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*re),Xe=Math.min(Xe,.5*_e),this.lines([[re-2*Ne,0],[Ne*Et,0,Ne,Xe-Xe*Et,Ne,Xe],[0,_e-2*Xe],[0,Xe*Et,-Ne*Et,Xe,-Ne,Xe],[2*Ne-re,0],[-Ne*Et,0,-Ne,-Xe*Et,-Ne,-Xe],[0,2*Xe-_e],[0,-Xe*Et,Ne*Et,-Xe,Ne,-Xe]],E+Ne,H,[1,1],at,!0),this},S.__private__.ellipse=S.ellipse=function(E,H,re,_e,Ne){if(isNaN(E)||isNaN(H)||isNaN(re)||isNaN(_e)||!dt(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*re,at=4/3*(Math.SQRT2-1)*_e;return Ho(E+re,H),Gi(E+re,H-at,E+Xe,H-_e,E,H-_e),Gi(E-Xe,H-_e,E-re,H-at,E-re,H),Gi(E-re,H+at,E-Xe,H+_e,E,H+_e),Gi(E+Xe,H+_e,E+re,H+at,E+re,H),Uo(Ne),this},S.__private__.circle=S.circle=function(E,H,re,_e){if(isNaN(E)||isNaN(H)||isNaN(re)||!dt(_e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,H,re,re,_e)},S.setFont=function(E,H,re){return re&&(H=fe(H,re)),Ct=hn(E,H,{disableWarning:!1}),this};var Vo=S.__private__.getFont=S.getFont=function(){return Ge[hn.apply(S,arguments)]};S.__private__.getFontList=S.getFontList=function(){var E,H,re={};for(E in Tt)if(Tt.hasOwnProperty(E))for(H in re[E]=[],Tt[E])Tt[E].hasOwnProperty(H)&&re[E].push(H);return re},S.addFont=function(E,H,re,_e,Ne){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(re=fe(re,_e)),st.call(this,E,H,re,Ne=Ne||"Identity-H")};var Co,Is=e.lineWidth||.200025,Lt=S.__private__.getLineWidth=S.getLineWidth=function(){return Is},en=S.__private__.setLineWidth=S.setLineWidth=function(E){return Is=E,pe(de(ge(E))+" w"),this};S.__private__.setLineDash=qt.API.setLineDash=qt.API.setLineDashPattern=function(E,H){if(E=E||[],H=H||0,isNaN(H)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(re){return de(ge(re))}).join(" "),H=de(ge(H)),pe("["+E+"] "+H+" d"),this};var Lr=S.__private__.getLineHeight=S.getLineHeight=function(){return Ke*Co};S.__private__.getLineHeight=S.getLineHeight=function(){return Ke*Co};var wt=S.__private__.setLineHeightFactor=S.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(Co=E),this},Oa=S.__private__.getLineHeightFactor=S.getLineHeightFactor=function(){return Co};wt(e.lineHeight);var Qt=S.__private__.getHorizontalCoordinate=function(E){return ge(E)},Yn=S.__private__.getVerticalCoordinate=function(E){return Z===F?E:rn[oe].mediaBox.topRightY-rn[oe].mediaBox.bottomLeftY-ge(E)},ca=S.__private__.getHorizontalCoordinateString=S.getHorizontalCoordinateString=function(E){return de(Qt(E))},co=S.__private__.getVerticalCoordinateString=S.getVerticalCoordinateString=function(E){return de(Yn(E))},qo=e.strokeColor||"0 G";S.__private__.getStrokeColor=S.getDrawColor=function(){return Jn(qo)},S.__private__.setStrokeColor=S.setDrawColor=function(E,H,re,_e){return qo=Kr({ch1:E,ch2:H,ch3:re,ch4:_e,pdfColorType:"draw",precision:2}),pe(qo),this};var mi=e.fillColor||"0 g";S.__private__.getFillColor=S.getFillColor=function(){return Jn(mi)},S.__private__.setFillColor=S.setFillColor=function(E,H,re,_e){return mi=Kr({ch1:E,ch2:H,ch3:re,ch4:_e,pdfColorType:"fill",precision:2}),pe(mi),this};var ur=e.textColor||"0 g",fi=S.__private__.getTextColor=S.getTextColor=function(){return Jn(ur)};S.__private__.setTextColor=S.setTextColor=function(E,H,re,_e){return ur=Kr({ch1:E,ch2:H,ch3:re,ch4:_e,pdfColorType:"text",precision:3}),this};var ho=e.charSpace,ds=S.__private__.getCharSpace=S.getCharSpace=function(){return parseFloat(ho||0)};S.__private__.setCharSpace=S.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ho=E,this};var Ks=0;S.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},S.__private__.setLineCap=S.setLineCap=function(E){var H=S.CapJoinStyles[E];if(H===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ks=H,pe(H+" J"),this};var So=0;S.__private__.setLineJoin=S.setLineJoin=function(E){var H=S.CapJoinStyles[E];if(H===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return So=H,pe(H+" j"),this},S.__private__.setLineMiterLimit=S.__private__.setMiterLimit=S.setLineMiterLimit=S.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(de(ge(E))+" M"),this},S.GState=Bf,S.setGState=function(E){(E=typeof E=="string"?an[lr[E]]:Li(null,E)).equals(Kt)||(pe("/"+E.id+" gs"),Kt=E)};var Li=function(E,H){if(!E||!lr[E]){var re=!1;for(var _e in an)if(an.hasOwnProperty(_e)&&an[_e].equals(H)){re=!0;break}if(re)H=an[_e];else{var Ne="GS"+(Object.keys(an).length+1).toString(10);an[Ne]=H,H.id=Ne}return E&&(lr[E]=H.id),Mn.publish("addGState",H),H}};S.addGState=function(E,H){return Li(E,H),this},S.saveGraphicsState=function(){return pe("q"),Gt.push({key:Ct,size:Ke,color:ur}),this},S.restoreGraphicsState=function(){pe("Q");var E=Gt.pop();return Ct=E.key,Ke=E.size,ur=E.color,Kt=null,this},S.setCurrentTransformationMatrix=function(E){return pe(E.toString()+" cm"),this},S.comment=function(E){return pe("#"+E),this};var br=function(E,H){var re=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Xe){isNaN(Xe)||(re=parseFloat(Xe))}});var _e=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _e},set:function(Xe){isNaN(Xe)||(_e=parseFloat(Xe))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(Xe){Ne=Xe.toString()}}),this},Ts=function(E,H,re,_e){br.call(this,E,H),this.type="rect";var Ne=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(at){isNaN(at)||(Ne=parseFloat(at))}});var Xe=_e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(at){isNaN(at)||(Xe=parseFloat(at))}}),this},gn=function(){this.page=Tn,this.currentPage=oe,this.pages=ot.slice(0),this.pagesContext=rn.slice(0),this.x=Dt,this.y=Kn,this.matrix=Zt,this.width=ps(oe),this.height=Sn(oe),this.outputDestination=ut,this.id="",this.objectNumber=-1};gn.prototype.restore=function(){Tn=this.page,oe=this.currentPage,rn=this.pagesContext,ot=this.pages,Dt=this.x,Kn=this.y,Zt=this.matrix,ha(oe,this.width),Zi(oe,this.height),ut=this.outputDestination};var Qs=function(E,H,re,_e,Ne){pi.push(new gn),Tn=oe=0,ot=[],Dt=E,Kn=H,Zt=Ne,Qn([re,_e])};for(var Qr in S.beginFormObject=function(E,H,re,_e,Ne){return Qs(E,H,re,_e,Ne),this},S.endFormObject=function(E){return function(H){if(sr[H])pi.pop().restore();else{var re=new gn,_e="Xo"+(Object.keys(Fr).length+1).toString(10);re.id=_e,sr[H]=_e,Fr[_e]=re,Mn.publish("addFormObject",re),pi.pop().restore()}}(E),this},S.doFormObject=function(E,H){var re=Fr[sr[E]];return pe("q"),pe(H.toString()+" cm"),pe("/"+re.id+" Do"),pe("Q"),this},S.getFormObject=function(E){var H=Fr[sr[E]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},S.save=function(E,H){return E=E||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(Al(St(uo()),E),typeof Al.unload=="function"&&cn.setTimeout&&setTimeout(Al.unload,911),this):new Promise(function(re,_e){try{var Ne=Al(St(uo()),E);typeof Al.unload=="function"&&cn.setTimeout&&setTimeout(Al.unload,911),re(Ne)}catch(Xe){_e(Xe.message)}})},qt.API)qt.API.hasOwnProperty(Qr)&&(Qr==="events"&&qt.API.events.length?function(E,H){var re,_e,Ne;for(Ne=H.length-1;Ne!==-1;Ne--)re=H[Ne][0],_e=H[Ne][1],E.subscribe.apply(E,[re].concat(typeof _e=="function"?[_e]:_e))}(Mn,qt.API.events):S[Qr]=qt.API[Qr]);function ps(E){return rn[E].mediaBox.topRightX-rn[E].mediaBox.bottomLeftX}function ha(E,H){rn[E].mediaBox.topRightX=H+rn[E].mediaBox.bottomLeftX}function Sn(E){return rn[E].mediaBox.topRightY-rn[E].mediaBox.bottomLeftY}function Zi(E,H){rn[E].mediaBox.topRightY=H+rn[E].mediaBox.bottomLeftY}var Ls=S.getPageWidth=function(E){return ps(E=E||oe)/$t},Yi=S.setPageWidth=function(E,H){ha(E,H*$t)},Ps=S.getPageHeight=function(E){return Sn(E=E||oe)/$t},We=S.setPageHeight=function(E,H){Zi(E,H*$t)};return S.internal={pdfEscape:Vi,getStyle:Gn,getFont:Vo,getFontSize:Ze,getCharSpace:ds,getTextColor:fi,getLineHeight:Lr,getLineHeightFactor:Oa,getLineWidth:Lt,write:fn,getHorizontalCoordinate:Qt,getVerticalCoordinate:Yn,getCoordinateString:ca,getVerticalCoordinateString:co,collections:{},newObject:un,newAdditionalObject:At,newObjectDeferred:mt,newObjectDeferredBegin:Bn,getFilters:Ir,putStream:ui,events:Mn,scaleFactor:$t,pageSize:{getWidth:function(){return Ls(oe)},setWidth:function(E){Yi(oe,E)},getHeight:function(){return Ps(oe)},setHeight:function(E){We(oe,E)}},encryptionOptions:_,encryption:jn,getEncryptor:function(E){return _!==null?jn.encryptor(E,0):function(H){return H}},output:An,getNumberOfPages:Nn,pages:ot,out:pe,f2:K,f3:$,getPageInfo:dn,getPageInfoByObjId:Ur,getCurrentPageInfo:Oe,getPDFVersion:D,Point:br,Rectangle:Ts,Matrix:Ht,hasHotfix:zo},Object.defineProperty(S.internal.pageSize,"width",{get:function(){return Ls(oe)},set:function(E){Yi(oe,E)},enumerable:!0,configurable:!0}),Object.defineProperty(S.internal.pageSize,"height",{get:function(){return Ps(oe)},set:function(E){We(oe,E)},enumerable:!0,configurable:!0}),(function(E){for(var H=0,re=pt.length;H<re;H++){var _e=st.call(this,E[H][0],E[H][1],E[H][2],pt[H][3],!0);C===!1&&(P[_e]=!0);var Ne=E[H][0].split("-");Xs({id:_e,fontName:Ne[0],fontStyle:Ne[1]||""})}Mn.publish("addFonts",{fonts:Ge,dictionary:Tt})}).call(S,pt),Ct="F1",lo(s,n),Mn.publish("initialized"),S}nu.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},nu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},nu.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},nu.prototype.processOwnerPassword=function(e,t){return L0(T0(t).substr(0,5),e)},nu.prototype.encryptor=function(e,t){var n=T0(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return L0(n,i)}},Bf.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||ir(e)!==ir(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return i===0},qt.API={events:[]},qt.version="3.0.3";var Zr=qt.API,Wp=1,Hl=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$l=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mn=function(e){return e.toFixed(2)},Va=function(e){return e.toFixed(5)};Zr.__acroform__={};var Bo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Rm=function(e){return e*Wp},na=function(e){var t=new Pw,n=Rt.internal.getHeight(e)||0,i=Rt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(mn(i)),Number(mn(n))],t},Ib=Zr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Tb=Zr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Lb=Zr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},oi=Zr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Lb(e,t-1)},si=Zr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ib(e,t-1)},ai=Zr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Tb(e,t-1)},Pb=Zr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,s=e[0],a=e[1],d=e[2],g=e[3],v={};return v.lowerLeft_X=n(s)||0,v.lowerLeft_Y=i(a+g)||0,v.upperRight_X=n(s+d)||0,v.upperRight_Y=i(a)||0,[Number(mn(v.lowerLeft_X)),Number(mn(v.lowerLeft_Y)),Number(mn(v.upperRight_X)),Number(mn(v.upperRight_Y))]},Mb=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=P0(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+mn(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=na(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},P0=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(K){return K.split(`
`)}):s.map(function(K){return[K]});var a=n,d=Rt.internal.getHeight(e)||0;d=d<0?-d:d;var g=Rt.internal.getWidth(e)||0;g=g<0?-g:g;var v=function(K,$,ge){if(K+1<s.length){var me=$+" "+s[K+1][0];return jh(me,e,ge).width<=g-4}return!1};a++;e:for(;a>0;){t="",a--;var m,_,C=jh("3",e,a).height,P=e.multiline?d-a:(d-C)/2,S=P+=2,j=0,D=0,q=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+jh(t,e,a=12).width+", FieldWidth:"+g+`
`;break}for(var M="",B=0,F=0;F<s.length;F++)if(s.hasOwnProperty(F)){var Z=!1;if(s[F].length!==1&&q!==s[F].length-1){if((C+2)*(B+2)+2>d)continue e;M+=s[F][q],Z=!0,D=F,F--}else{M=(M+=s[F][q]+" ").substr(M.length-1)==" "?M.substr(0,M.length-1):M;var ye=parseInt(F),Se=v(ye,M,a),fe=F>=s.length-1;if(Se&&!fe){M+=" ",q=0;continue}if(Se||fe){if(fe)D=ye;else if(e.multiline&&(C+2)*(B+2)+2>d)continue e}else{if(!e.multiline||(C+2)*(B+2)+2>d)continue e;D=ye}}for(var de="",J=j;J<=D;J++){var be=s[J];if(e.multiline){if(J===D){de+=be[q]+" ",q=(q+1)%be.length;continue}if(J===j){de+=be[be.length-1]+" ";continue}}de+=be[0]+" "}switch(de=de.substr(de.length-1)==" "?de.substr(0,de.length-1):de,_=jh(de,e,a).width,e.textAlign){case"right":m=g-_-2;break;case"center":m=(g-_)/2;break;default:m=2}t+=mn(m)+" "+mn(S)+` Td
`,t+="("+Hl(de)+`) Tj
`,t+=-mn(m)+` 0 Td
`,S=-(a+2),_=0,j=Z?D:D+1,B++,M=""}break}return i.text=t,i.fontSize=a,i},jh=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},Ob={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kb=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Rb=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Zs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Ob)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Wp=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Mw,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];a.objId=void 0,a.hasAnnotation&&kb(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(i,s){var a=!i;for(var d in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(d)){var g=i[d],v=[],m=g.Rect;if(g.Rect&&(g.Rect=Pb(g.Rect,s)),s.internal.newObjectDeferredBegin(g.objId,!0),g.DA=Rt.createDefaultAppearanceStream(g),ir(g)==="object"&&typeof g.getKeyValueListForStream=="function"&&(v=g.getKeyValueListForStream()),g.Rect=m,g.hasAppearanceStream&&!g.appearanceStreamContent){var _=Mb(g);v.push({key:"AP",value:"<</N "+_+">>"}),s.internal.acroformPlugin.xForms.push(_)}if(g.appearanceStreamContent){var C="";for(var P in g.appearanceStreamContent)if(g.appearanceStreamContent.hasOwnProperty(P)){var S=g.appearanceStreamContent[P];if(C+="/"+P+" ",C+="<<",Object.keys(S).length>=1||Array.isArray(S)){for(var d in S)if(S.hasOwnProperty(d)){var j=S[d];typeof j=="function"&&(j=j.call(s,g)),C+="/"+d+" "+j+" ",s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j)}}else typeof(j=S)=="function"&&(j=j.call(s,g)),C+="/"+d+" "+j,s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j);C+=">>"}v.push({key:"AP",value:`<<
`+C+">>"})}s.internal.putStream({additionalKeyValues:v,objectId:g.objId}),s.internal.out("endobj")}a&&function(D,q){for(var M in D)if(D.hasOwnProperty(M)){var B=M,F=D[M];q.internal.newObjectDeferredBegin(F.objId,!0),ir(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete D[B]}}(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Lw=Zr.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(d){return d};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(a!==0&&(s+=" "),ir(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(i=n.internal.getEncryptor(t)),s+="("+Hl(i(e[a].toString()))+")"):s+=e[a].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},d1=function(e,t,n){var i=function(s){return s};return t!==void 0&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Hl(i(e))+")"},sa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sa.prototype.toString=function(){return this.objId+" 0 R"},sa.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},sa.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var i=t[n],s=this[i];s&&(Array.isArray(s)?e.push({key:i,value:Lw(s,this.objId,this.scope)}):s instanceof sa?(s.scope=this.scope,e.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:i,value:s}))}return e};var Pw=function(){sa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Bo(Pw,sa);var Mw=function(){sa.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Hl(n(e))+")"}},set:function(n){e=n}})};Bo(Mw,sa);var Zs=function e(){sa.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute F supplied.');t=M}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!oi(t,3)},set:function(M){M?this.F=si(t,3):this.F=ai(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute Ff supplied.');n=M}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(M){i=M!==void 0?M:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(M){i[0]=M}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(M){i[1]=M}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(M){i[2]=M}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(M){i[3]=M}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(M){switch(M){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=M;break;default:throw new Error('Invalid value "'+M+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Ff)return;a="FieldObject"+e.FieldNum++}var M=function(B){return B};return this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),"("+Hl(M(a))+")"},set:function(M){a=M.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(M){a=M}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(M){d=M}});var g="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return g},set:function(M){g=M}});var v=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return v},set:function(M){v=M}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/Wp:m},set:function(M){m=M}});var _="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return _},set:function(M){_=M}});var C="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!C||this instanceof Ff||this instanceof Tl))return d1(C,this.objId,this.scope)},set:function(M){M=M.toString(),C=M}});var P=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(P)return this instanceof Ii==0?d1(P,this.objId,this.scope):P},set:function(M){M=M.toString(),P=this instanceof Ii==0?M.substr(0,1)==="("?$l(M.substr(1,M.length-2)):$l(M):M}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ii==1?$l(P.substr(1,P.length-1)):P},set:function(M){M=M.toString(),P=this instanceof Ii==1?"/"+M:M}});var S=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(S)return S},set:function(M){this.V=M}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof Ii==0?d1(S,this.objId,this.scope):S},set:function(M){M=M.toString(),S=this instanceof Ii==0?M.substr(0,1)==="("?$l(M.substr(1,M.length-2)):$l(M):M}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ii==1?$l(S.substr(1,S.length-1)):S},set:function(M){M=M.toString(),S=this instanceof Ii==1?"/"+M:M}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,D=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return D},set:function(M){M=!!M,D=M}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(M){j=M}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,1)},set:function(M){M?this.Ff=si(this.Ff,1):this.Ff=ai(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,2)},set:function(M){M?this.Ff=si(this.Ff,2):this.Ff=ai(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,3)},set:function(M){M?this.Ff=si(this.Ff,3):this.Ff=ai(this.Ff,3)}});var q=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(q!==null)return q},set:function(M){if([0,1,2].indexOf(M)===-1)throw new Error('Invalid value "'+M+'" for attribute Q supplied.');q=M}}),Object.defineProperty(this,"textAlign",{get:function(){var M;switch(q){case 0:default:M="left";break;case 1:M="center";break;case 2:M="right"}return M},configurable:!0,enumerable:!0,set:function(M){switch(M){case"right":case 2:q=2;break;case"center":case 1:q=1;break;default:q=0}}})};Bo(Zs,sa);var Cu=function(){Zs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Lw(t,this.objId,this.scope)},set:function(n){var i,s;s=[],typeof(i=n)=="string"&&(s=function(a,d,g){g||(g=1);for(var v,m=[];v=d.exec(a);)m.push(v[g]);return m}(i,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,18)},set:function(n){n?this.Ff=si(this.Ff,18):this.Ff=ai(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=si(this.Ff,19):this.Ff=ai(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,20)},set:function(n){n?(this.Ff=si(this.Ff,20),t.sort()):this.Ff=ai(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,22)},set:function(n){n?this.Ff=si(this.Ff,22):this.Ff=ai(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,23)},set:function(n){n?this.Ff=si(this.Ff,23):this.Ff=ai(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,27)},set:function(n){n?this.Ff=si(this.Ff,27):this.Ff=ai(this.Ff,27)}}),this.hasAppearanceStream=!1};Bo(Cu,Zs);var Su=function(){Cu.call(this),this.fontName="helvetica",this.combo=!1};Bo(Su,Cu);var Eu=function(){Su.call(this),this.combo=!0};Bo(Eu,Su);var rf=function(){Eu.call(this),this.edit=!0};Bo(rf,Eu);var Ii=function(){Zs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,15)},set:function(n){n?this.Ff=si(this.Ff,15):this.Ff=ai(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,16)},set:function(n){n?this.Ff=si(this.Ff,16):this.Ff=ai(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,17)},set:function(n){n?this.Ff=si(this.Ff,17):this.Ff=ai(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,26)},set:function(n){n?this.Ff=si(this.Ff,26):this.Ff=ai(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,s=[];for(i in s.push("<<"),t)s.push("/"+i+" ("+Hl(n(t[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){ir(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Bo(Ii,Zs);var of=function(){Ii.call(this),this.pushButton=!0};Bo(of,Ii);var Nu=function(){Ii.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Bo(Nu,Ii);var Ff=function(){var e,t;Zs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(g){return g};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,d=[];for(a in d.push("<<"),i)d.push("/"+a+" ("+Hl(s(i[a]))+")");return d.push(">>"),d.join(`
`)},set:function(s){ir(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Bo(Ff,Zs),Nu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Nu.prototype.createOption=function(e){var t=new Ff;return t.Parent=this,t.optionName=e,this.Kids.push(t),Db.call(this.scope,t),t};var sf=function(){Ii.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rt.CheckBox.createAppearanceStream()};Bo(sf,Ii);var Tl=function(){Zs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,13)},set:function(t){t?this.Ff=si(this.Ff,13):this.Ff=ai(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,21)},set:function(t){t?this.Ff=si(this.Ff,21):this.Ff=ai(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,23)},set:function(t){t?this.Ff=si(this.Ff,23):this.Ff=ai(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,24)},set:function(t){t?this.Ff=si(this.Ff,24):this.Ff=ai(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,25)},set:function(t){t?this.Ff=si(this.Ff,25):this.Ff=ai(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,26)},set:function(t){t?this.Ff=si(this.Ff,26):this.Ff=ai(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Bo(Tl,Zs);var af=function(){Tl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,14)},set:function(e){e?this.Ff=si(this.Ff,14):this.Ff=ai(this.Ff,14)}}),this.password=!0};Bo(af,Tl);var Rt={CheckBox:{createAppearanceStream:function(){return{N:{On:Rt.CheckBox.YesNormal},D:{On:Rt.CheckBox.YesPushDown,Off:Rt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=na(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=P0(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+mn(Rt.internal.getWidth(e))+" "+mn(Rt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+mn(a.fontSize)+" Tf "+s),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=na(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=[],a=Rt.internal.getHeight(e),d=Rt.internal.getWidth(e),g=P0(e,e.caption);return s.push("1 g"),s.push("0 0 "+mn(d)+" "+mn(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+mn(d-1)+" "+mn(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+mn(g.fontSize)+" Tf "+i),s.push(g.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=na(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+mn(Rt.internal.getWidth(e))+" "+mn(Rt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Rt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Rt.RadioButton.Circle.YesNormal,t.D[e]=Rt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=na(e);t.scope=e.scope;var n=[],i=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var s=Rt.internal.Bezier_C,a=Number((i*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Va(Rt.internal.getWidth(e)/2)+" "+Va(Rt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=na(e);t.scope=e.scope;var n=[],i=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),a=Number((s*Rt.internal.Bezier_C).toFixed(5)),d=Number((i*Rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Va(Rt.internal.getWidth(e)/2)+" "+Va(Rt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Va(Rt.internal.getWidth(e)/2)+" "+Va(Rt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+d+" "+d+" "+i+" 0 "+i+" c"),n.push("-"+d+" "+i+" -"+i+" "+d+" -"+i+" 0 c"),n.push("-"+i+" -"+d+" -"+d+" -"+i+" 0 -"+i+" c"),n.push(d+" -"+i+" "+i+" -"+d+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=na(e);t.scope=e.scope;var n=[],i=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),a=Number((s*Rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Va(Rt.internal.getWidth(e)/2)+" "+Va(Rt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Rt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Rt.RadioButton.Cross.YesNormal,t.D[e]=Rt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=na(e);t.scope=e.scope;var n=[],i=Rt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+mn(Rt.internal.getWidth(e)-2)+" "+mn(Rt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(mn(i.x1.x)+" "+mn(i.x1.y)+" m"),n.push(mn(i.x2.x)+" "+mn(i.x2.y)+" l"),n.push(mn(i.x4.x)+" "+mn(i.x4.y)+" m"),n.push(mn(i.x3.x)+" "+mn(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=na(e);t.scope=e.scope;var n=Rt.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+mn(Rt.internal.getWidth(e))+" "+mn(Rt.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+mn(Rt.internal.getWidth(e)-2)+" "+mn(Rt.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(mn(n.x1.x)+" "+mn(n.x1.y)+" m"),i.push(mn(n.x2.x)+" "+mn(n.x2.y)+" l"),i.push(mn(n.x4.x)+" "+mn(n.x4.y)+" m"),i.push(mn(n.x3.x)+" "+mn(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=na(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+mn(Rt.internal.getWidth(e))+" "+mn(Rt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Rt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Rt.internal.getWidth(e),n=Rt.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},Rt.internal.getWidth=function(e){var t=0;return ir(e)==="object"&&(t=Rm(e.Rect[2])),t},Rt.internal.getHeight=function(e){var t=0;return ir(e)==="object"&&(t=Rm(e.Rect[3])),t};var Db=Zr.addField=function(e){if(Rb(this,e),!(e instanceof Zs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Zr.AcroFormChoiceField=Cu,Zr.AcroFormListBox=Su,Zr.AcroFormComboBox=Eu,Zr.AcroFormEditBox=rf,Zr.AcroFormButton=Ii,Zr.AcroFormPushButton=of,Zr.AcroFormRadioButton=Nu,Zr.AcroFormCheckBox=sf,Zr.AcroFormTextField=Tl,Zr.AcroFormPasswordField=af,Zr.AcroFormAppearance=Rt,Zr.AcroForm={ChoiceField:Cu,ListBox:Su,ComboBox:Eu,EditBox:rf,Button:Ii,PushButton:of,RadioButton:Nu,CheckBox:sf,TextField:Tl,PasswordField:af,Appearance:Rt},qt.AcroForm={ChoiceField:Cu,ListBox:Su,ComboBox:Eu,EditBox:rf,Button:Ii,PushButton:of,RadioButton:Nu,CheckBox:sf,TextField:Tl,PasswordField:af,Appearance:Rt};qt.AcroForm;function Ow(e){return e.reduce(function(t,n,i){return t[n]=i,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(K,$){var ge,me,ce,Be,Le,he=n;if(($=$||n)==="RGBA"||K.data!==void 0&&K.data instanceof Uint8ClampedArray&&"height"in K&&"width"in K)return"RGBA";if(Se(K))for(Le in i)for(ce=i[Le],ge=0;ge<ce.length;ge+=1){for(Be=!0,me=0;me<ce[ge].length;me+=1)if(ce[ge][me]!==void 0&&ce[ge][me]!==K[me]){Be=!1;break}if(Be===!0){he=Le;break}}else for(Le in i)for(ce=i[Le],ge=0;ge<ce.length;ge+=1){for(Be=!0,me=0;me<ce[ge].length;me+=1)if(ce[ge][me]!==void 0&&ce[ge][me]!==K.charCodeAt(me)){Be=!1;break}if(Be===!0){he=Le;break}}return he===n&&$!==n&&(he=$),he},a=function K($){for(var ge=this.internal.write,me=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var Be=[];if(Be.push({key:"Type",value:"/XObject"}),Be.push({key:"Subtype",value:"/Image"}),Be.push({key:"Width",value:$.width}),Be.push({key:"Height",value:$.height}),$.colorSpace===M.INDEXED?Be.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(Be.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===M.DEVICE_CMYK&&Be.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Be.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&Be.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)&&$.transparency.length>0){for(var Le="",he=0,Pe=$.transparency.length;he<Pe;he++)Le+=$.transparency[he]+" "+$.transparency[he]+" ";Be.push({key:"Mask",value:"["+Le+"]"})}$.sMask!==void 0&&Be.push({key:"SMask",value:$.objectId+1+" 0 R"});var Ie=$.filter!==void 0?["/"+$.filter]:void 0;if(me({data:$.data,additionalKeyValues:Be,alreadyAppliedFilters:Ie,objectId:$.objectId}),ge("endobj"),"sMask"in $&&$.sMask!==void 0){var He,V=(He=$.sMaskBitsPerComponent)!==null&&He!==void 0?He:$.bitsPerComponent,oe={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:$.sMask};"filter"in $&&(oe.decodeParameters="/Predictor ".concat($.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat($.width),oe.filter=$.filter),K.call(this,oe)}if($.colorSpace===M.INDEXED){var se=this.internal.newObject();me({data:de(new Uint8Array($.palette)),objectId:se}),ge("endobj")}},d=function(){var K=this.internal.collections[t+"images"];for(var $ in K)a.call(this,K[$])},g=function(){var K,$=this.internal.collections[t+"images"],ge=this.internal.write;for(var me in $)ge("/I"+(K=$[me]).index,K.objectId,"0","R")},v=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",d),this.internal.events.subscribe("putXobjectDict",g))},m=function(){var K=this.internal.collections[t+"images"];return v.call(this),K},_=function(){return Object.keys(this.internal.collections[t+"images"]).length},C=function(K){return typeof e["process"+K.toUpperCase()]=="function"},P=function(K){return ir(K)==="object"&&K.nodeType===1},S=function(K,$){if(K.nodeName==="IMG"&&K.hasAttribute("src")){var ge=""+K.getAttribute("src");if(ge.indexOf("data:image/")===0)return nf(unescape(ge).split("base64,").pop());var me=e.loadFile(ge,!0);if(me!==void 0)return me}if(K.nodeName==="CANVAS"){if(K.width===0||K.height===0)throw new Error("Given canvas must have data. Canvas width: "+K.width+", height: "+K.height);var ce;switch($){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return nf(K.toDataURL(ce,1).split("base64,").pop())}},j=function(K){var $=this.internal.collections[t+"images"];if($){for(var ge in $)if(K===$[ge].alias)return $[ge]}},D=function(K,$,ge){return K||$||(K=-96,$=-96),K<0&&(K=-1*ge.width*72/K/this.internal.scaleFactor),$<0&&($=-1*ge.height*72/$/this.internal.scaleFactor),K===0&&(K=$*ge.width/ge.height),$===0&&($=K*ge.height/ge.width),[K,$]},q=function(K,$,ge,me,ce,Be){var Le=D.call(this,ge,me,ce),he=this.internal.getCoordinateString,Pe=this.internal.getVerticalCoordinateString,Ie=m.call(this);if(ge=Le[0],me=Le[1],Ie[ce.index]=ce,Be){Be*=Math.PI/180;var He=Math.cos(Be),V=Math.sin(Be),oe=function(ve){return ve.toFixed(4)},se=[oe(He),oe(V),oe(-1*V),oe(He),0,0,"cm"]}this.internal.write("q"),Be?(this.internal.write([1,"0","0",1,he(K),Pe($+me),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([he(ge),"0","0",he(me),"0","0","cm"].join(" "))):this.internal.write([he(ge),"0","0",he(me),he(K),Pe($+me),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},M=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var B=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=e.__addimage__.sHashCode=function(K){var $,ge,me=0;if(typeof K=="string")for(ge=K.length,$=0;$<ge;$++)me=(me<<5)-me+K.charCodeAt($),me|=0;else if(Se(K))for(ge=K.byteLength/2,$=0;$<ge;$++)me=(me<<5)-me+K[$],me|=0;return me},Z=e.__addimage__.validateStringAsBase64=function(K){(K=K||"").toString().trim();var $=!0;return K.length===0&&($=!1),K.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(K.substr(0,K.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(K.substr(-2))===!1&&($=!1),$},ye=e.__addimage__.extractImageFromDataUrl=function(K){if(K==null||!(K=K.trim()).startsWith("data:"))return null;var $=K.indexOf(",");return $<0?null:K.substring(0,$).trim().endsWith("base64")?K.substring($+1):null};e.__addimage__.isArrayBuffer=function(K){return K instanceof ArrayBuffer};var Se=e.__addimage__.isArrayBufferView=function(K){return K instanceof Int8Array||K instanceof Uint8Array||K instanceof Uint8ClampedArray||K instanceof Int16Array||K instanceof Uint16Array||K instanceof Int32Array||K instanceof Uint32Array||K instanceof Float32Array||K instanceof Float64Array},fe=e.__addimage__.binaryStringToUint8Array=function(K){for(var $=K.length,ge=new Uint8Array($),me=0;me<$;me++)ge[me]=K.charCodeAt(me);return ge},de=e.__addimage__.arrayBufferToBinaryString=function(K){for(var $="",ge=Se(K)?K:new Uint8Array(K),me=0;me<ge.length;me+=8192)$+=String.fromCharCode.apply(null,ge.subarray(me,me+8192));return $};e.addImage=function(){var K,$,ge,me,ce,Be,Le,he,Pe;if(typeof arguments[1]=="number"?($=n,ge=arguments[1],me=arguments[2],ce=arguments[3],Be=arguments[4],Le=arguments[5],he=arguments[6],Pe=arguments[7]):($=arguments[1],ge=arguments[2],me=arguments[3],ce=arguments[4],Be=arguments[5],Le=arguments[6],he=arguments[7],Pe=arguments[8]),ir(K=arguments[0])==="object"&&!P(K)&&"imageData"in K){var Ie=K;K=Ie.imageData,$=Ie.format||$||n,ge=Ie.x||ge||0,me=Ie.y||me||0,ce=Ie.w||Ie.width||ce,Be=Ie.h||Ie.height||Be,Le=Ie.alias||Le,he=Ie.compression||he,Pe=Ie.rotation||Ie.angle||Pe}var He=this.internal.getFilters();if(he===void 0&&He.indexOf("FlateEncode")!==-1&&(he="SLOW"),isNaN(ge)||isNaN(me))throw new Error("Invalid coordinates passed to jsPDF.addImage");v.call(this);var V=J.call(this,K,$,Le,he);return q.call(this,ge,me,ce,Be,V,Pe),this};var J=function(K,$,ge,me){var ce,Be,Le;if(typeof K=="string"&&s(K)===n){K=unescape(K);var he=be(K,!1);(he!==""||(he=e.loadFile(K,!0))!==void 0)&&(K=he)}if(P(K)&&(K=S(K,$)),$=s(K,$),!C($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((Le=ge)==null||Le.length===0)&&(ge=function(Pe){return typeof Pe=="string"||Se(Pe)?F(Pe):Se(Pe.data)?F(Pe.data):null}(K)),(ce=j.call(this,ge))||(K instanceof Uint8Array||$==="RGBA"||(Be=K,K=fe(K)),ce=this["process"+$.toUpperCase()](K,_.call(this),ge,function(Pe){return Pe&&typeof Pe=="string"&&(Pe=Pe.toUpperCase()),Pe in e.image_compression?Pe:B.NONE}(me),Be)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},be=e.__addimage__.convertBase64ToBinaryString=function(K,$){$=typeof $!="boolean"||$;var ge,me="";if(typeof K=="string"){var ce;ge=(ce=ye(K))!==null&&ce!==void 0?ce:K;try{me=nf(ge)}catch(Be){if($)throw Z(ge)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Be.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return me};e.getImageProperties=function(K){var $,ge,me="";if(P(K)&&(K=S(K)),typeof K=="string"&&s(K)===n&&((me=be(K,!1))===""&&(me=e.loadFile(K)||""),K=me),ge=s(K),!C(ge))throw new Error("addImage does not support files of type '"+ge+"', please ensure that a plugin for '"+ge+"' support is added.");if(K instanceof Uint8Array||(K=fe(K)),!($=this["process"+ge.toUpperCase()](K)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=ge,$}})(qt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};qt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var i,s,a,d=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString,v=this.internal.getPageInfoByObjId(n.objId),m=n.pageContext.annotations,_=!1,C=0;C<m.length&&!_;C++)switch((i=m[C]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(_=!0);break;case"reference":case"text":case"freetext":_=!0}if(_!=0){this.internal.write("/Annots [");for(var P=0;P<m.length;P++){i=m[P];var S=this.internal.pdfEscape,j=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var D=this.internal.newAdditionalObject(),q=this.internal.newAdditionalObject(),M=this.internal.getEncryptor(D.objId),B=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+d(i.bounds.x)+" "+g(i.bounds.y+i.bounds.h)+" "+d(i.bounds.x+i.bounds.w)+" "+g(i.bounds.y)+"] ")+"/Contents ("+S(M(i.contents))+")",a+=" /Popup "+q.objId+" 0 R",a+=" /P "+v.objId+" 0 R",a+=" /T ("+S(M(B))+") >>",D.content=a;var F=D.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+d(i.bounds.x+30)+" "+g(i.bounds.y+i.bounds.h)+" "+d(i.bounds.x+i.bounds.w+30)+" "+g(i.bounds.y)+"] ")+" /Parent "+F,i.open&&(a+=" /Open true"),a+=" >>",q.content=a,this.internal.write(D.objId,"0 R",q.objId,"0 R");break;case"freetext":s="/Rect ["+d(i.bounds.x)+" "+g(i.bounds.y)+" "+d(i.bounds.x+i.bounds.w)+" "+g(i.bounds.y+i.bounds.h)+"] ";var Z=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+S(j(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Z+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var ye=this.annotations._nameMap[i.options.name];i.options.pageNumber=ye.page,i.options.top=ye.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+S(j(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;default:var Se=g(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+Se+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},e.link=function(n,i,s,a,d){var g=this.internal.getCurrentPageInfo(),v=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;g.pageContext.annotations.push({finalBounds:{x:v(n),y:m(i),w:v(n+s),h:m(i+a)},options:d,type:"link"})},e.textWithLink=function(n,i,s,a){var d,g,v=this.getTextWidth(n),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){g=a.maxWidth;var _=this.splitTextToSize(n,g).length;d=Math.ceil(m*_)}else g=v,d=m;return this.text(n,i,s,a),s+=.2*m,a.align==="center"&&(i-=v/2),a.align==="right"&&(i-=v),this.link(i,s-m,g,d,a),v},e.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(qt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(D){return t[D.charCodeAt(0)]!==void 0},d=e.__arabicParser__.isArabicLetter=function(D){return typeof D=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(D)},g=e.__arabicParser__.isArabicEndLetter=function(D){return d(D)&&a(D)&&t[D.charCodeAt(0)].length<=2},v=e.__arabicParser__.isArabicAlfLetter=function(D){return d(D)&&s.indexOf(D.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(D){return d(D)&&a(D)&&t[D.charCodeAt(0)].length>=1};var m=e.__arabicParser__.arabicLetterHasFinalForm=function(D){return d(D)&&a(D)&&t[D.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(D){return d(D)&&a(D)&&t[D.charCodeAt(0)].length>=3};var _=e.__arabicParser__.arabicLetterHasMedialForm=function(D){return d(D)&&a(D)&&t[D.charCodeAt(0)].length==4},C=e.__arabicParser__.resolveLigatures=function(D){var q=0,M=n,B="",F=0;for(q=0;q<D.length;q+=1)M[D.charCodeAt(q)]!==void 0?(F++,typeof(M=M[D.charCodeAt(q)])=="number"&&(B+=String.fromCharCode(M),M=n,F=0),q===D.length-1&&(M=n,B+=D.charAt(q-(F-1)),q-=F-1,F=0)):(M=n,B+=D.charAt(q-F),q-=F,F=0);return B};e.__arabicParser__.isArabicDiacritic=function(D){return D!==void 0&&i[D.charCodeAt(0)]!==void 0};var P=e.__arabicParser__.getCorrectForm=function(D,q,M){return d(D)?a(D)===!1?-1:!m(D)||!d(q)&&!d(M)||!d(M)&&g(q)||g(D)&&!d(q)||g(D)&&v(q)||g(D)&&g(q)?0:_(D)&&d(q)&&!g(q)&&d(M)&&m(M)?3:g(D)||!d(M)?1:2:-1},S=function(D){var q=0,M=0,B=0,F="",Z="",ye="",Se=(D=D||"").split("\\s+"),fe=[];for(q=0;q<Se.length;q+=1){for(fe.push(""),M=0;M<Se[q].length;M+=1)F=Se[q][M],Z=Se[q][M-1],ye=Se[q][M+1],d(F)?(B=P(F,Z,ye),fe[q]+=B!==-1?String.fromCharCode(t[F.charCodeAt(0)][B]):F):fe[q]+=F;fe[q]=C(fe[q])}return fe.join(" ")},j=e.__arabicParser__.processArabic=e.processArabic=function(){var D,q=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,M=[];if(Array.isArray(q)){var B=0;for(M=[],B=0;B<q.length;B+=1)Array.isArray(q[B])?M.push([S(q[B][0]),q[B][1],q[B][2]]):M.push([S(q[B])]);D=M}else D=S(q);return typeof arguments[0]=="string"?D:(arguments[0].text=D,arguments[0])};e.events.push(["preProcessText",j])}(qt.API),qt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(g){n=g}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(g){i=isNaN(g)||Number.isInteger(g)===!1||g<0?150:g,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(g){s=isNaN(g)||Number.isInteger(g)===!1||g<0?300:g,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(g){a=g}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(g){d=g}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,i){var s;if((n=n||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(qt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var v=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return v},set:function(D){v=D}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(D){m=D}});var _=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return _},set:function(D){_=D}});var C=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return C},set:function(D){C=D}});var P=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return P},set:function(D){P=D}});var S=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return S},set:function(D){S=D}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(D){j=D}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(v){return i.call(this),this.internal.__cell__.headerFunction=typeof v=="function"?v:void 0,this},e.getTextDimensions=function(v,m){i.call(this);var _=(m=m||{}).fontSize||this.getFontSize(),C=m.font||this.getFont(),P=m.scaleFactor||this.internal.scaleFactor,S=0,j=0,D=0,q=this;if(!Array.isArray(v)&&typeof v!="string"){if(typeof v!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");v=String(v)}var M=m.maxWidth;M>0?typeof v=="string"?v=this.splitTextToSize(v,M):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(F,Z){return F.concat(q.splitTextToSize(Z,M))},[])):v=Array.isArray(v)?v:[v];for(var B=0;B<v.length;B++)S<(D=this.getStringUnitWidth(v[B],{font:C})*_)&&(S=D);return S!==0&&(j=v.length),{w:S/=P,h:Math.max((j*_*this.getLineHeightFactor()-_*(this.getLineHeightFactor()-1))/P,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var v=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(v.left,v.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=e.cell=function(){var v;v=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var m=this.internal.__cell__.lastCell,_=this.internal.__cell__.padding,C=this.internal.__cell__.margins||t,P=this.internal.__cell__.tableHeaderRow,S=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===v.lineNumber?(v.x=(m.x||0)+(m.width||0),v.y=m.y||0):m.y+m.height+v.height+C.bottom>this.getPageHeight()?(this.cellAddPage(),v.y=C.top,S&&P&&(this.printHeaderRow(v.lineNumber,!0),v.y+=P[0].height)):v.y=m.y+m.height||v.y),v.text[0]!==void 0&&(this.rect(v.x,v.y,v.width,v.height,n===!0?"FD":void 0),v.align==="right"?this.text(v.text,v.x+v.width-_,v.y+_,{align:"right",baseline:"top"}):v.align==="center"?this.text(v.text,v.x+v.width/2,v.y+_,{align:"center",baseline:"top",maxWidth:v.width-_-_}):this.text(v.text,v.x+_,v.y+_,{align:"left",baseline:"top",maxWidth:v.width-_-_})),this.internal.__cell__.lastCell=v,this};e.table=function(v,m,_,C,P){if(i.call(this),!_)throw new Error("No data for PDF table.");var S,j,D,q,M=[],B=[],F=[],Z={},ye={},Se=[],fe=[],de=(P=P||{}).autoSize||!1,J=P.printHeaders!==!1,be=P.css&&P.css["font-size"]!==void 0?16*P.css["font-size"]:P.fontSize||12,K=P.margins||Object.assign({width:this.getPageWidth()},t),$=typeof P.padding=="number"?P.padding:3,ge=P.headerBackgroundColor||"#c8c8c8",me=P.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=J,this.internal.__cell__.margins=K,this.internal.__cell__.table_font_size=be,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=ge,this.internal.__cell__.headerTextColor=me,this.setFontSize(be),C==null)B=M=Object.keys(_[0]),F=M.map(function(){return"left"});else if(Array.isArray(C)&&ir(C[0])==="object")for(M=C.map(function(Ie){return Ie.name}),B=C.map(function(Ie){return Ie.prompt||Ie.name||""}),F=C.map(function(Ie){return Ie.align||"left"}),S=0;S<C.length;S+=1)ye[C[S].name]=.7499990551181103*C[S].width;else Array.isArray(C)&&typeof C[0]=="string"&&(B=M=C,F=M.map(function(){return"left"}));if(de||Array.isArray(C)&&typeof C[0]=="string")for(S=0;S<M.length;S+=1){for(Z[q=M[S]]=_.map(function(Ie){return Ie[q]}),this.setFont(void 0,"bold"),Se.push(this.getTextDimensions(B[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=Z[q],this.setFont(void 0,"normal"),D=0;D<j.length;D+=1)Se.push(this.getTextDimensions(j[D],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ye[q]=Math.max.apply(null,Se)+$+$,Se=[]}if(J){var ce={};for(S=0;S<M.length;S+=1)ce[M[S]]={},ce[M[S]].text=B[S],ce[M[S]].align=F[S];var Be=g.call(this,ce,ye);fe=M.map(function(Ie){return new a(v,m,ye[Ie],Be,ce[Ie].text,void 0,ce[Ie].align)}),this.setTableHeaderRow(fe),this.printHeaderRow(1,!1)}var Le=C.reduce(function(Ie,He){return Ie[He.name]=He.align,Ie},{});for(S=0;S<_.length;S+=1){"rowStart"in P&&P.rowStart instanceof Function&&P.rowStart({row:S,data:_[S]},this);var he=g.call(this,_[S],ye);for(D=0;D<M.length;D+=1){var Pe=_[S][M[D]];"cellStart"in P&&P.cellStart instanceof Function&&P.cellStart({row:S,col:D,data:Pe},this),d.call(this,new a(v,m,ye[M[D]],he,Pe,S+2,Le[M[D]]))}}return this.internal.__cell__.table_x=v,this.internal.__cell__.table_y=m,this};var g=function(v,m){var _=this.internal.__cell__.padding,C=this.internal.__cell__.table_font_size,P=this.internal.scaleFactor;return Object.keys(v).map(function(S){var j=v[S];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,m[S]-_-_)},this).map(function(S){return this.getLineHeightFactor()*S.length*C/P+_+_},this).reduce(function(S,j){return Math.max(S,j)},0)};e.setTableHeaderRow=function(v){i.call(this),this.internal.__cell__.tableHeaderRow=v},e.printHeaderRow=function(v,m){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var _;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var C=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(C[0],C[1],C[2],C[3],void 0,-1)}this.setFont(void 0,"bold");for(var P=[],S=0;S<this.internal.__cell__.tableHeaderRow.length;S+=1){_=this.internal.__cell__.tableHeaderRow[S].clone(),m&&(_.y=this.internal.__cell__.margins.top||0,P.push(_)),_.lineNumber=v;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,_),this.setTextColor(j)}P.length>0&&this.setTableHeaderRow(P),this.setFont(void 0,"normal"),n=!1}}(qt.API);var kw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Rw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],M0=Ow(Rw),Dw=[100,200,300,400,500,600,700,800,900],Bb=Ow(Dw);function p1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return kw[a=a||"normal"]?a:"normal"}(e.style),i=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),s=function(a){return typeof M0[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:i,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,i].join(" ")}}}function Dm(e,t,n,i){var s;for(s=n;s>=0&&s<t.length;s+=i)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=i)if(e[t[s]])return e[t[s]]}var Fb={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Bm={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Fm(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function jm(e){return e.trimLeft()}function jb(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function zb(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var zh,zm,Um,eu,Uh,Hm,Wm,Vm,g1=["times"];function qm(e,t,n,i,s){var a=4,d=Zm;switch(s){case qt.API.image_compression.FAST:a=1,d=Gm;break;case qt.API.image_compression.MEDIUM:a=6,d=Ym;break;case qt.API.image_compression.SLOW:a=9,d=Xm}e=function(v,m,_,C){for(var P,S=v.length/m,j=new Uint8Array(v.length+S),D=[Ub,Gm,Zm,Ym,Xm],q=0;q<S;q+=1){var M=q*m,B=v.subarray(M,M+m);if(C)j.set(C(B,_,P),M+q);else{for(var F=D.length,Z=[],ye=0;ye<F;ye+=1)Z[ye]=D[ye](B,_,P);var Se=Wb(Z.concat());j.set(Z[Se],M+q)}P=B}return j}(e,t,Math.ceil(n*i/8),d);var g=S0(e,{level:a});return qt.API.__addimage__.arrayBufferToBinaryString(g)}function Ub(e){var t=Array.apply([],e);return t.unshift(0),t}function Gm(e,t){var n=e.length,i=[];i[0]=1;for(var s=0;s<n;s+=1){var a=e[s-t]||0;i[s+1]=e[s]-a+256&255}return i}function Zm(e,t,n){var i=e.length,s=[];s[0]=2;for(var a=0;a<i;a+=1){var d=n&&n[a]||0;s[a+1]=e[a]-d+256&255}return s}function Ym(e,t,n){var i=e.length,s=[];s[0]=3;for(var a=0;a<i;a+=1){var d=e[a-t]||0,g=n&&n[a]||0;s[a+1]=e[a]+256-(d+g>>>1)&255}return s}function Xm(e,t,n){var i=e.length,s=[];s[0]=4;for(var a=0;a<i;a+=1){var d=Hb(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);s[a+1]=e[a]-d+256&255}return s}function Hb(e,t,n){if(e===t&&t===n)return e;var i=Math.abs(t-n),s=Math.abs(e-n),a=Math.abs(e+t-n-n);return i<=s&&i<=a?e:s<=a?t:n}function Wb(e){var t=e.map(function(n){return n.reduce(function(i,s){return i+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function m1(e,t,n){var i=t*n,s=Math.floor(i/8),a=16-(i-8*s+n),d=(1<<n)-1;return Bw(e,s)>>a&d}function Km(e,t,n,i){var s=n*i,a=Math.floor(s/8),d=16-(s-8*a+i),g=(1<<i)-1,v=(t&g)<<d;(function(m,_,C){if(_+1<m.byteLength)m.setUint16(_,C,!1);else{var P=C>>8&255;m.setUint8(_,P)}})(e,a,Bw(e,a)&~(g<<d)&65535|v)}function Bw(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Vb(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,d=1<<1+(7&s);e[t++],e[t++];var g=null,v=null;a&&(g=t,v=d,t+=3*d);var m=!0,_=[],C=0,P=null,S=0,j=null;for(this.width=n,this.height=i;m&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,j=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((K=e[t++])>=0))throw Error("Invalid block size");if(K===0)break;t+=K}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var D=e[t++];C=e[t++]|e[t++]<<8,P=e[t++],1&D||(P=null),S=D>>2&7,t++;break;case 254:for(;;){if(!((K=e[t++])>=0))throw Error("Invalid block size");if(K===0)break;t+=K}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var q=e[t++]|e[t++]<<8,M=e[t++]|e[t++]<<8,B=e[t++]|e[t++]<<8,F=e[t++]|e[t++]<<8,Z=e[t++],ye=Z>>6&1,Se=1<<1+(7&Z),fe=g,de=v,J=!1;Z>>7&&(J=!0,fe=t,de=Se,t+=3*Se);var be=t;for(t++;;){var K;if(!((K=e[t++])>=0))throw Error("Invalid block size");if(K===0)break;t+=K}_.push({x:q,y:M,width:B,height:F,has_local_palette:J,palette_offset:fe,palette_size:de,data_offset:be,data_length:t-be,transparent_index:P,interlaced:!!ye,delay:C,disposal:S});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return _.length},this.loopCount=function(){return j},this.frameInfo=function($){if($<0||$>=_.length)throw new Error("Frame index out of range.");return _[$]},this.decodeAndBlitFrameBGRA=function($,ge){var me=this.frameInfo($),ce=me.width*me.height,Be=new Uint8Array(ce);Qm(e,me.data_offset,Be,ce);var Le=me.palette_offset,he=me.transparent_index;he===null&&(he=256);var Pe=me.width,Ie=n-Pe,He=Pe,V=4*(me.y*n+me.x),oe=4*((me.y+me.height)*n+me.x),se=V,ve=4*Ie;me.interlaced===!0&&(ve+=4*n*7);for(var ue=8,Me=0,Fe=Be.length;Me<Fe;++Me){var Ve=Be[Me];if(He===0&&(He=Pe,(se+=ve)>=oe&&(ve=4*Ie+4*n*(ue-1),se=V+(Pe+Ie)*(ue<<1),ue>>=1)),Ve===he)se+=4;else{var Je=e[Le+3*Ve],ot=e[Le+3*Ve+1],gt=e[Le+3*Ve+2];ge[se++]=gt,ge[se++]=ot,ge[se++]=Je,ge[se++]=255}--He}},this.decodeAndBlitFrameRGBA=function($,ge){var me=this.frameInfo($),ce=me.width*me.height,Be=new Uint8Array(ce);Qm(e,me.data_offset,Be,ce);var Le=me.palette_offset,he=me.transparent_index;he===null&&(he=256);var Pe=me.width,Ie=n-Pe,He=Pe,V=4*(me.y*n+me.x),oe=4*((me.y+me.height)*n+me.x),se=V,ve=4*Ie;me.interlaced===!0&&(ve+=4*n*7);for(var ue=8,Me=0,Fe=Be.length;Me<Fe;++Me){var Ve=Be[Me];if(He===0&&(He=Pe,(se+=ve)>=oe&&(ve=4*Ie+4*n*(ue-1),se=V+(Pe+Ie)*(ue<<1),ue>>=1)),Ve===he)se+=4;else{var Je=e[Le+3*Ve],ot=e[Le+3*Ve+1],gt=e[Le+3*Ve+2];ge[se++]=Je,ge[se++]=ot,ge[se++]=gt,ge[se++]=255}--He}}}function Qm(e,t,n,i){for(var s=e[t++],a=1<<s,d=a+1,g=d+1,v=s+1,m=(1<<v)-1,_=0,C=0,P=0,S=e[t++],j=new Int32Array(4096),D=null;;){for(;_<16&&S!==0;)C|=e[t++]<<_,_+=8,S===1?S=e[t++]:--S;if(_<v)break;var q=C&m;if(C>>=v,_-=v,q!==a){if(q===d)break;for(var M=q<g?q:D,B=0,F=M;F>a;)F=j[F]>>8,++B;var Z=F;if(P+B+(M!==q?1:0)>i)return void fr.log("Warning, gif stream longer than expected.");n[P++]=Z;var ye=P+=B;for(M!==q&&(n[P++]=Z),F=M;B--;)F=j[F],n[--ye]=255&F,F>>=8;D!==null&&g<4096&&(j[g++]=D<<8|Z,g>=m+1&&v<12&&(++v,m=m<<1|1)),D=q}else g=d+1,m=(1<<(v=s+1))-1,D=null}return P!==i&&fr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function v1(e){var t,n,i,s,a,d=Math.floor,g=new Array(64),v=new Array(64),m=new Array(64),_=new Array(64),C=new Array(65535),P=new Array(65535),S=new Array(64),j=new Array(64),D=[],q=0,M=7,B=new Array(64),F=new Array(64),Z=new Array(64),ye=new Array(256),Se=new Array(2048),fe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],de=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],be=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],K=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ge=[0,1,2,3,4,5,6,7,8,9,10,11],me=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Be(V,oe){for(var se=0,ve=0,ue=new Array,Me=1;Me<=16;Me++){for(var Fe=1;Fe<=V[Me];Fe++)ue[oe[ve]]=[],ue[oe[ve]][0]=se,ue[oe[ve]][1]=Me,ve++,se++;se*=2}return ue}function Le(V){for(var oe=V[0],se=V[1]-1;se>=0;)oe&1<<se&&(q|=1<<M),se--,--M<0&&(q==255?(he(255),he(0)):he(q),M=7,q=0)}function he(V){D.push(V)}function Pe(V){he(V>>8&255),he(255&V)}function Ie(V,oe,se,ve,ue){for(var Me,Fe=ue[0],Ve=ue[240],Je=function(Ke,kt){var Ze,nn,zt,vn,sn,Ut,Rn,Xt,Ct,$t,Dt=0;for(Ct=0;Ct<8;++Ct){Ze=Ke[Dt],nn=Ke[Dt+1],zt=Ke[Dt+2],vn=Ke[Dt+3],sn=Ke[Dt+4],Ut=Ke[Dt+5],Rn=Ke[Dt+6];var Kn=Ze+(Xt=Ke[Dt+7]),Zt=Ze-Xt,Ge=nn+Rn,Tt=nn-Rn,Gt=zt+Ut,xt=zt-Ut,yn=vn+sn,an=vn-sn,lr=Kn+yn,Kt=Kn-yn,Tn=Ge+Gt,rn=Ge-Gt;Ke[Dt]=lr+Tn,Ke[Dt+4]=lr-Tn;var Mn=.707106781*(rn+Kt);Ke[Dt+2]=Kt+Mn,Ke[Dt+6]=Kt-Mn;var Xr=.382683433*((lr=an+xt)-(rn=Tt+Zt)),Fr=.5411961*lr+Xr,sr=1.306562965*rn+Xr,pi=.707106781*(Tn=xt+Tt),Ht=Zt+pi,jr=Zt-pi;Ke[Dt+5]=jr+Fr,Ke[Dt+3]=jr-Fr,Ke[Dt+1]=Ht+sr,Ke[Dt+7]=Ht-sr,Dt+=8}for(Dt=0,Ct=0;Ct<8;++Ct){Ze=Ke[Dt],nn=Ke[Dt+8],zt=Ke[Dt+16],vn=Ke[Dt+24],sn=Ke[Dt+32],Ut=Ke[Dt+40],Rn=Ke[Dt+48];var Fo=Ze+(Xt=Ke[Dt+56]),zr=Ze-Xt,Ci=nn+Rn,un=nn-Rn,mt=zt+Ut,Bn=zt-Ut,At=vn+sn,Si=vn-sn,Ei=Fo+At,Jn=Fo-At,Kr=Ci+mt,Ir=Ci-mt;Ke[Dt]=Ei+Kr,Ke[Dt+32]=Ei-Kr;var ui=.707106781*(Ir+Jn);Ke[Dt+16]=Jn+ui,Ke[Dt+48]=Jn-ui;var ci=.382683433*((Ei=Si+Bn)-(Ir=un+zr)),bo=.5411961*Ei+ci,Es=1.306562965*Ir+ci,gi=.707106781*(Kr=Bn+un),mr=zr+gi,Fn=zr-gi;Ke[Dt+40]=Fn+bo,Ke[Dt+24]=Fn-bo,Ke[Dt+8]=mr+Es,Ke[Dt+56]=mr-Es,Dt++}for(Ct=0;Ct<64;++Ct)$t=Ke[Ct]*kt[Ct],S[Ct]=$t>0?$t+.5|0:$t-.5|0;return S}(V,oe),ot=0;ot<64;++ot)j[fe[ot]]=Je[ot];var gt=j[0]-se;se=j[0],gt==0?Le(ve[0]):(Le(ve[P[Me=32767+gt]]),Le(C[Me]));for(var ut=63;ut>0&&j[ut]==0;)ut--;if(ut==0)return Le(Fe),se;for(var Ye,pe=1;pe<=ut;){for(var fn=pe;j[pe]==0&&pe<=ut;)++pe;var Ot=pe-fn;if(Ot>=16){Ye=Ot>>4;for(var pt=1;pt<=Ye;++pt)Le(Ve);Ot&=15}Me=32767+j[pe],Le(ue[(Ot<<4)+P[Me]]),Le(C[Me]),pe++}return ut!=63&&Le(Fe),se}function He(V){V=Math.min(Math.max(V,1),100),a!=V&&(function(oe){for(var se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ve=0;ve<64;ve++){var ue=d((se[ve]*oe+50)/100);ue=Math.min(Math.max(ue,1),255),g[fe[ve]]=ue}for(var Me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Fe=0;Fe<64;Fe++){var Ve=d((Me[Fe]*oe+50)/100);Ve=Math.min(Math.max(Ve,1),255),v[fe[Fe]]=Ve}for(var Je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ot=0,gt=0;gt<8;gt++)for(var ut=0;ut<8;ut++)m[ot]=1/(g[fe[ot]]*Je[gt]*Je[ut]*8),_[ot]=1/(v[fe[ot]]*Je[gt]*Je[ut]*8),ot++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),a=V)}this.encode=function(V,oe){oe&&He(oe),D=new Array,q=0,M=7,Pe(65496),Pe(65504),Pe(16),he(74),he(70),he(73),he(70),he(0),he(1),he(1),he(0),Pe(1),Pe(1),he(0),he(0),function(){Pe(65499),Pe(132),he(0);for(var nn=0;nn<64;nn++)he(g[nn]);he(1);for(var zt=0;zt<64;zt++)he(v[zt])}(),function(nn,zt){Pe(65472),Pe(17),he(8),Pe(zt),Pe(nn),he(3),he(1),he(17),he(0),he(2),he(17),he(1),he(3),he(17),he(1)}(V.width,V.height),function(){Pe(65476),Pe(418),he(0);for(var nn=0;nn<16;nn++)he(de[nn+1]);for(var zt=0;zt<=11;zt++)he(J[zt]);he(16);for(var vn=0;vn<16;vn++)he(be[vn+1]);for(var sn=0;sn<=161;sn++)he(K[sn]);he(1);for(var Ut=0;Ut<16;Ut++)he($[Ut+1]);for(var Rn=0;Rn<=11;Rn++)he(ge[Rn]);he(17);for(var Xt=0;Xt<16;Xt++)he(me[Xt+1]);for(var Ct=0;Ct<=161;Ct++)he(ce[Ct])}(),Pe(65498),Pe(12),he(3),he(1),he(0),he(2),he(17),he(3),he(17),he(0),he(63),he(0);var se=0,ve=0,ue=0;q=0,M=7,this.encode.displayName="_encode_";for(var Me,Fe,Ve,Je,ot,gt,ut,Ye,pe,fn=V.data,Ot=V.width,pt=V.height,Ke=4*Ot,kt=0;kt<pt;){for(Me=0;Me<Ke;){for(ot=Ke*kt+Me,ut=-1,Ye=0,pe=0;pe<64;pe++)gt=ot+(Ye=pe>>3)*Ke+(ut=4*(7&pe)),kt+Ye>=pt&&(gt-=Ke*(kt+1+Ye-pt)),Me+ut>=Ke&&(gt-=Me+ut-Ke+4),Fe=fn[gt++],Ve=fn[gt++],Je=fn[gt++],B[pe]=(Se[Fe]+Se[Ve+256|0]+Se[Je+512|0]>>16)-128,F[pe]=(Se[Fe+768|0]+Se[Ve+1024|0]+Se[Je+1280|0]>>16)-128,Z[pe]=(Se[Fe+1280|0]+Se[Ve+1536|0]+Se[Je+1792|0]>>16)-128;se=Ie(B,m,se,t,i),ve=Ie(F,_,ve,n,s),ue=Ie(Z,_,ue,n,s),Me+=32}kt+=8}if(M>=0){var Ze=[];Ze[1]=M+1,Ze[0]=(1<<M+1)-1,Le(Ze)}return Pe(65497),new Uint8Array(D)},e=e||50,function(){for(var V=String.fromCharCode,oe=0;oe<256;oe++)ye[oe]=V(oe)}(),t=Be(de,J),n=Be($,ge),i=Be(be,K),s=Be(me,ce),function(){for(var V=1,oe=2,se=1;se<=15;se++){for(var ve=V;ve<oe;ve++)P[32767+ve]=se,C[32767+ve]=[],C[32767+ve][1]=se,C[32767+ve][0]=ve;for(var ue=-(oe-1);ue<=-V;ue++)P[32767+ue]=se,C[32767+ue]=[],C[32767+ue][1]=se,C[32767+ue][0]=oe-1+ue;V<<=1,oe<<=1}}(),function(){for(var V=0;V<256;V++)Se[V]=19595*V,Se[V+256|0]=38470*V,Se[V+512|0]=7471*V+32768,Se[V+768|0]=-11059*V,Se[V+1024|0]=-21709*V,Se[V+1280|0]=32768*V+8421375,Se[V+1536|0]=-27439*V,Se[V+1792|0]=-5329*V}(),He(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fs(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Jm(e){function t(J){if(!J)throw Error("assert :P")}function n(J,be,K){for(var $=0;4>$;$++)if(J[be+$]!=K.charCodeAt($))return!0;return!1}function i(J,be,K,$,ge){for(var me=0;me<ge;me++)J[be+me]=K[$+me]}function s(J,be,K,$){for(var ge=0;ge<$;ge++)J[be+ge]=K}function a(J){return new Int32Array(J)}function d(J,be){for(var K=[],$=0;$<J;$++)K.push(new be);return K}function g(J,be){var K=[];return function $(ge,me,ce){for(var Be=ce[me],Le=0;Le<Be&&(ge.push(ce.length>me+1?[]:new be),!(ce.length<me+1));Le++)$(ge[Le],me+1,ce)}(K,0,J),K}var v=function(){var J=this;function be(y,A){for(var T=1<<A-1>>>0;y&T;)T>>>=1;return T?(y&T-1)+T:y}function K(y,A,T,k,W){t(!(k%T));do y[A+(k-=T)]=W;while(0<k)}function $(y,A,T,k,W){if(t(2328>=W),512>=W)var Y=a(512);else if((Y=a(W))==null)return 0;return function(Q,ee,te,ae,Ce,Ue){var le,Ee,ke=ee,Qe=1<<te,je=a(16),et=a(16);for(t(Ce!=0),t(ae!=null),t(Q!=null),t(0<te),Ee=0;Ee<Ce;++Ee){if(15<ae[Ee])return 0;++je[ae[Ee]]}if(je[0]==Ce)return 0;for(et[1]=0,le=1;15>le;++le){if(je[le]>1<<le)return 0;et[le+1]=et[le]+je[le]}for(Ee=0;Ee<Ce;++Ee)le=ae[Ee],0<ae[Ee]&&(Ue[et[le]++]=Ee);if(et[15]==1)return(ae=new ge).g=0,ae.value=Ue[0],K(Q,ke,1,Qe,ae),Qe;var it,ht=-1,ct=Qe-1,Vt=0,Mt=1,bn=1,Ft=1<<te;for(Ee=0,le=1,Ce=2;le<=te;++le,Ce<<=1){if(Mt+=bn<<=1,0>(bn-=je[le]))return 0;for(;0<je[le];--je[le])(ae=new ge).g=le,ae.value=Ue[Ee++],K(Q,ke+Vt,Ce,Ft,ae),Vt=be(Vt,le)}for(le=te+1,Ce=2;15>=le;++le,Ce<<=1){if(Mt+=bn<<=1,0>(bn-=je[le]))return 0;for(;0<je[le];--je[le]){if(ae=new ge,(Vt&ct)!=ht){for(ke+=Ft,it=1<<(ht=le)-te;15>ht&&!(0>=(it-=je[ht]));)++ht,it<<=1;Qe+=Ft=1<<(it=ht-te),Q[ee+(ht=Vt&ct)].g=it+te,Q[ee+ht].value=ke-ee-ht}ae.g=le-te,ae.value=Ue[Ee++],K(Q,ke+(Vt>>te),Ce,Ft,ae),Vt=be(Vt,le)}}return Mt!=2*et[15]-1?0:Qe}(y,A,T,k,W,Y)}function ge(){this.value=this.g=0}function me(){this.value=this.g=0}function ce(){this.G=d(5,ge),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(Or,me)}function Be(y,A,T,k){t(y!=null),t(A!=null),t(2147483648>k),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=A,y.pa=T,y.Jd=A,y.Yc=T+k,y.Zc=4<=k?T+k-4+1:T,Fe(y)}function Le(y,A){for(var T=0;0<A--;)T|=Je(y,128)<<A;return T}function he(y,A){var T=Le(y,A);return Ve(y)?-T:T}function Pe(y,A,T,k){var W,Y=0;for(t(y!=null),t(A!=null),t(4294967288>k),y.Sb=k,y.Ra=0,y.u=0,y.h=0,4<k&&(k=4),W=0;W<k;++W)Y+=A[T+W]<<8*W;y.Ra=Y,y.bb=k,y.oa=A,y.pa=T}function Ie(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<vi-8>>>0,++y.bb,y.u-=8;ve(y)&&(y.h=1,y.u=0)}function He(y,A){if(t(0<=A),!y.h&&A<=dr){var T=se(y)&Oi[A];return y.u+=A,Ie(y),T}return y.h=1,y.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function oe(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function se(y){return y.Ra>>>(y.u&vi-1)>>>0}function ve(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>vi}function ue(y,A){y.u=A,y.h=ve(y)}function Me(y){y.u>=pn&&(t(y.u>=pn),Ie(y))}function Fe(y){t(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function Ve(y){return Le(y,1)}function Je(y,A){var T=y.Ca;0>y.b&&Fe(y);var k=y.b,W=T*A>>>8,Y=(y.I>>>k>W)+0;for(Y?(T-=W,y.I-=W+1<<k>>>0):T=W+1,k=T,W=0;256<=k;)W+=8,k>>=8;return k=7^W+ki[k],y.b-=k,y.Ca=(T<<k)-1,Y}function ot(y,A,T){y[A+0]=T>>24&255,y[A+1]=T>>16&255,y[A+2]=T>>8&255,y[A+3]=255&T}function gt(y,A){return y[A+0]|y[A+1]<<8}function ut(y,A){return gt(y,A)|y[A+2]<<16}function Ye(y,A){return gt(y,A)|gt(y,A+2)<<16}function pe(y,A){var T=1<<A;return t(y!=null),t(0<A),y.X=a(T),y.X==null?0:(y.Mb=32-A,y.Xa=A,1)}function fn(y,A){t(y!=null),t(A!=null),t(y.Xa==A.Xa),i(A.X,0,y.X,0,1<<A.Xa)}function Ot(){this.X=[],this.Xa=this.Mb=0}function pt(y,A,T,k){t(T!=null),t(k!=null);var W=T[0],Y=k[0];return W==0&&(W=(y*Y+A/2)/A),Y==0&&(Y=(A*W+y/2)/y),0>=W||0>=Y?0:(T[0]=W,k[0]=Y,1)}function Ke(y,A){return y+(1<<A)-1>>>A}function kt(y,A){return((4278255360&y)+(4278255360&A)>>>0&4278255360)+((16711935&y)+(16711935&A)>>>0&16711935)>>>0}function Ze(y,A){J[A]=function(T,k,W,Y,Q,ee,te){var ae;for(ae=0;ae<Q;++ae){var Ce=J[y](ee[te+ae-1],W,Y+ae);ee[te+ae]=kt(T[k+ae],Ce)}}}function nn(){this.ud=this.hd=this.jd=0}function zt(y,A){return((4278124286&(y^A))>>>1)+(y&A)>>>0}function vn(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function sn(y,A){return vn(y+(y-A+.5>>1))}function Ut(y,A,T){return Math.abs(A-T)-Math.abs(y-T)}function Rn(y,A,T,k,W,Y,Q){for(k=Y[Q-1],T=0;T<W;++T)Y[Q+T]=k=kt(y[A+T],k)}function Xt(y,A,T,k,W){var Y;for(Y=0;Y<T;++Y){var Q=y[A+Y],ee=Q>>8&255,te=16711935&(te=(te=16711935&Q)+((ee<<16)+ee));k[W+Y]=(4278255360&Q)+te>>>0}}function Ct(y,A){A.jd=255&y,A.hd=y>>8&255,A.ud=y>>16&255}function $t(y,A,T,k,W,Y){var Q;for(Q=0;Q<k;++Q){var ee=A[T+Q],te=ee>>>8,ae=ee,Ce=255&(Ce=(Ce=ee>>>16)+((y.jd<<24>>24)*(te<<24>>24)>>>5));ae=255&(ae=(ae+=(y.hd<<24>>24)*(te<<24>>24)>>>5)+((y.ud<<24>>24)*(Ce<<24>>24)>>>5)),W[Y+Q]=(4278255360&ee)+(Ce<<16)+ae}}function Dt(y,A,T,k,W){J[A]=function(Y,Q,ee,te,ae,Ce,Ue,le,Ee){for(te=Ue;te<le;++te)for(Ue=0;Ue<Ee;++Ue)ae[Ce++]=W(ee[k(Y[Q++])])},J[y]=function(Y,Q,ee,te,ae,Ce,Ue){var le=8>>Y.b,Ee=Y.Ea,ke=Y.K[0],Qe=Y.w;if(8>le)for(Y=(1<<Y.b)-1,Qe=(1<<le)-1;Q<ee;++Q){var je,et=0;for(je=0;je<Ee;++je)je&Y||(et=k(te[ae++])),Ce[Ue++]=W(ke[et&Qe]),et>>=le}else J["VP8LMapColor"+T](te,ae,ke,Qe,Ce,Ue,Q,ee,Ee)}}function Kn(y,A,T,k,W){for(T=A+T;A<T;){var Y=y[A++];k[W++]=Y>>16&255,k[W++]=Y>>8&255,k[W++]=255&Y}}function Zt(y,A,T,k,W){for(T=A+T;A<T;){var Y=y[A++];k[W++]=Y>>16&255,k[W++]=Y>>8&255,k[W++]=255&Y,k[W++]=Y>>24&255}}function Ge(y,A,T,k,W){for(T=A+T;A<T;){var Y=(Q=y[A++])>>16&240|Q>>12&15,Q=240&Q|Q>>28&15;k[W++]=Y,k[W++]=Q}}function Tt(y,A,T,k,W){for(T=A+T;A<T;){var Y=(Q=y[A++])>>16&248|Q>>13&7,Q=Q>>5&224|Q>>3&31;k[W++]=Y,k[W++]=Q}}function Gt(y,A,T,k,W){for(T=A+T;A<T;){var Y=y[A++];k[W++]=255&Y,k[W++]=Y>>8&255,k[W++]=Y>>16&255}}function xt(y,A,T,k,W,Y){if(Y==0)for(T=A+T;A<T;)ot(k,((Y=y[A++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),W+=32;else i(k,W,y,A,T)}function yn(y,A){J[A][0]=J[y+"0"],J[A][1]=J[y+"1"],J[A][2]=J[y+"2"],J[A][3]=J[y+"3"],J[A][4]=J[y+"4"],J[A][5]=J[y+"5"],J[A][6]=J[y+"6"],J[A][7]=J[y+"7"],J[A][8]=J[y+"8"],J[A][9]=J[y+"9"],J[A][10]=J[y+"10"],J[A][11]=J[y+"11"],J[A][12]=J[y+"12"],J[A][13]=J[y+"13"],J[A][14]=J[y+"0"],J[A][15]=J[y+"0"]}function an(y){return y==Gl||y==Zl||y==Yl||y==l}function lr(){this.eb=[],this.size=this.A=this.fb=0}function Kt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new lr,this.f.kb=new Kt,this.sd=null}function rn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Mn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xr(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Fr(y,A){var T=y.T,k=A.ba.f.RGBA,W=k.eb,Y=k.fb+y.ka*k.A,Q=Di[A.ba.S],ee=y.y,te=y.O,ae=y.f,Ce=y.N,Ue=y.ea,le=y.W,Ee=A.cc,ke=A.dc,Qe=A.Mc,je=A.Nc,et=y.ka,it=y.ka+y.T,ht=y.U,ct=ht+1>>1;for(et==0?Q(ee,te,null,null,ae,Ce,Ue,le,ae,Ce,Ue,le,W,Y,null,null,ht):(Q(A.ec,A.fc,ee,te,Ee,ke,Qe,je,ae,Ce,Ue,le,W,Y-k.A,W,Y,ht),++T);et+2<it;et+=2)Ee=ae,ke=Ce,Qe=Ue,je=le,Ce+=y.Rc,le+=y.Rc,Y+=2*k.A,Q(ee,(te+=2*y.fa)-y.fa,ee,te,Ee,ke,Qe,je,ae,Ce,Ue,le,W,Y-k.A,W,Y,ht);return te+=y.fa,y.j+it<y.o?(i(A.ec,A.fc,ee,te,ht),i(A.cc,A.dc,ae,Ce,ct),i(A.Mc,A.Nc,Ue,le,ct),T--):1&it||Q(ee,te,null,null,ae,Ce,Ue,le,ae,Ce,Ue,le,W,Y+k.A,null,null,ht),T}function sr(y,A,T){var k=y.F,W=[y.J];if(k!=null){var Y=y.U,Q=A.ba.S,ee=Q==yl||Q==Yl;A=A.ba.f.RGBA;var te=[0],ae=y.ka;te[0]=y.T,y.Kb&&(ae==0?--te[0]:(--ae,W[0]-=y.width),y.j+y.ka+y.T==y.o&&(te[0]=y.o-y.j-ae));var Ce=A.eb;ae=A.fb+ae*A.A,y=Vu(k,W[0],y.width,Y,te,Ce,ae+(ee?0:3),A.A),t(T==te),y&&an(Q)&&Io(Ce,ae,ee,Y,te,A.A)}return 0}function pi(y){var A=y.ma,T=A.ba.S,k=11>T,W=T==ml||T==vl||T==yl||T==ql||T==12||an(T);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Os(A.Oa,y,W?11:12))return 0;if(W&&an(T)&&Pi(),y.da)alert("todo:use_scaling");else{if(k){if(A.Ib=Xr,y.Kb){if(T=y.U+1>>1,A.memory=a(y.U+2*T),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+y.U,A.Mc=A.cc,A.Nc=A.dc+T,A.Ib=Fr,Pi()}}else alert("todo:EmitYUV");W&&(A.Jb=sr,k&&Cr())}if(k&&!Vp){for(y=0;256>y;++y)ux[y]=89858*(y-128)+ah>>sh,fx[y]=-22014*(y-128)+ah,hx[y]=-45773*(y-128),cx[y]=113618*(y-128)+ah>>sh;for(y=Ku;y<pd;++y)A=76283*(y-16)+ah>>sh,dx[y-Ku]=xn(A,255),px[y-Ku]=xn(A+8>>4,15);Vp=1}return 1}function Ht(y){var A=y.ma,T=y.U,k=y.T;return t(!(1&y.ka)),0>=T||0>=k?0:(T=A.Ib(y,A),A.Jb!=null&&A.Jb(y,A,T),A.Dc+=T,1)}function jr(y){y.ma.memory=null}function Fo(y,A,T,k){return He(y,8)!=47?0:(A[0]=He(y,14)+1,T[0]=He(y,14)+1,k[0]=He(y,1),He(y,3)!=0?0:!y.h)}function zr(y,A){if(4>y)return y+1;var T=y-2>>1;return(2+(1&y)<<T)+He(A,T)+1}function Ci(y,A){return 120<A?A-120:1<=(T=((T=xe[A-1])>>4)*y+(8-(15&T)))?T:1;var T}function un(y,A,T){var k=se(T),W=y[A+=255&k].g-8;return 0<W&&(ue(T,T.u+8),k=se(T),A+=y[A].value,A+=k&(1<<W)-1),ue(T,T.u+y[A].g),y[A].value}function mt(y,A,T){return T.g+=y.g,T.value+=y.value<<A>>>0,t(8>=T.g),y.g}function Bn(y,A,T){var k=y.xc;return t((A=k==0?0:y.vc[y.md*(T>>k)+(A>>k)])<y.Wb),y.Ya[A]}function At(y,A,T,k){var W=y.ab,Y=y.c*A,Q=y.C;A=Q+A;var ee=T,te=k;for(k=y.Ta,T=y.Ua;0<W--;){var ae=y.gc[W],Ce=Q,Ue=A,le=ee,Ee=te,ke=(te=k,ee=T,ae.Ea);switch(t(Ce<Ue),t(Ue<=ae.nc),ae.hc){case 2:o(le,Ee,(Ue-Ce)*ke,te,ee);break;case 0:var Qe=Ce,je=Ue,et=te,it=ee,ht=(Ft=ae).Ea;Qe==0&&(U(le,Ee,null,null,1,et,it),Rn(le,Ee+1,0,0,ht-1,et,it+1),Ee+=ht,it+=ht,++Qe);for(var ct=1<<Ft.b,Vt=ct-1,Mt=Ke(ht,Ft.b),bn=Ft.K,Ft=Ft.w+(Qe>>Ft.b)*Mt;Qe<je;){var kn=bn,wi=Ft,Cn=1;for(r(le,Ee,et,it-ht,1,et,it);Cn<ht;){var jt=(Cn&~Vt)+ct;jt>ht&&(jt=ht),(0,w[kn[wi++]>>8&15])(le,Ee+ +Cn,et,it+Cn-ht,jt-Cn,et,it+Cn),Cn=jt}Ee+=ht,it+=ht,++Qe&Vt||(Ft+=Mt)}Ue!=ae.nc&&i(te,ee-ke,te,ee+(Ue-Ce-1)*ke,ke);break;case 1:for(ke=le,je=Ee,ht=(le=ae.Ea)-(it=le&~(et=(Ee=1<<ae.b)-1)),Qe=Ke(le,ae.b),ct=ae.K,ae=ae.w+(Ce>>ae.b)*Qe;Ce<Ue;){for(Vt=ct,Mt=ae,bn=new nn,Ft=je+it,kn=je+le;je<Ft;)Ct(Vt[Mt++],bn),b(bn,ke,je,Ee,te,ee),je+=Ee,ee+=Ee;je<kn&&(Ct(Vt[Mt++],bn),b(bn,ke,je,ht,te,ee),je+=ht,ee+=ht),++Ce&et||(ae+=Qe)}break;case 3:if(le==te&&Ee==ee&&0<ae.b){for(je=te,le=ke=ee+(Ue-Ce)*ke-(it=(Ue-Ce)*Ke(ae.Ea,ae.b)),Ee=te,et=ee,Qe=[],it=(ht=it)-1;0<=it;--it)Qe[it]=Ee[et+it];for(it=ht-1;0<=it;--it)je[le+it]=Qe[it];u(ae,Ce,Ue,te,ke,te,ee)}else u(ae,Ce,Ue,le,Ee,te,ee)}ee=k,te=T}te!=T&&i(k,T,ee,te,Y)}function Si(y,A){var T=y.V,k=y.Ba+y.c*y.C,W=A-y.C;if(t(A<=y.l.o),t(16>=W),0<W){var Y=y.l,Q=y.Ta,ee=y.Ua,te=Y.width;if(At(y,W,T,k),W=ee=[ee],t((T=y.C)<(k=A)),t(Y.v<Y.va),k>Y.o&&(k=Y.o),T<Y.j){var ae=Y.j-T;T=Y.j,W[0]+=ae*te}if(T>=k?T=0:(W[0]+=4*Y.v,Y.ka=T-Y.j,Y.U=Y.va-Y.v,Y.T=k-T,T=1),T){if(ee=ee[0],11>(T=y.ca).S){var Ce=T.f.RGBA,Ue=(k=T.S,W=Y.U,Y=Y.T,ae=Ce.eb,Ce.A),le=Y;for(Ce=Ce.fb+y.Ma*Ce.A;0<le--;){var Ee=Q,ke=ee,Qe=W,je=ae,et=Ce;switch(k){case Vl:N(Ee,ke,Qe,je,et);break;case ml:O(Ee,ke,Qe,je,et);break;case Gl:O(Ee,ke,Qe,je,et),Io(je,et,0,Qe,1,0);break;case Zu:ie(Ee,ke,Qe,je,et);break;case vl:xt(Ee,ke,Qe,je,et,1);break;case Zl:xt(Ee,ke,Qe,je,et,1),Io(je,et,0,Qe,1,0);break;case yl:xt(Ee,ke,Qe,je,et,0);break;case Yl:xt(Ee,ke,Qe,je,et,0),Io(je,et,1,Qe,1,0);break;case ql:z(Ee,ke,Qe,je,et);break;case l:z(Ee,ke,Qe,je,et),Wu(je,et,Qe,1,0);break;case rh:G(Ee,ke,Qe,je,et);break;default:t(0)}ee+=te,Ce+=Ue}y.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=T.height)}}y.C=A,t(y.C<=y.i)}function Ei(y){var A;if(0<y.ua)return 0;for(A=0;A<y.Wb;++A){var T=y.Ya[A].G,k=y.Ya[A].H;if(0<T[1][k[1]+0].g||0<T[2][k[2]+0].g||0<T[3][k[3]+0].g)return 0}return 1}function Jn(y,A,T,k,W,Y){if(y.Z!=0){var Q=y.qd,ee=y.rd;for(t(er[y.Z]!=null);A<T;++A)er[y.Z](Q,ee,k,W,k,W,Y),Q=k,ee=W,W+=Y;y.qd=Q,y.rd=ee}}function Kr(y,A){var T=y.l.ma,k=T.Z==0||T.Z==1?y.l.j:y.C;if(k=y.C<k?k:y.C,t(A<=y.l.o),A>k){var W=y.l.width,Y=T.ca,Q=T.tb+W*k,ee=y.V,te=y.Ba+y.c*k,ae=y.gc;t(y.ab==1),t(ae[0].hc==3),h(ae[0],k,A,ee,te,Y,Q),Jn(T,k,A,Y,Q,W)}y.C=y.Ma=A}function Ir(y,A,T,k,W,Y,Q){var ee=y.$/k,te=y.$%k,ae=y.m,Ce=y.s,Ue=T+y.$,le=Ue;W=T+k*W;var Ee=T+k*Y,ke=280+Ce.ua,Qe=y.Pb?ee:16777216,je=0<Ce.ua?Ce.Wa:null,et=Ce.wc,it=Ue<Ee?Bn(Ce,te,ee):null;t(y.C<Y),t(Ee<=W);var ht=!1;e:for(;;){for(;ht||Ue<Ee;){var ct=0;if(ee>=Qe){var Vt=Ue-T;t((Qe=y).Pb),Qe.wd=Qe.m,Qe.xd=Vt,0<Qe.s.ua&&fn(Qe.s.Wa,Qe.s.vb),Qe=ee+qe}if(te&et||(it=Bn(Ce,te,ee)),t(it!=null),it.Qb&&(A[Ue]=it.qb,ht=!0),!ht)if(Me(ae),it.jc){ct=ae,Vt=A;var Mt=Ue,bn=it.pd[se(ct)&Or-1];t(it.jc),256>bn.g?(ue(ct,ct.u+bn.g),Vt[Mt]=bn.value,ct=0):(ue(ct,ct.u+bn.g-256),t(256<=bn.value),ct=bn.value),ct==0&&(ht=!0)}else ct=un(it.G[0],it.H[0],ae);if(ae.h)break;if(ht||256>ct){if(!ht)if(it.nd)A[Ue]=(it.qb|ct<<8)>>>0;else{if(Me(ae),ht=un(it.G[1],it.H[1],ae),Me(ae),Vt=un(it.G[2],it.H[2],ae),Mt=un(it.G[3],it.H[3],ae),ae.h)break;A[Ue]=(Mt<<24|ht<<16|ct<<8|Vt)>>>0}if(ht=!1,++Ue,++te>=k&&(te=0,++ee,Q!=null&&ee<=Y&&!(ee%16)&&Q(y,ee),je!=null))for(;le<Ue;)ct=A[le++],je.X[(506832829*ct&4294967295)>>>je.Mb]=ct}else if(280>ct){if(ct=zr(ct-256,ae),Vt=un(it.G[4],it.H[4],ae),Me(ae),Vt=Ci(k,Vt=zr(Vt,ae)),ae.h)break;if(Ue-T<Vt||W-Ue<ct)break e;for(Mt=0;Mt<ct;++Mt)A[Ue+Mt]=A[Ue+Mt-Vt];for(Ue+=ct,te+=ct;te>=k;)te-=k,++ee,Q!=null&&ee<=Y&&!(ee%16)&&Q(y,ee);if(t(Ue<=W),te&et&&(it=Bn(Ce,te,ee)),je!=null)for(;le<Ue;)ct=A[le++],je.X[(506832829*ct&4294967295)>>>je.Mb]=ct}else{if(!(ct<ke))break e;for(ht=ct-280,t(je!=null);le<Ue;)ct=A[le++],je.X[(506832829*ct&4294967295)>>>je.Mb]=ct;ct=Ue,t(!(ht>>>(Vt=je).Xa)),A[ct]=Vt.X[ht],ht=!0}ht||t(ae.h==ve(ae))}if(y.Pb&&ae.h&&Ue<W)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&fn(y.s.vb,y.s.Wa);else{if(ae.h)break e;Q!=null&&Q(y,ee>Y?Y:ee),y.a=0,y.$=Ue-T}return 1}return y.a=3,0}function ui(y){t(y!=null),y.vc=null,y.yc=null,y.Ya=null;var A=y.Wa;A!=null&&(A.X=null),y.vb=null,t(y!=null)}function ci(){var y=new vt;return y==null?null:(y.a=0,y.xb=Yu,yn("Predictor","VP8LPredictors"),yn("Predictor","VP8LPredictors_C"),yn("PredictorAdd","VP8LPredictorsAdd"),yn("PredictorAdd","VP8LPredictorsAdd_C"),o=Xt,b=$t,N=Kn,O=Zt,z=Ge,G=Tt,ie=Gt,J.VP8LMapColor32b=c,J.VP8LMapColor8b=p,y)}function bo(y,A,T,k,W){var Y=1,Q=[y],ee=[A],te=k.m,ae=k.s,Ce=null,Ue=0;e:for(;;){if(T)for(;Y&&He(te,1);){var le=Q,Ee=ee,ke=k,Qe=1,je=ke.m,et=ke.gc[ke.ab],it=He(je,2);if(ke.Oc&1<<it)Y=0;else{switch(ke.Oc|=1<<it,et.hc=it,et.Ea=le[0],et.nc=Ee[0],et.K=[null],++ke.ab,t(4>=ke.ab),it){case 0:case 1:et.b=He(je,3)+2,Qe=bo(Ke(et.Ea,et.b),Ke(et.nc,et.b),0,ke,et.K),et.K=et.K[0];break;case 3:var ht,ct=He(je,8)+1,Vt=16<ct?0:4<ct?1:2<ct?2:3;if(le[0]=Ke(et.Ea,Vt),et.b=Vt,ht=Qe=bo(ct,1,0,ke,et.K)){var Mt,bn=ct,Ft=et,kn=1<<(8>>Ft.b),wi=a(kn);if(wi==null)ht=0;else{var Cn=Ft.K[0],jt=Ft.w;for(wi[0]=Ft.K[0][0],Mt=1;Mt<1*bn;++Mt)wi[Mt]=kt(Cn[jt+Mt],wi[Mt-1]);for(;Mt<4*kn;++Mt)wi[Mt]=0;Ft.K[0]=null,Ft.K[0]=wi,ht=1}}Qe=ht;break;case 2:break;default:t(0)}Y=Qe}}if(Q=Q[0],ee=ee[0],Y&&He(te,1)&&!(Y=1<=(Ue=He(te,4))&&11>=Ue)){k.a=3;break e}var _t;if(_t=Y)t:{var ni,_n,Dn,yr=k,Bi=Q,mo=ee,Vr=Ue,$i=T,vo=yr.m,xi=yr.s,Un=[null],tr=1,qr=0,nr=De[Vr];n:for(;;){if($i&&He(vo,1)){var Fi=He(vo,3)+2,Rs=Ke(Bi,Fi),ri=Ke(mo,Fi),Lo=Rs*ri;if(!bo(Rs,ri,0,yr,Un))break n;for(Un=Un[0],xi.xc=Fi,ni=0;ni<Lo;++ni){var hr=Un[ni]>>8&65535;Un[ni]=hr,hr>=tr&&(tr=hr+1)}}if(vo.h)break n;for(_n=0;5>_n;++_n){var _i=I[_n];!_n&&0<Vr&&(_i+=1<<Vr),qr<_i&&(qr=_i)}var Qo=d(tr*nr,ge),yo=tr,Jo=d(yo,ce);if(Jo==null)var $o=null;else t(65536>=yo),$o=Jo;var Po=a(qr);if($o==null||Po==null||Qo==null){yr.a=1;break n}var es=Qo;for(ni=Dn=0;ni<tr;++ni){var pr=$o[ni],ts=pr.G,Ds=pr.H,wl=0,da=1,ji=0;for(_n=0;5>_n;++_n){_i=I[_n],ts[_n]=es,Ds[_n]=Dn,!_n&&0<Vr&&(_i+=1<<Vr);i:{var uh,gd=_i,ch=yr,Qu=Po,vx=es,yx=Dn,md=0,Ba=ch.m,wx=He(Ba,1);if(s(Qu,0,0,gd),wx){var xx=He(Ba,1)+1,_x=He(Ba,1),Zp=He(Ba,_x==0?1:8);Qu[Zp]=1,xx==2&&(Qu[Zp=He(Ba,8)]=1);var hh=1}else{var Yp=a(19),Xp=He(Ba,4)+4;if(19<Xp){ch.a=3;var fh=0;break i}for(uh=0;uh<Xp;++uh)Yp[X[uh]]=He(Ba,3);var vd=void 0,Ju=void 0,Kp=ch,Ax=Yp,dh=gd,Qp=Qu,yd=0,Fa=Kp.m,Jp=8,$p=d(128,ge);r:for(;$($p,0,7,Ax,19);){if(He(Fa,1)){var bx=2+2*He(Fa,3);if((vd=2+He(Fa,bx))>dh)break r}else vd=dh;for(Ju=0;Ju<dh&&vd--;){Me(Fa);var e2=$p[0+(127&se(Fa))];ue(Fa,Fa.u+e2.g);var Kl=e2.value;if(16>Kl)Qp[Ju++]=Kl,Kl!=0&&(Jp=Kl);else{var Cx=Kl==16,t2=Kl-16,Sx=x[t2],n2=He(Fa,f[t2])+Sx;if(Ju+n2>dh)break r;for(var Ex=Cx?Jp:0;0<n2--;)Qp[Ju++]=Ex}}yd=1;break r}yd||(Kp.a=3),hh=yd}(hh=hh&&!Ba.h)&&(md=$(vx,yx,8,Qu,gd)),hh&&md!=0?fh=md:(ch.a=3,fh=0)}if(fh==0)break n;if(da&&R[_n]==1&&(da=es[Dn].g==0),wl+=es[Dn].g,Dn+=fh,3>=_n){var $u,wd=Po[0];for($u=1;$u<_i;++$u)Po[$u]>wd&&(wd=Po[$u]);ji+=wd}}if(pr.nd=da,pr.Qb=0,da&&(pr.qb=(ts[3][Ds[3]+0].value<<24|ts[1][Ds[1]+0].value<<16|ts[2][Ds[2]+0].value)>>>0,wl==0&&256>ts[0][Ds[0]+0].value&&(pr.Qb=1,pr.qb+=ts[0][Ds[0]+0].value<<8)),pr.jc=!pr.Qb&&6>ji,pr.jc){var ph,pa=pr;for(ph=0;ph<Or;++ph){var ja=ph,za=pa.pd[ja],gh=pa.G[0][pa.H[0]+ja];256<=gh.value?(za.g=gh.g+256,za.value=gh.value):(za.g=0,za.value=0,ja>>=mt(gh,8,za),ja>>=mt(pa.G[1][pa.H[1]+ja],16,za),ja>>=mt(pa.G[2][pa.H[2]+ja],0,za),mt(pa.G[3][pa.H[3]+ja],24,za))}}}xi.vc=Un,xi.Wb=tr,xi.Ya=$o,xi.yc=Qo,_t=1;break t}_t=0}if(!(Y=_t)){k.a=3;break e}if(0<Ue){if(ae.ua=1<<Ue,!pe(ae.Wa,Ue)){k.a=1,Y=0;break e}}else ae.ua=0;var xd=k,r2=Q,Nx=ee,_d=xd.s,Ad=_d.xc;if(xd.c=r2,xd.i=Nx,_d.md=Ke(r2,Ad),_d.wc=Ad==0?-1:(1<<Ad)-1,T){k.xb=hd;break e}if((Ce=a(Q*ee))==null){k.a=1,Y=0;break e}Y=(Y=Ir(k,Ce,0,Q,ee,ee,null))&&!te.h;break e}return Y?(W!=null?W[0]=Ce:(t(Ce==null),t(T)),k.$=0,T||ui(ae)):ui(ae),Y}function Es(y,A){var T=y.c*y.i,k=T+A+16*A;return t(y.c<=A),y.V=a(k),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+T+A,1)}function gi(y,A){var T=y.C,k=A-T,W=y.V,Y=y.Ba+y.c*T;for(t(A<=y.l.o);0<k;){var Q=16<k?16:k,ee=y.l.ma,te=y.l.width,ae=te*Q,Ce=ee.ca,Ue=ee.tb+te*T,le=y.Ta,Ee=y.Ua;At(y,Q,W,Y),th(le,Ee,Ce,Ue,ae),Jn(ee,T,T+Q,Ce,Ue,te),k-=Q,W+=Q*y.c,T+=Q}t(T==A),y.C=y.Ma=A}function mr(){this.ub=this.yd=this.td=this.Rb=0}function Fn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ns(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Wi(){this.Yb=function(){var y=[];return function A(T,k,W){for(var Y=W[k],Q=0;Q<Y&&(T.push(W.length>k+1?[]:0),!(W.length<k+1));Q++)A(T[Q],k+1,W)}(y,0,[3,11]),y}()}function Xs(){this.jb=a(3),this.Wc=g([4,8],Wi),this.Xc=g([4,17],Wi)}function st(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Vi(){this.ld=this.La=this.dd=this.tc=0}function Qn(){this.Na=this.la=0}function lo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function jo(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ln(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vi),this.Y=0,this.ya=Array(new jo),this.aa=0,this.l=new wn}function Nn(){this.y=a(16),this.f=a(8),this.ea=a(8)}function hn(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new mr,this.Kc=new Fn,this.ed=new st,this.Qa=new Ns,this.Ic=this.$c=this.Aa=0,this.D=new Ln,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,V),this.ia=0,this.pb=d(4,lo),this.Pa=new Xs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Nn),this.Hd=0,this.rb=Array(new Qn),this.sb=0,this.wa=Array(new Vi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new jo),this.L=this.aa=0,this.gd=g([4,2],Vi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vn(){var y=new hn;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,Yt||(Yt=uo)),y}function $n(y,A,T){return y.a==0&&(y.a=A,y.sc=T,y.cb=0),0}function qn(y,A,T){return 3<=T&&y[A+0]==157&&y[A+1]==1&&y[A+2]==42}function hi(y,A){if(y==null)return 0;if(y.a=0,y.sc="OK",A==null)return $n(y,2,"null VP8Io passed to VP8GetHeaders()");var T=A.data,k=A.w,W=A.ha;if(4>W)return $n(y,7,"Truncated header.");var Y=T[k+0]|T[k+1]<<8|T[k+2]<<16,Q=y.Od;if(Q.Rb=!(1&Y),Q.td=Y>>1&7,Q.yd=Y>>4&1,Q.ub=Y>>5,3<Q.td)return $n(y,3,"Incorrect keyframe parameters.");if(!Q.yd)return $n(y,4,"Frame not displayable.");k+=3,W-=3;var ee=y.Kc;if(Q.Rb){if(7>W)return $n(y,7,"cannot parse picture header");if(!qn(T,k,W))return $n(y,3,"Bad code word");ee.c=16383&(T[k+4]<<8|T[k+3]),ee.Td=T[k+4]>>6,ee.i=16383&(T[k+6]<<8|T[k+5]),ee.Ud=T[k+6]>>6,k+=7,W-=7,y.za=ee.c+15>>4,y.Ub=ee.i+15>>4,A.width=ee.c,A.height=ee.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,s((Y=y.Pa).jb,0,255,Y.jb.length),t((Y=y.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,s(Y.Zb,0,0,Y.Zb.length),s(Y.Lb,0,0,Y.Lb)}if(Q.ub>W)return $n(y,7,"bad partition length");Be(Y=y.m,T,k,Q.ub),k+=Q.ub,W-=Q.ub,Q.Rb&&(ee.Ld=Ve(Y),ee.Kd=Ve(Y)),ee=y.Qa;var te,ae=y.Pa;if(t(Y!=null),t(ee!=null),ee.Cb=Ve(Y),ee.Cb){if(ee.Bb=Ve(Y),Ve(Y)){for(ee.Fb=Ve(Y),te=0;4>te;++te)ee.Zb[te]=Ve(Y)?he(Y,7):0;for(te=0;4>te;++te)ee.Lb[te]=Ve(Y)?he(Y,6):0}if(ee.Bb)for(te=0;3>te;++te)ae.jb[te]=Ve(Y)?Le(Y,8):255}else ee.Bb=0;if(Y.Ka)return $n(y,3,"cannot parse segment header");if((ee=y.ed).zd=Ve(Y),ee.Tb=Le(Y,6),ee.wb=Le(Y,3),ee.Pc=Ve(Y),ee.Pc&&Ve(Y)){for(ae=0;4>ae;++ae)Ve(Y)&&(ee.vd[ae]=he(Y,6));for(ae=0;4>ae;++ae)Ve(Y)&&(ee.od[ae]=he(Y,6))}if(y.L=ee.Tb==0?0:ee.zd?1:2,Y.Ka)return $n(y,3,"cannot parse filter header");var Ce=W;if(W=te=k,k=te+Ce,ee=Ce,y.Xb=(1<<Le(y.m,2))-1,Ce<3*(ae=y.Xb))T=7;else{for(te+=3*ae,ee-=3*ae,Ce=0;Ce<ae;++Ce){var Ue=T[W+0]|T[W+1]<<8|T[W+2]<<16;Ue>ee&&(Ue=ee),Be(y.Jc[+Ce],T,te,Ue),te+=Ue,ee-=Ue,W+=3}Be(y.Jc[+ae],T,te,ee),T=te<k?0:5}if(T!=0)return $n(y,T,"cannot parse partitions");for(T=Le(te=y.m,7),W=Ve(te)?he(te,4):0,k=Ve(te)?he(te,4):0,ee=Ve(te)?he(te,4):0,ae=Ve(te)?he(te,4):0,te=Ve(te)?he(te,4):0,Ce=y.Qa,Ue=0;4>Ue;++Ue){if(Ce.Cb){var le=Ce.Zb[Ue];Ce.Fb||(le+=T)}else{if(0<Ue){y.pb[Ue]=y.pb[0];continue}le=T}var Ee=y.pb[Ue];Ee.Sc[0]=lt[xn(le+W,127)],Ee.Sc[1]=bt[xn(le+0,127)],Ee.Eb[0]=2*lt[xn(le+k,127)],Ee.Eb[1]=101581*bt[xn(le+ee,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=lt[xn(le+ae,117)],Ee.Qc[1]=bt[xn(le+te,127)],Ee.lc=le+te}if(!Q.Rb)return $n(y,4,"Not a key frame.");for(Ve(Y),Q=y.Pa,T=0;4>T;++T){for(W=0;8>W;++W)for(k=0;3>k;++k)for(ee=0;11>ee;++ee)ae=Je(Y,Da[T][W][k][ee])?Le(Y,8):To[T][W][k][ee],Q.Wc[T][W].Yb[k][ee]=ae;for(W=0;17>W;++W)Q.Xc[T][W]=Q.Wc[T][cd[W]]}return y.kc=Ve(Y),y.kc&&(y.Bd=Le(Y,8)),y.cb=1}function uo(y,A,T,k,W,Y,Q){var ee=A[W].Yb[T];for(T=0;16>W;++W){if(!Je(y,ee[T+0]))return W;for(;!Je(y,ee[T+1]);)if(ee=A[++W].Yb[0],T=0,W==16)return 16;var te=A[W+1].Yb;if(Je(y,ee[T+2])){var ae=y,Ce=0;if(Je(ae,(le=ee)[(Ue=T)+3]))if(Je(ae,le[Ue+6])){for(ee=0,Ue=2*(Ce=Je(ae,le[Ue+8]))+(le=Je(ae,le[Ue+9+Ce])),Ce=0,le=En[Ue];le[ee];++ee)Ce+=Ce+Je(ae,le[ee]);Ce+=3+(8<<Ue)}else Je(ae,le[Ue+7])?(Ce=7+2*Je(ae,165),Ce+=Je(ae,145)):Ce=5+Je(ae,159);else Ce=Je(ae,le[Ue+4])?3+Je(ae,le[Ue+5]):2;ee=te[2]}else Ce=1,ee=te[1];te=Q+Ri[W],0>(ae=y).b&&Fe(ae);var Ue,le=ae.b,Ee=(Ue=ae.Ca>>1)-(ae.I>>le)>>31;--ae.b,ae.Ca+=Ee,ae.Ca|=1,ae.I-=(Ue+1&Ee)<<le,Y[te]=((Ce^Ee)-Ee)*k[(0<W)+0]}return 16}function St(y){var A=y.rb[y.sb-1];A.la=0,A.Na=0,s(y.zc,0,0,y.zc.length),y.ja=0}function An(y,A,T,k,W){W=y[A+T+32*k]+(W>>3),y[A+T+32*k]=-256&W?0>W?0:255:W}function zo(y,A,T,k,W,Y){An(y,A,0,T,k+W),An(y,A,1,T,k+Y),An(y,A,2,T,k-Y),An(y,A,3,T,k-W)}function jn(y){return(20091*y>>16)+y}function dn(y,A,T,k){var W,Y=0,Q=a(16);for(W=0;4>W;++W){var ee=y[A+0]+y[A+8],te=y[A+0]-y[A+8],ae=(35468*y[A+4]>>16)-jn(y[A+12]),Ce=jn(y[A+4])+(35468*y[A+12]>>16);Q[Y+0]=ee+Ce,Q[Y+1]=te+ae,Q[Y+2]=te-ae,Q[Y+3]=ee-Ce,Y+=4,A++}for(W=Y=0;4>W;++W)ee=(y=Q[Y+0]+4)+Q[Y+8],te=y-Q[Y+8],ae=(35468*Q[Y+4]>>16)-jn(Q[Y+12]),An(T,k,0,0,ee+(Ce=jn(Q[Y+4])+(35468*Q[Y+12]>>16))),An(T,k,1,0,te+ae),An(T,k,2,0,te-ae),An(T,k,3,0,ee-Ce),Y++,k+=32}function Ur(y,A,T,k){var W=y[A+0]+4,Y=35468*y[A+4]>>16,Q=jn(y[A+4]),ee=35468*y[A+1]>>16;zo(T,k,0,W+Q,y=jn(y[A+1]),ee),zo(T,k,1,W+Y,y,ee),zo(T,k,2,W-Y,y,ee),zo(T,k,3,W-Q,y,ee)}function Oe(y,A,T,k,W){dn(y,A,T,k),W&&dn(y,A+16,T,k+4)}function ne(y,A,T,k){Ae(y,A+0,T,k,1),Ae(y,A+32,T,k+128,1)}function dt(y,A,T,k){var W;for(y=y[A+0]+4,W=0;4>W;++W)for(A=0;4>A;++A)An(T,k,A,W,y)}function Gn(y,A,T,k){y[A+0]&&$e(y,A+0,T,k),y[A+16]&&$e(y,A+16,T,k+4),y[A+32]&&$e(y,A+32,T,k+128),y[A+48]&&$e(y,A+48,T,k+128+4)}function Tr(y,A,T,k){var W,Y=a(16);for(W=0;4>W;++W){var Q=y[A+0+W]+y[A+12+W],ee=y[A+4+W]+y[A+8+W],te=y[A+4+W]-y[A+8+W],ae=y[A+0+W]-y[A+12+W];Y[0+W]=Q+ee,Y[8+W]=Q-ee,Y[4+W]=ae+te,Y[12+W]=ae-te}for(W=0;4>W;++W)Q=(y=Y[0+4*W]+3)+Y[3+4*W],ee=Y[1+4*W]+Y[2+4*W],te=Y[1+4*W]-Y[2+4*W],ae=y-Y[3+4*W],T[k+0]=Q+ee>>3,T[k+16]=ae+te>>3,T[k+32]=Q-ee>>3,T[k+48]=ae-te>>3,k+=64}function qi(y,A,T){var k,W=A-32,Y=Qi,Q=255-y[W-1];for(k=0;k<T;++k){var ee,te=Y,ae=Q+y[A-1];for(ee=0;ee<T;++ee)y[A+ee]=te[ae+y[W+ee]];A+=32}}function Uo(y,A){qi(y,A,4)}function Hr(y,A){qi(y,A,8)}function Bt(y,A){qi(y,A,16)}function Zn(y,A){var T;for(T=0;16>T;++T)i(y,A+32*T,y,A-32,16)}function Ho(y,A){var T;for(T=16;0<T;--T)s(y,A,y[A-1],16),A+=32}function Wo(y,A,T){var k;for(k=0;16>k;++k)s(A,T+32*k,y,16)}function Gi(y,A){var T,k=16;for(T=0;16>T;++T)k+=y[A-1+32*T]+y[A+T-32];Wo(k>>5,y,A)}function Vo(y,A){var T,k=8;for(T=0;16>T;++T)k+=y[A-1+32*T];Wo(k>>4,y,A)}function Co(y,A){var T,k=8;for(T=0;16>T;++T)k+=y[A+T-32];Wo(k>>4,y,A)}function Is(y,A){Wo(128,y,A)}function Lt(y,A,T){return y+2*A+T+2>>2}function en(y,A){var T,k=A-32;for(k=new Uint8Array([Lt(y[k-1],y[k+0],y[k+1]),Lt(y[k+0],y[k+1],y[k+2]),Lt(y[k+1],y[k+2],y[k+3]),Lt(y[k+2],y[k+3],y[k+4])]),T=0;4>T;++T)i(y,A+32*T,k,0,k.length)}function Lr(y,A){var T=y[A-1],k=y[A-1+32],W=y[A-1+64],Y=y[A-1+96];ot(y,A+0,16843009*Lt(y[A-1-32],T,k)),ot(y,A+32,16843009*Lt(T,k,W)),ot(y,A+64,16843009*Lt(k,W,Y)),ot(y,A+96,16843009*Lt(W,Y,Y))}function wt(y,A){var T,k=4;for(T=0;4>T;++T)k+=y[A+T-32]+y[A-1+32*T];for(k>>=3,T=0;4>T;++T)s(y,A+32*T,k,4)}function Oa(y,A){var T=y[A-1+0],k=y[A-1+32],W=y[A-1+64],Y=y[A-1-32],Q=y[A+0-32],ee=y[A+1-32],te=y[A+2-32],ae=y[A+3-32];y[A+0+96]=Lt(k,W,y[A-1+96]),y[A+1+96]=y[A+0+64]=Lt(T,k,W),y[A+2+96]=y[A+1+64]=y[A+0+32]=Lt(Y,T,k),y[A+3+96]=y[A+2+64]=y[A+1+32]=y[A+0+0]=Lt(Q,Y,T),y[A+3+64]=y[A+2+32]=y[A+1+0]=Lt(ee,Q,Y),y[A+3+32]=y[A+2+0]=Lt(te,ee,Q),y[A+3+0]=Lt(ae,te,ee)}function Qt(y,A){var T=y[A+1-32],k=y[A+2-32],W=y[A+3-32],Y=y[A+4-32],Q=y[A+5-32],ee=y[A+6-32],te=y[A+7-32];y[A+0+0]=Lt(y[A+0-32],T,k),y[A+1+0]=y[A+0+32]=Lt(T,k,W),y[A+2+0]=y[A+1+32]=y[A+0+64]=Lt(k,W,Y),y[A+3+0]=y[A+2+32]=y[A+1+64]=y[A+0+96]=Lt(W,Y,Q),y[A+3+32]=y[A+2+64]=y[A+1+96]=Lt(Y,Q,ee),y[A+3+64]=y[A+2+96]=Lt(Q,ee,te),y[A+3+96]=Lt(ee,te,te)}function Yn(y,A){var T=y[A-1+0],k=y[A-1+32],W=y[A-1+64],Y=y[A-1-32],Q=y[A+0-32],ee=y[A+1-32],te=y[A+2-32],ae=y[A+3-32];y[A+0+0]=y[A+1+64]=Y+Q+1>>1,y[A+1+0]=y[A+2+64]=Q+ee+1>>1,y[A+2+0]=y[A+3+64]=ee+te+1>>1,y[A+3+0]=te+ae+1>>1,y[A+0+96]=Lt(W,k,T),y[A+0+64]=Lt(k,T,Y),y[A+0+32]=y[A+1+96]=Lt(T,Y,Q),y[A+1+32]=y[A+2+96]=Lt(Y,Q,ee),y[A+2+32]=y[A+3+96]=Lt(Q,ee,te),y[A+3+32]=Lt(ee,te,ae)}function ca(y,A){var T=y[A+0-32],k=y[A+1-32],W=y[A+2-32],Y=y[A+3-32],Q=y[A+4-32],ee=y[A+5-32],te=y[A+6-32],ae=y[A+7-32];y[A+0+0]=T+k+1>>1,y[A+1+0]=y[A+0+64]=k+W+1>>1,y[A+2+0]=y[A+1+64]=W+Y+1>>1,y[A+3+0]=y[A+2+64]=Y+Q+1>>1,y[A+0+32]=Lt(T,k,W),y[A+1+32]=y[A+0+96]=Lt(k,W,Y),y[A+2+32]=y[A+1+96]=Lt(W,Y,Q),y[A+3+32]=y[A+2+96]=Lt(Y,Q,ee),y[A+3+64]=Lt(Q,ee,te),y[A+3+96]=Lt(ee,te,ae)}function co(y,A){var T=y[A-1+0],k=y[A-1+32],W=y[A-1+64],Y=y[A-1+96];y[A+0+0]=T+k+1>>1,y[A+2+0]=y[A+0+32]=k+W+1>>1,y[A+2+32]=y[A+0+64]=W+Y+1>>1,y[A+1+0]=Lt(T,k,W),y[A+3+0]=y[A+1+32]=Lt(k,W,Y),y[A+3+32]=y[A+1+64]=Lt(W,Y,Y),y[A+3+64]=y[A+2+64]=y[A+0+96]=y[A+1+96]=y[A+2+96]=y[A+3+96]=Y}function qo(y,A){var T=y[A-1+0],k=y[A-1+32],W=y[A-1+64],Y=y[A-1+96],Q=y[A-1-32],ee=y[A+0-32],te=y[A+1-32],ae=y[A+2-32];y[A+0+0]=y[A+2+32]=T+Q+1>>1,y[A+0+32]=y[A+2+64]=k+T+1>>1,y[A+0+64]=y[A+2+96]=W+k+1>>1,y[A+0+96]=Y+W+1>>1,y[A+3+0]=Lt(ee,te,ae),y[A+2+0]=Lt(Q,ee,te),y[A+1+0]=y[A+3+32]=Lt(T,Q,ee),y[A+1+32]=y[A+3+64]=Lt(k,T,Q),y[A+1+64]=y[A+3+96]=Lt(W,k,T),y[A+1+96]=Lt(Y,W,k)}function mi(y,A){var T;for(T=0;8>T;++T)i(y,A+32*T,y,A-32,8)}function ur(y,A){var T;for(T=0;8>T;++T)s(y,A,y[A-1],8),A+=32}function fi(y,A,T){var k;for(k=0;8>k;++k)s(A,T+32*k,y,8)}function ho(y,A){var T,k=8;for(T=0;8>T;++T)k+=y[A+T-32]+y[A-1+32*T];fi(k>>4,y,A)}function ds(y,A){var T,k=4;for(T=0;8>T;++T)k+=y[A+T-32];fi(k>>3,y,A)}function Ks(y,A){var T,k=4;for(T=0;8>T;++T)k+=y[A-1+32*T];fi(k>>3,y,A)}function So(y,A){fi(128,y,A)}function Li(y,A,T){var k=y[A-T],W=y[A+0],Y=3*(W-k)+Ra[1020+y[A-2*T]-y[A+T]],Q=Js[112+(Y+4>>3)];y[A-T]=Qi[255+k+Js[112+(Y+3>>3)]],y[A+0]=Qi[255+W-Q]}function br(y,A,T,k){var W=y[A+0],Y=y[A+T];return go[255+y[A-2*T]-y[A-T]]>k||go[255+Y-W]>k}function Ts(y,A,T,k){return 4*go[255+y[A-T]-y[A+0]]+go[255+y[A-2*T]-y[A+T]]<=k}function gn(y,A,T,k,W){var Y=y[A-3*T],Q=y[A-2*T],ee=y[A-T],te=y[A+0],ae=y[A+T],Ce=y[A+2*T],Ue=y[A+3*T];return 4*go[255+ee-te]+go[255+Q-ae]>k?0:go[255+y[A-4*T]-Y]<=W&&go[255+Y-Q]<=W&&go[255+Q-ee]<=W&&go[255+Ue-Ce]<=W&&go[255+Ce-ae]<=W&&go[255+ae-te]<=W}function Qs(y,A,T,k){var W=2*k+1;for(k=0;16>k;++k)Ts(y,A+k,T,W)&&Li(y,A+k,T)}function Qr(y,A,T,k){var W=2*k+1;for(k=0;16>k;++k)Ts(y,A+k*T,1,W)&&Li(y,A+k*T,1)}function ps(y,A,T,k){var W;for(W=3;0<W;--W)Qs(y,A+=4*T,T,k)}function ha(y,A,T,k){var W;for(W=3;0<W;--W)Qr(y,A+=4,T,k)}function Sn(y,A,T,k,W,Y,Q,ee){for(Y=2*Y+1;0<W--;){if(gn(y,A,T,Y,Q))if(br(y,A,T,ee))Li(y,A,T);else{var te=y,ae=A,Ce=T,Ue=te[ae-2*Ce],le=te[ae-Ce],Ee=te[ae+0],ke=te[ae+Ce],Qe=te[ae+2*Ce],je=27*(it=Ra[1020+3*(Ee-le)+Ra[1020+Ue-ke]])+63>>7,et=18*it+63>>7,it=9*it+63>>7;te[ae-3*Ce]=Qi[255+te[ae-3*Ce]+it],te[ae-2*Ce]=Qi[255+Ue+et],te[ae-Ce]=Qi[255+le+je],te[ae+0]=Qi[255+Ee-je],te[ae+Ce]=Qi[255+ke-et],te[ae+2*Ce]=Qi[255+Qe-it]}A+=k}}function Zi(y,A,T,k,W,Y,Q,ee){for(Y=2*Y+1;0<W--;){if(gn(y,A,T,Y,Q))if(br(y,A,T,ee))Li(y,A,T);else{var te=y,ae=A,Ce=T,Ue=te[ae-Ce],le=te[ae+0],Ee=te[ae+Ce],ke=Js[112+(4+(Qe=3*(le-Ue))>>3)],Qe=Js[112+(Qe+3>>3)],je=ke+1>>1;te[ae-2*Ce]=Qi[255+te[ae-2*Ce]+je],te[ae-Ce]=Qi[255+Ue+Qe],te[ae+0]=Qi[255+le-ke],te[ae+Ce]=Qi[255+Ee-je]}A+=k}}function Ls(y,A,T,k,W,Y){Sn(y,A,T,1,16,k,W,Y)}function Yi(y,A,T,k,W,Y){Sn(y,A,1,T,16,k,W,Y)}function Ps(y,A,T,k,W,Y){var Q;for(Q=3;0<Q;--Q)Zi(y,A+=4*T,T,1,16,k,W,Y)}function We(y,A,T,k,W,Y){var Q;for(Q=3;0<Q;--Q)Zi(y,A+=4,1,T,16,k,W,Y)}function E(y,A,T,k,W,Y,Q,ee){Sn(y,A,W,1,8,Y,Q,ee),Sn(T,k,W,1,8,Y,Q,ee)}function H(y,A,T,k,W,Y,Q,ee){Sn(y,A,1,W,8,Y,Q,ee),Sn(T,k,1,W,8,Y,Q,ee)}function re(y,A,T,k,W,Y,Q,ee){Zi(y,A+4*W,W,1,8,Y,Q,ee),Zi(T,k+4*W,W,1,8,Y,Q,ee)}function _e(y,A,T,k,W,Y,Q,ee){Zi(y,A+4,1,W,8,Y,Q,ee),Zi(T,k+4,1,W,8,Y,Q,ee)}function Ne(){this.ba=new Tn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Mn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function at(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Et(){this.ua=0,this.Wa=new Ot,this.vb=new Ot,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new ge}function vt(){this.xb=this.a=0,this.l=new wn,this.ca=new Tn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new oe,this.Pb=0,this.wd=new oe,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Et,this.ab=0,this.gc=d(4,at),this.Oc=0}function tn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Nt(y,A,T,k,W,Y,Q){for(y=y==null?0:y[A+0],A=0;A<Q;++A)W[Y+A]=y+T[k+A]&255,y=W[Y+A]}function In(y,A,T,k,W,Y,Q){var ee;if(y==null)Nt(null,null,T,k,W,Y,Q);else for(ee=0;ee<Q;++ee)W[Y+ee]=y[A+ee]+T[k+ee]&255}function zn(y,A,T,k,W,Y,Q){if(y==null)Nt(null,null,T,k,W,Y,Q);else{var ee,te=y[A+0],ae=te,Ce=te;for(ee=0;ee<Q;++ee)ae=Ce+(te=y[A+ee])-ae,Ce=T[k+ee]+(-256&ae?0>ae?0:255:ae)&255,ae=te,W[Y+ee]=Ce}}function on(y,A,T,k){var W=A.width,Y=A.o;if(t(y!=null&&A!=null),0>T||0>=k||T+k>Y)return null;if(!y.Cc){if(y.ga==null){var Q;if(y.ga=new tn,(Q=y.ga==null)||(Q=A.width*A.o,t(y.Gb.length==0),y.Gb=a(Q),y.Uc=0,y.Gb==null?Q=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,Q=1),Q=!Q),!Q){Q=y.ga;var ee=y.Fa,te=y.P,ae=y.qc,Ce=y.mb,Ue=y.nb,le=te+1,Ee=ae-1,ke=Q.l;if(t(ee!=null&&Ce!=null&&A!=null),er[0]=null,er[1]=Nt,er[2]=In,er[3]=zn,Q.ca=Ce,Q.tb=Ue,Q.c=A.width,Q.i=A.height,t(0<Q.c&&0<Q.i),1>=ae)A=0;else if(Q.$a=3&ee[te+0],Q.Z=ee[te+0]>>2&3,Q.Lc=ee[te+0]>>4&3,te=ee[te+0]>>6&3,0>Q.$a||1<Q.$a||4<=Q.Z||1<Q.Lc||te)A=0;else if(ke.put=Ht,ke.ac=pi,ke.bc=jr,ke.ma=Q,ke.width=A.width,ke.height=A.height,ke.Da=A.Da,ke.v=A.v,ke.va=A.va,ke.j=A.j,ke.o=A.o,Q.$a)e:{t(Q.$a==1),A=ci();t:for(;;){if(A==null){A=0;break e}if(t(Q!=null),Q.mc=A,A.c=Q.c,A.i=Q.i,A.l=Q.l,A.l.ma=Q,A.l.width=Q.c,A.l.height=Q.i,A.a=0,Pe(A.m,ee,le,Ee),!bo(Q.c,Q.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&Ei(A.s)?(Q.ic=1,ee=A.c*A.i,A.Ta=null,A.Ua=0,A.V=a(ee),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(Q.ic=0,A=Es(A,Q.c)),!A))break t;A=1;break e}Q.mc=null,A=0}else A=Ee>=Q.c*Q.i;Q=!A}if(Q)return null;y.ga.Lc!=1?y.Ga=0:k=Y-T}t(y.ga!=null),t(T+k<=Y);e:{if(A=(ee=y.ga).c,Y=ee.l.o,ee.$a==0){if(le=y.rc,Ee=y.Vc,ke=y.Fa,te=y.P+1+T*A,ae=y.mb,Ce=y.nb+T*A,t(te<=y.P+y.qc),ee.Z!=0)for(t(er[ee.Z]!=null),Q=0;Q<k;++Q)er[ee.Z](le,Ee,ke,te,ae,Ce,A),le=ae,Ee=Ce,Ce+=A,te+=A;else for(Q=0;Q<k;++Q)i(ae,Ce,ke,te,A),le=ae,Ee=Ce,Ce+=A,te+=A;y.rc=le,y.Vc=Ee}else{if(t(ee.mc!=null),A=T+k,t((Q=ee.mc)!=null),t(A<=Q.i),Q.C>=A)A=1;else if(ee.ic||Cr(),ee.ic){ee=Q.V,le=Q.Ba,Ee=Q.c;var Qe=Q.i,je=(ke=1,te=Q.$/Ee,ae=Q.$%Ee,Ce=Q.m,Ue=Q.s,Q.$),et=Ee*Qe,it=Ee*A,ht=Ue.wc,ct=je<it?Bn(Ue,ae,te):null;t(je<=et),t(A<=Qe),t(Ei(Ue));t:for(;;){for(;!Ce.h&&je<it;){if(ae&ht||(ct=Bn(Ue,ae,te)),t(ct!=null),Me(Ce),256>(Qe=un(ct.G[0],ct.H[0],Ce)))ee[le+je]=Qe,++je,++ae>=Ee&&(ae=0,++te<=A&&!(te%16)&&Kr(Q,te));else{if(!(280>Qe)){ke=0;break t}Qe=zr(Qe-256,Ce);var Vt,Mt=un(ct.G[4],ct.H[4],Ce);if(Me(Ce),!(je>=(Mt=Ci(Ee,Mt=zr(Mt,Ce)))&&et-je>=Qe)){ke=0;break t}for(Vt=0;Vt<Qe;++Vt)ee[le+je+Vt]=ee[le+je+Vt-Mt];for(je+=Qe,ae+=Qe;ae>=Ee;)ae-=Ee,++te<=A&&!(te%16)&&Kr(Q,te);je<it&&ae&ht&&(ct=Bn(Ue,ae,te))}t(Ce.h==ve(Ce))}Kr(Q,te>A?A:te);break t}!ke||Ce.h&&je<et?(ke=0,Q.a=Ce.h?5:3):Q.$=je,A=ke}else A=Ir(Q,Q.V,Q.Ba,Q.c,Q.i,A,gi);if(!A){k=0;break e}}T+k>=Y&&(y.Cc=1),k=1}if(!k)return null;if(y.Cc&&((k=y.ga)!=null&&(k.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+T*W}function yt(y,A,T,k,W,Y){for(;0<W--;){var Q,ee=y,te=A+(T?1:0),ae=y,Ce=A+(T?0:3);for(Q=0;Q<k;++Q){var Ue=ae[Ce+4*Q];Ue!=255&&(Ue*=32897,ee[te+4*Q+0]=ee[te+4*Q+0]*Ue>>23,ee[te+4*Q+1]=ee[te+4*Q+1]*Ue>>23,ee[te+4*Q+2]=ee[te+4*Q+2]*Ue>>23)}A+=Y}}function Pr(y,A,T,k,W){for(;0<k--;){var Y;for(Y=0;Y<T;++Y){var Q=y[A+2*Y+0],ee=15&(ae=y[A+2*Y+1]),te=4369*ee,ae=(240&ae|ae>>4)*te>>16;y[A+2*Y+0]=(240&Q|Q>>4)*te>>16&240|(15&Q|Q<<4)*te>>16>>4&15,y[A+2*Y+1]=240&ae|ee}A+=W}}function ln(y,A,T,k,W,Y,Q,ee){var te,ae,Ce=255;for(ae=0;ae<W;++ae){for(te=0;te<k;++te){var Ue=y[A+te];Y[Q+4*te]=Ue,Ce&=Ue}A+=T,Q+=ee}return Ce!=255}function ar(y,A,T,k,W){var Y;for(Y=0;Y<W;++Y)T[k+Y]=y[A+Y]>>8}function Cr(){Io=yt,Wu=Pr,Vu=ln,th=ar}function Sr(y,A,T){J[y]=function(k,W,Y,Q,ee,te,ae,Ce,Ue,le,Ee,ke,Qe,je,et,it,ht){var ct,Vt=ht-1>>1,Mt=ee[te+0]|ae[Ce+0]<<16,bn=Ue[le+0]|Ee[ke+0]<<16;t(k!=null);var Ft=3*Mt+bn+131074>>2;for(A(k[W+0],255&Ft,Ft>>16,Qe,je),Y!=null&&(Ft=3*bn+Mt+131074>>2,A(Y[Q+0],255&Ft,Ft>>16,et,it)),ct=1;ct<=Vt;++ct){var kn=ee[te+ct]|ae[Ce+ct]<<16,wi=Ue[le+ct]|Ee[ke+ct]<<16,Cn=Mt+kn+bn+wi+524296,jt=Cn+2*(kn+bn)>>3;Ft=jt+Mt>>1,Mt=(Cn=Cn+2*(Mt+wi)>>3)+kn>>1,A(k[W+2*ct-1],255&Ft,Ft>>16,Qe,je+(2*ct-1)*T),A(k[W+2*ct-0],255&Mt,Mt>>16,Qe,je+(2*ct-0)*T),Y!=null&&(Ft=Cn+bn>>1,Mt=jt+wi>>1,A(Y[Q+2*ct-1],255&Ft,Ft>>16,et,it+(2*ct-1)*T),A(Y[Q+2*ct+0],255&Mt,Mt>>16,et,it+(2*ct+0)*T)),Mt=kn,bn=wi}1&ht||(Ft=3*Mt+bn+131074>>2,A(k[W+ht-1],255&Ft,Ft>>16,Qe,je+(ht-1)*T),Y!=null&&(Ft=3*bn+Mt+131074>>2,A(Y[Q+ht-1],255&Ft,Ft>>16,et,it+(ht-1)*T)))}}function Pi(){Di[Vl]=fd,Di[ml]=ih,Di[Zu]=dd,Di[vl]=Xl,Di[yl]=Xu,Di[ql]=oh,Di[rh]=ax,Di[Gl]=ih,Di[Zl]=Xl,Di[Yl]=Xu,Di[l]=oh}function Xi(y){return y&-16384?0>y?0:255:y>>lx}function Mr(y,A){return Xi((19077*y>>8)+(26149*A>>8)-14234)}function fo(y,A,T){return Xi((19077*y>>8)-(6419*A>>8)-(13320*T>>8)+8708)}function Go(y,A){return Xi((19077*y>>8)+(33050*A>>8)-17685)}function gs(y,A,T,k,W){k[W+0]=Mr(y,T),k[W+1]=fo(y,A,T),k[W+2]=Go(y,A)}function Zo(y,A,T,k,W){k[W+0]=Go(y,A),k[W+1]=fo(y,A,T),k[W+2]=Mr(y,T)}function cr(y,A,T,k,W){var Y=fo(y,A,T);A=Y<<3&224|Go(y,A)>>3,k[W+0]=248&Mr(y,T)|Y>>5,k[W+1]=A}function Yo(y,A,T,k,W){var Y=240&Go(y,A)|15;k[W+0]=240&Mr(y,T)|fo(y,A,T)>>4,k[W+1]=Y}function Ms(y,A,T,k,W){k[W+0]=255,gs(y,A,T,k,W+1)}function Eo(y,A,T,k,W){Zo(y,A,T,k,W),k[W+3]=255}function fa(y,A,T,k,W){gs(y,A,T,k,W),k[W+3]=255}function xn(y,A){return 0>y?0:y>A?A:y}function Jr(y,A,T){J[y]=function(k,W,Y,Q,ee,te,ae,Ce,Ue){for(var le=Ce+(-2&Ue)*T;Ce!=le;)A(k[W+0],Y[Q+0],ee[te+0],ae,Ce),A(k[W+1],Y[Q+0],ee[te+0],ae,Ce+T),W+=2,++Q,++te,Ce+=2*T;1&Ue&&A(k[W+0],Y[Q+0],ee[te+0],ae,Ce)}}function $r(y,A,T){return T==0?y==0?A==0?6:5:A==0?4:0:T}function Mi(y,A,T,k,W){switch(y>>>30){case 3:Ae(A,T,k,W,0);break;case 2:Te(A,T,k,W);break;case 1:$e(A,T,k,W)}}function vr(y,A){var T,k,W=A.M,Y=A.Nb,Q=y.oc,ee=y.pc+40,te=y.oc,ae=y.pc+584,Ce=y.oc,Ue=y.pc+600;for(T=0;16>T;++T)Q[ee+32*T-1]=129;for(T=0;8>T;++T)te[ae+32*T-1]=129,Ce[Ue+32*T-1]=129;for(0<W?Q[ee-1-32]=te[ae-1-32]=Ce[Ue-1-32]=129:(s(Q,ee-32-1,127,21),s(te,ae-32-1,127,9),s(Ce,Ue-32-1,127,9)),k=0;k<y.za;++k){var le=A.ya[A.aa+k];if(0<k){for(T=-1;16>T;++T)i(Q,ee+32*T-4,Q,ee+32*T+12,4);for(T=-1;8>T;++T)i(te,ae+32*T-4,te,ae+32*T+4,4),i(Ce,Ue+32*T-4,Ce,Ue+32*T+4,4)}var Ee=y.Gd,ke=y.Hd+k,Qe=le.ad,je=le.Hc;if(0<W&&(i(Q,ee-32,Ee[ke].y,0,16),i(te,ae-32,Ee[ke].f,0,8),i(Ce,Ue-32,Ee[ke].ea,0,8)),le.Za){var et=Q,it=ee-32+16;for(0<W&&(k>=y.za-1?s(et,it,Ee[ke].y[15],4):i(et,it,Ee[ke+1].y,0,4)),T=0;4>T;T++)et[it+128+T]=et[it+256+T]=et[it+384+T]=et[it+0+T];for(T=0;16>T;++T,je<<=2)et=Q,it=ee+qp[T],Ko[le.Ob[T]](et,it),Mi(je,Qe,16*+T,et,it)}else if(et=$r(k,W,le.Ob[0]),$s[et](Q,ee),je!=0)for(T=0;16>T;++T,je<<=2)Mi(je,Qe,16*+T,Q,ee+qp[T]);for(T=le.Gc,et=$r(k,W,le.Dd),vs[et](te,ae),vs[et](Ce,Ue),je=Qe,et=te,it=ae,255&(le=0|T)&&(170&le?ze(je,256,et,it):rt(je,256,et,it)),le=Ce,je=Ue,255&(T>>=8)&&(170&T?ze(Qe,320,le,je):rt(Qe,320,le,je)),W<y.Ub-1&&(i(Ee[ke].y,0,Q,ee+480,16),i(Ee[ke].f,0,te,ae+224,8),i(Ee[ke].ea,0,Ce,Ue+224,8)),T=8*Y*y.B,Ee=y.sa,ke=y.ta+16*k+16*Y*y.R,Qe=y.qa,le=y.ra+8*k+T,je=y.Ha,et=y.Ia+8*k+T,T=0;16>T;++T)i(Ee,ke+T*y.R,Q,ee+32*T,16);for(T=0;8>T;++T)i(Qe,le+T*y.B,te,ae+32*T,8),i(je,et+T*y.B,Ce,Ue+32*T,8)}}function Ki(y,A,T,k,W,Y,Q,ee,te){var ae=[0],Ce=[0],Ue=0,le=te!=null?te.kd:0,Ee=te??new Xe;if(y==null||12>T)return 7;Ee.data=y,Ee.w=A,Ee.ha=T,A=[A],T=[T],Ee.gb=[Ee.gb];e:{var ke=A,Qe=T,je=Ee.gb;if(t(y!=null),t(Qe!=null),t(je!=null),je[0]=0,12<=Qe[0]&&!n(y,ke[0],"RIFF")){if(n(y,ke[0]+8,"WEBP")){je=3;break e}var et=Ye(y,ke[0]+4);if(12>et||4294967286<et){je=3;break e}if(le&&et>Qe[0]-8){je=7;break e}je[0]=et,ke[0]+=12,Qe[0]-=12}je=0}if(je!=0)return je;for(et=0<Ee.gb[0],T=T[0];;){e:{var it=y;Qe=A,je=T;var ht=ae,ct=Ce,Vt=ke=[0];if((Ft=Ue=[Ue])[0]=0,8>je[0])je=7;else{if(!n(it,Qe[0],"VP8X")){if(Ye(it,Qe[0]+4)!=10){je=3;break e}if(18>je[0]){je=7;break e}var Mt=Ye(it,Qe[0]+8),bn=1+ut(it,Qe[0]+12);if(2147483648<=bn*(it=1+ut(it,Qe[0]+15))){je=3;break e}Vt!=null&&(Vt[0]=Mt),ht!=null&&(ht[0]=bn),ct!=null&&(ct[0]=it),Qe[0]+=18,je[0]-=18,Ft[0]=1}je=0}}if(Ue=Ue[0],ke=ke[0],je!=0)return je;if(Qe=!!(2&ke),!et&&Ue)return 3;if(Y!=null&&(Y[0]=!!(16&ke)),Q!=null&&(Q[0]=Qe),ee!=null&&(ee[0]=0),Q=ae[0],ke=Ce[0],Ue&&Qe&&te==null){je=0;break}if(4>T){je=7;break}if(et&&Ue||!et&&!Ue&&!n(y,A[0],"ALPH")){T=[T],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{Mt=y,je=A,et=T;var Ft=Ee.gb;ht=Ee.na,ct=Ee.P,Vt=Ee.Sa,bn=22,t(Mt!=null),t(et!=null),it=je[0];var kn=et[0];for(t(ht!=null),t(Vt!=null),ht[0]=null,ct[0]=null,Vt[0]=0;;){if(je[0]=it,et[0]=kn,8>kn){je=7;break e}var wi=Ye(Mt,it+4);if(4294967286<wi){je=3;break e}var Cn=8+wi+1&-2;if(bn+=Cn,0<Ft&&bn>Ft){je=3;break e}if(!n(Mt,it,"VP8 ")||!n(Mt,it,"VP8L")){je=0;break e}if(kn[0]<Cn){je=7;break e}n(Mt,it,"ALPH")||(ht[0]=Mt,ct[0]=it+8,Vt[0]=wi),it+=Cn,kn-=Cn}}if(T=T[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],je!=0)break}T=[T],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(Ft=y,je=A,et=T,ht=Ee.gb[0],ct=Ee.Ja,Vt=Ee.xa,Mt=je[0],it=!n(Ft,Mt,"VP8 "),bn=!n(Ft,Mt,"VP8L"),t(Ft!=null),t(et!=null),t(ct!=null),t(Vt!=null),8>et[0])je=7;else{if(it||bn){if(Ft=Ye(Ft,Mt+4),12<=ht&&Ft>ht-12){je=3;break e}if(le&&Ft>et[0]-8){je=7;break e}ct[0]=Ft,je[0]+=8,et[0]-=8,Vt[0]=bn}else Vt[0]=5<=et[0]&&Ft[Mt+0]==47&&!(Ft[Mt+4]>>5),ct[0]=et[0];je=0}if(T=T[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],A=A[0],je!=0)break;if(4294967286<Ee.Ja)return 3;if(ee==null||Qe||(ee[0]=Ee.xa?2:1),Q=[Q],ke=[ke],Ee.xa){if(5>T){je=7;break}ee=Q,le=ke,Qe=Y,y==null||5>T?y=0:5<=T&&y[A+0]==47&&!(y[A+4]>>5)?(et=[0],Ft=[0],ht=[0],Pe(ct=new oe,y,A,T),Fo(ct,et,Ft,ht)?(ee!=null&&(ee[0]=et[0]),le!=null&&(le[0]=Ft[0]),Qe!=null&&(Qe[0]=ht[0]),y=1):y=0):y=0}else{if(10>T){je=7;break}ee=ke,y==null||10>T||!qn(y,A+3,T-3)?y=0:(le=y[A+0]|y[A+1]<<8|y[A+2]<<16,Qe=16383&(y[A+7]<<8|y[A+6]),y=16383&(y[A+9]<<8|y[A+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=Ee.Ja||!Qe||!y?y=0:(Q&&(Q[0]=Qe),ee&&(ee[0]=y),y=1))}if(!y||(Q=Q[0],ke=ke[0],Ue&&(ae[0]!=Q||Ce[0]!=ke)))return 3;te!=null&&(te[0]=Ee,te.offset=A-te.w,t(4294967286>A-te.w),t(te.offset==te.ha-T));break}return je==0||je==7&&Ue&&te==null?(Y!=null&&(Y[0]|=Ee.na!=null&&0<Ee.na.length),k!=null&&(k[0]=Q),W!=null&&(W[0]=ke),0):je}function Os(y,A,T){var k=A.width,W=A.height,Y=0,Q=0,ee=k,te=W;if(A.Da=y!=null&&0<y.Da,A.Da&&(ee=y.cd,te=y.bd,Y=y.v,Q=y.j,11>T||(Y&=-2,Q&=-2),0>Y||0>Q||0>=ee||0>=te||Y+ee>k||Q+te>W))return 0;if(A.v=Y,A.j=Q,A.va=Y+ee,A.o=Q+te,A.U=ee,A.T=te,A.da=y!=null&&0<y.da,A.da){if(!pt(ee,te,T=[y.ib],Y=[y.hb]))return 0;A.ib=T[0],A.hb=Y[0]}return A.ob=y!=null&&y.ob,A.Kb=y==null||!y.Sd,A.da&&(A.ob=A.ib<3*k/4&&A.hb<3*W/4,A.Kb=0),1}function Xo(y){if(y==null)return 2;if(11>y.S){var A=y.f.RGBA;A.fb+=(y.height-1)*A.A,A.A=-A.A}else A=y.f.kb,y=y.height,A.O+=(y-1)*A.fa,A.fa=-A.fa,A.N+=(y-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(y-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(y-1)*A.lb,A.lb=-A.lb);return 0}function No(y,A,T,k){if(k==null||0>=y||0>=A)return 2;if(T!=null){if(T.Da){var W=T.cd,Y=T.bd,Q=-2&T.v,ee=-2&T.j;if(0>Q||0>ee||0>=W||0>=Y||Q+W>y||ee+Y>A)return 2;y=W,A=Y}if(T.da){if(!pt(y,A,W=[T.ib],Y=[T.hb]))return 2;y=W[0],A=Y[0]}}k.width=y,k.height=A;e:{var te=k.width,ae=k.height;if(y=k.S,0>=te||0>=ae||!(y>=Vl&&13>y))y=2;else{if(0>=k.Rd&&k.sd==null){Q=Y=W=A=0;var Ce=(ee=te*Gp[y])*ae;if(11>y||(Y=(ae+1)/2*(A=(te+1)/2),y==12&&(Q=(W=te)*ae)),(ae=a(Ce+2*Y+Q))==null){y=1;break e}k.sd=ae,11>y?((te=k.f.RGBA).eb=ae,te.fb=0,te.A=ee,te.size=Ce):((te=k.f.kb).y=ae,te.O=0,te.fa=ee,te.Fd=Ce,te.f=ae,te.N=0+Ce,te.Ab=A,te.Cd=Y,te.ea=ae,te.W=0+Ce+Y,te.Db=A,te.Ed=Y,y==12&&(te.F=ae,te.J=0+Ce+2*Y),te.Tc=Q,te.lb=W)}if(A=1,W=k.S,Y=k.width,Q=k.height,W>=Vl&&13>W)if(11>W)y=k.f.RGBA,A&=(ee=Math.abs(y.A))*(Q-1)+Y<=y.size,A&=ee>=Y*Gp[W],A&=y.eb!=null;else{y=k.f.kb,ee=(Y+1)/2,Ce=(Q+1)/2,te=Math.abs(y.fa),ae=Math.abs(y.Ab);var Ue=Math.abs(y.Db),le=Math.abs(y.lb),Ee=le*(Q-1)+Y;A&=te*(Q-1)+Y<=y.Fd,A&=ae*(Ce-1)+ee<=y.Cd,A=(A&=Ue*(Ce-1)+ee<=y.Ed)&te>=Y&ae>=ee&Ue>=ee,A&=y.y!=null,A&=y.f!=null,A&=y.ea!=null,W==12&&(A&=le>=Y,A&=Ee<=y.Tc,A&=y.F!=null)}else A=0;y=A?0:2}}return y!=0||T!=null&&T.fd&&(y=Xo(k)),y}var Or=64,Oi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],dr=24,vi=32,pn=8,ki=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),J.Predictor0=function(){return 4278190080},J.Predictor1=function(y){return y},J.Predictor2=function(y,A,T){return A[T+0]},J.Predictor3=function(y,A,T){return A[T+1]},J.Predictor4=function(y,A,T){return A[T-1]},J.Predictor5=function(y,A,T){return zt(zt(y,A[T+1]),A[T+0])},J.Predictor6=function(y,A,T){return zt(y,A[T-1])},J.Predictor7=function(y,A,T){return zt(y,A[T+0])},J.Predictor8=function(y,A,T){return zt(A[T-1],A[T+0])},J.Predictor9=function(y,A,T){return zt(A[T+0],A[T+1])},J.Predictor10=function(y,A,T){return zt(zt(y,A[T-1]),zt(A[T+0],A[T+1]))},J.Predictor11=function(y,A,T){var k=A[T+0];return 0>=Ut(k>>24&255,y>>24&255,(A=A[T-1])>>24&255)+Ut(k>>16&255,y>>16&255,A>>16&255)+Ut(k>>8&255,y>>8&255,A>>8&255)+Ut(255&k,255&y,255&A)?k:y},J.Predictor12=function(y,A,T){var k=A[T+0];return(vn((y>>24&255)+(k>>24&255)-((A=A[T-1])>>24&255))<<24|vn((y>>16&255)+(k>>16&255)-(A>>16&255))<<16|vn((y>>8&255)+(k>>8&255)-(A>>8&255))<<8|vn((255&y)+(255&k)-(255&A)))>>>0},J.Predictor13=function(y,A,T){var k=A[T-1];return(sn((y=zt(y,A[T+0]))>>24&255,k>>24&255)<<24|sn(y>>16&255,k>>16&255)<<16|sn(y>>8&255,k>>8&255)<<8|sn(255&y,255&k))>>>0};var U=J.PredictorAdd0;J.PredictorAdd1=Rn,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var r=J.PredictorAdd2;Dt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var o,u=J.ColorIndexInverseTransform,c=J.MapARGB,h=J.VP8LColorIndexInverseTransformAlpha,p=J.MapAlpha,w=J.VP8LPredictorsAdd=[];w.length=16,(J.VP8LPredictors=[]).length=16,(J.VP8LPredictorsAdd_C=[]).length=16,(J.VP8LPredictors_C=[]).length=16;var b,N,O,z,G,ie,we,Ae,Te,ze,$e,rt,tt,Wt,Jt,Xn,kr,ei,On,Wr,yi,ks,po,Wl,Io,Wu,Vu,th,ms=a(511),qu=a(2041),Gu=a(225),ka=a(767),nh=0,Ra=qu,Js=Gu,Qi=ka,go=ms,Vl=0,ml=1,Zu=2,vl=3,yl=4,ql=5,rh=6,Gl=7,Zl=8,Yl=9,l=10,f=[2,3,7],x=[3,3,11],I=[280,256,256,256,40],R=[0,1,1,1,0],X=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],De=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],qe=8,lt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Yt=null,En=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ri=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ti=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],To=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ji=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Da=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$s=[],Ko=[],vs=[],hd=1,Yu=2,er=[],Di=[];Sr("UpsampleRgbLinePair",gs,3),Sr("UpsampleBgrLinePair",Zo,3),Sr("UpsampleRgbaLinePair",fa,4),Sr("UpsampleBgraLinePair",Eo,4),Sr("UpsampleArgbLinePair",Ms,4),Sr("UpsampleRgba4444LinePair",Yo,2),Sr("UpsampleRgb565LinePair",cr,2);var fd=J.UpsampleRgbLinePair,dd=J.UpsampleBgrLinePair,ih=J.UpsampleRgbaLinePair,Xl=J.UpsampleBgraLinePair,Xu=J.UpsampleArgbLinePair,oh=J.UpsampleRgba4444LinePair,ax=J.UpsampleRgb565LinePair,sh=16,ah=1<<sh-1,Ku=-227,pd=482,lx=6,Vp=0,ux=a(256),cx=a(256),hx=a(256),fx=a(256),dx=a(pd-Ku),px=a(pd-Ku);Jr("YuvToRgbRow",gs,3),Jr("YuvToBgrRow",Zo,3),Jr("YuvToRgbaRow",fa,4),Jr("YuvToBgraRow",Eo,4),Jr("YuvToArgbRow",Ms,4),Jr("YuvToRgba4444Row",Yo,2),Jr("YuvToRgb565Row",cr,2);var qp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],lh=[0,2,8],gx=[8,7,6,4,4,2,2,2,1,1,1,1],mx=1;this.WebPDecodeRGBA=function(y,A,T,k,W){var Y=ml,Q=new Ne,ee=new Tn;Q.ba=ee,ee.S=Y,ee.width=[ee.width],ee.height=[ee.height];var te=ee.width,ae=ee.height,Ce=new rn;if(Ce==null||y==null)var Ue=2;else t(Ce!=null),Ue=Ki(y,A,T,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Ue!=0?te=0:(te!=null&&(te[0]=Ce.width[0]),ae!=null&&(ae[0]=Ce.height[0]),te=1),te){ee.width=ee.width[0],ee.height=ee.height[0],k!=null&&(k[0]=ee.width),W!=null&&(W[0]=ee.height);e:{if(k=new wn,(W=new Xe).data=y,W.w=A,W.ha=T,W.kd=1,A=[0],t(W!=null),((y=Ki(W.data,W.w,W.ha,null,null,null,A,null,W))==0||y==7)&&A[0]&&(y=4),(A=y)==0){if(t(Q!=null),k.data=W.data,k.w=W.w+W.offset,k.ha=W.ha-W.offset,k.put=Ht,k.ac=pi,k.bc=jr,k.ma=Q,W.xa){if((y=ci())==null){Q=1;break e}if(function(le,Ee){var ke=[0],Qe=[0],je=[0];t:for(;;){if(le==null)return 0;if(Ee==null)return le.a=2,0;if(le.l=Ee,le.a=0,Pe(le.m,Ee.data,Ee.w,Ee.ha),!Fo(le.m,ke,Qe,je)){le.a=3;break t}if(le.xb=Yu,Ee.width=ke[0],Ee.height=Qe[0],!bo(ke[0],Qe[0],1,le,null))break t;return 1}return t(le.a!=0),0}(y,k)){if(k=(A=No(k.width,k.height,Q.Oa,Q.ba))==0){t:{k=y;n:for(;;){if(k==null){k=0;break t}if(t(k.s.yc!=null),t(k.s.Ya!=null),t(0<k.s.Wb),t((T=k.l)!=null),t((W=T.ma)!=null),k.xb!=0){if(k.ca=W.ba,k.tb=W.tb,t(k.ca!=null),!Os(W.Oa,T,vl)){k.a=2;break n}if(!Es(k,T.width)||T.da)break n;if((T.da||an(k.ca.S))&&Cr(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&Cr()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!pe(k.s.vb,k.s.Wa.Xa)){k.a=1;break n}k.xb=0}if(!Ir(k,k.V,k.Ba,k.c,k.i,T.o,Si))break n;W.Dc=k.Ma,k=1;break t}t(k.a!=0),k=0}k=!k}k&&(A=y.a)}else A=y.a}else{if((y=new Vn)==null){Q=1;break e}if(y.Fa=W.na,y.P=W.P,y.qc=W.Sa,hi(y,k)){if((A=No(k.width,k.height,Q.Oa,Q.ba))==0){if(y.Aa=0,T=Q.Oa,t((W=y)!=null),T!=null){if(0<(te=0>(te=T.Md)?0:100<te?255:255*te/100)){for(ae=Ce=0;4>ae;++ae)12>(Ue=W.pb[ae]).lc&&(Ue.ia=te*gx[0>Ue.lc?0:Ue.lc]>>3),Ce|=Ue.ia;Ce&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=T.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}(function(le,Ee){if(le==null)return 0;if(Ee==null)return $n(le,2,"NULL VP8Io parameter in VP8Decode().");if(!le.cb&&!hi(le,Ee))return 0;if(t(le.cb),Ee.ac==null||Ee.ac(Ee)){Ee.ob&&(le.L=0);var ke=lh[le.L];if(le.L==2?(le.yb=0,le.zb=0):(le.yb=Ee.v-ke>>4,le.zb=Ee.j-ke>>4,0>le.yb&&(le.yb=0),0>le.zb&&(le.zb=0)),le.Va=Ee.o+15+ke>>4,le.Hb=Ee.va+15+ke>>4,le.Hb>le.za&&(le.Hb=le.za),le.Va>le.Ub&&(le.Va=le.Ub),0<le.L){var Qe=le.ed;for(ke=0;4>ke;++ke){var je;if(le.Qa.Cb){var et=le.Qa.Lb[ke];le.Qa.Fb||(et+=Qe.Tb)}else et=Qe.Tb;for(je=0;1>=je;++je){var it=le.gd[ke][je],ht=et;if(Qe.Pc&&(ht+=Qe.vd[0],je&&(ht+=Qe.od[0])),0<(ht=0>ht?0:63<ht?63:ht)){var ct=ht;0<Qe.wb&&(ct=4<Qe.wb?ct>>2:ct>>1)>9-Qe.wb&&(ct=9-Qe.wb),1>ct&&(ct=1),it.dd=ct,it.tc=2*ht+ct,it.ld=40<=ht?2:15<=ht?1:0}else it.tc=0;it.La=je}}}ke=0}else $n(le,6,"Frame setup failed"),ke=le.a;if(ke=ke==0){if(ke){le.$c=0,0<le.Aa||(le.Ic=mx);t:{ke=le.Ic,Qe=4*(ct=le.za);var Vt=32*ct,Mt=ct+1,bn=0<le.L?ct*(0<le.Aa?2:1):0,Ft=(le.Aa==2?2:1)*ct;if((it=Qe+832+(je=3*(16*ke+lh[le.L])/2*Vt)+(et=le.Fa!=null&&0<le.Fa.length?le.Kc.c*le.Kc.i:0))!=it)ke=0;else{if(it>le.Vb){if(le.Vb=0,le.Ec=a(it),le.Fc=0,le.Ec==null){ke=$n(le,1,"no memory during frame initialization.");break t}le.Vb=it}it=le.Ec,ht=le.Fc,le.Ac=it,le.Bc=ht,ht+=Qe,le.Gd=d(Vt,Nn),le.Hd=0,le.rb=d(Mt+1,Qn),le.sb=1,le.wa=bn?d(bn,Vi):null,le.Y=0,le.D.Nb=0,le.D.wa=le.wa,le.D.Y=le.Y,0<le.Aa&&(le.D.Y+=ct),t(!0),le.oc=it,le.pc=ht,ht+=832,le.ya=d(Ft,jo),le.aa=0,le.D.ya=le.ya,le.D.aa=le.aa,le.Aa==2&&(le.D.aa+=ct),le.R=16*ct,le.B=8*ct,ct=(Vt=lh[le.L])*le.R,Vt=Vt/2*le.B,le.sa=it,le.ta=ht+ct,le.qa=le.sa,le.ra=le.ta+16*ke*le.R+Vt,le.Ha=le.qa,le.Ia=le.ra+8*ke*le.B+Vt,le.$c=0,ht+=je,le.mb=et?it:null,le.nb=et?ht:null,t(ht+et<=le.Fc+le.Vb),St(le),s(le.Ac,le.Bc,0,Qe),ke=1}}if(ke){if(Ee.ka=0,Ee.y=le.sa,Ee.O=le.ta,Ee.f=le.qa,Ee.N=le.ra,Ee.ea=le.Ha,Ee.Vd=le.Ia,Ee.fa=le.R,Ee.Rc=le.B,Ee.F=null,Ee.J=0,!nh){for(ke=-255;255>=ke;++ke)ms[255+ke]=0>ke?-ke:ke;for(ke=-1020;1020>=ke;++ke)qu[1020+ke]=-128>ke?-128:127<ke?127:ke;for(ke=-112;112>=ke;++ke)Gu[112+ke]=-16>ke?-16:15<ke?15:ke;for(ke=-255;510>=ke;++ke)ka[255+ke]=0>ke?0:255<ke?255:ke;nh=1}we=Tr,Ae=Oe,ze=ne,$e=dt,rt=Gn,Te=Ur,tt=Ls,Wt=Yi,Jt=E,Xn=H,kr=Ps,ei=We,On=re,Wr=_e,yi=Qs,ks=Qr,po=ps,Wl=ha,Ko[0]=wt,Ko[1]=Uo,Ko[2]=en,Ko[3]=Lr,Ko[4]=Oa,Ko[5]=Yn,Ko[6]=Qt,Ko[7]=ca,Ko[8]=qo,Ko[9]=co,$s[0]=Gi,$s[1]=Bt,$s[2]=Zn,$s[3]=Ho,$s[4]=Vo,$s[5]=Co,$s[6]=Is,vs[0]=ho,vs[1]=Hr,vs[2]=mi,vs[3]=ur,vs[4]=Ks,vs[5]=ds,vs[6]=So,ke=1}else ke=0}ke&&(ke=function(kn,wi){for(kn.M=0;kn.M<kn.Va;++kn.M){var Cn,jt=kn.Jc[kn.M&kn.Xb],_t=kn.m,ni=kn;for(Cn=0;Cn<ni.za;++Cn){var _n=_t,Dn=ni,yr=Dn.Ac,Bi=Dn.Bc+4*Cn,mo=Dn.zc,Vr=Dn.ya[Dn.aa+Cn];if(Dn.Qa.Bb?Vr.$b=Je(_n,Dn.Pa.jb[0])?2+Je(_n,Dn.Pa.jb[2]):Je(_n,Dn.Pa.jb[1]):Vr.$b=0,Dn.kc&&(Vr.Ad=Je(_n,Dn.Bd)),Vr.Za=!Je(_n,145)+0,Vr.Za){var $i=Vr.Ob,vo=0;for(Dn=0;4>Dn;++Dn){var xi,Un=mo[0+Dn];for(xi=0;4>xi;++xi){Un=Ji[yr[Bi+xi]][Un];for(var tr=ti[Je(_n,Un[0])];0<tr;)tr=ti[2*tr+Je(_n,Un[tr])];Un=-tr,yr[Bi+xi]=Un}i($i,vo,yr,Bi,4),vo+=4,mo[0+Dn]=Un}}else Un=Je(_n,156)?Je(_n,128)?1:3:Je(_n,163)?2:0,Vr.Ob[0]=Un,s(yr,Bi,Un,4),s(mo,0,Un,4);Vr.Dd=Je(_n,142)?Je(_n,114)?Je(_n,183)?1:3:2:0}if(ni.m.Ka)return $n(kn,7,"Premature end-of-partition0 encountered.");for(;kn.ja<kn.za;++kn.ja){if(ni=jt,_n=(_t=kn).rb[_t.sb-1],yr=_t.rb[_t.sb+_t.ja],Cn=_t.ya[_t.aa+_t.ja],Bi=_t.kc?Cn.Ad:0)_n.la=yr.la=0,Cn.Za||(_n.Na=yr.Na=0),Cn.Hc=0,Cn.Gc=0,Cn.ia=0;else{var qr,nr;if(_n=yr,yr=ni,Bi=_t.Pa.Xc,mo=_t.ya[_t.aa+_t.ja],Vr=_t.pb[mo.$b],Dn=mo.ad,$i=0,vo=_t.rb[_t.sb-1],Un=xi=0,s(Dn,$i,0,384),mo.Za)var Fi=0,Rs=Bi[3];else{tr=a(16);var ri=_n.Na+vo.Na;if(ri=Yt(yr,Bi[1],ri,Vr.Eb,0,tr,0),_n.Na=vo.Na=(0<ri)+0,1<ri)we(tr,0,Dn,$i);else{var Lo=tr[0]+3>>3;for(tr=0;256>tr;tr+=16)Dn[$i+tr]=Lo}Fi=1,Rs=Bi[0]}var hr=15&_n.la,_i=15&vo.la;for(tr=0;4>tr;++tr){var Qo=1&_i;for(Lo=nr=0;4>Lo;++Lo)hr=hr>>1|(Qo=(ri=Yt(yr,Rs,ri=Qo+(1&hr),Vr.Sc,Fi,Dn,$i))>Fi)<<7,nr=nr<<2|(3<ri?3:1<ri?2:Dn[$i+0]!=0),$i+=16;hr>>=4,_i=_i>>1|Qo<<7,xi=(xi<<8|nr)>>>0}for(Rs=hr,Fi=_i>>4,qr=0;4>qr;qr+=2){for(nr=0,hr=_n.la>>4+qr,_i=vo.la>>4+qr,tr=0;2>tr;++tr){for(Qo=1&_i,Lo=0;2>Lo;++Lo)ri=Qo+(1&hr),hr=hr>>1|(Qo=0<(ri=Yt(yr,Bi[2],ri,Vr.Qc,0,Dn,$i)))<<3,nr=nr<<2|(3<ri?3:1<ri?2:Dn[$i+0]!=0),$i+=16;hr>>=2,_i=_i>>1|Qo<<5}Un|=nr<<4*qr,Rs|=hr<<4<<qr,Fi|=(240&_i)<<qr}_n.la=Rs,vo.la=Fi,mo.Hc=xi,mo.Gc=Un,mo.ia=43690&Un?0:Vr.ia,Bi=!(xi|Un)}if(0<_t.L&&(_t.wa[_t.Y+_t.ja]=_t.gd[Cn.$b][Cn.Za],_t.wa[_t.Y+_t.ja].La|=!Bi),ni.Ka)return $n(kn,7,"Premature end-of-file encountered.")}if(St(kn),_t=wi,ni=1,Cn=(jt=kn).D,_n=0<jt.L&&jt.M>=jt.zb&&jt.M<=jt.Va,jt.Aa==0)t:{if(Cn.M=jt.M,Cn.uc=_n,vr(jt,Cn),ni=1,Cn=(nr=jt.D).Nb,_n=(Un=lh[jt.L])*jt.R,yr=Un/2*jt.B,tr=16*Cn*jt.R,Lo=8*Cn*jt.B,Bi=jt.sa,mo=jt.ta-_n+tr,Vr=jt.qa,Dn=jt.ra-yr+Lo,$i=jt.Ha,vo=jt.Ia-yr+Lo,_i=(hr=nr.M)==0,xi=hr>=jt.Va-1,jt.Aa==2&&vr(jt,nr),nr.uc)for(Qo=(ri=jt).D.M,t(ri.D.uc),nr=ri.yb;nr<ri.Hb;++nr){Fi=nr,Rs=Qo;var yo=(Jo=(ji=ri).D).Nb;qr=ji.R;var Jo=Jo.wa[Jo.Y+Fi],$o=ji.sa,Po=ji.ta+16*yo*qr+16*Fi,es=Jo.dd,pr=Jo.tc;if(pr!=0)if(t(3<=pr),ji.L==1)0<Fi&&ks($o,Po,qr,pr+4),Jo.La&&Wl($o,Po,qr,pr),0<Rs&&yi($o,Po,qr,pr+4),Jo.La&&po($o,Po,qr,pr);else{var ts=ji.B,Ds=ji.qa,wl=ji.ra+8*yo*ts+8*Fi,da=ji.Ha,ji=ji.Ia+8*yo*ts+8*Fi;yo=Jo.ld,0<Fi&&(Wt($o,Po,qr,pr+4,es,yo),Xn(Ds,wl,da,ji,ts,pr+4,es,yo)),Jo.La&&(ei($o,Po,qr,pr,es,yo),Wr(Ds,wl,da,ji,ts,pr,es,yo)),0<Rs&&(tt($o,Po,qr,pr+4,es,yo),Jt(Ds,wl,da,ji,ts,pr+4,es,yo)),Jo.La&&(kr($o,Po,qr,pr,es,yo),On(Ds,wl,da,ji,ts,pr,es,yo))}}if(jt.ia&&alert("todo:DitherRow"),_t.put!=null){if(nr=16*hr,hr=16*(hr+1),_i?(_t.y=jt.sa,_t.O=jt.ta+tr,_t.f=jt.qa,_t.N=jt.ra+Lo,_t.ea=jt.Ha,_t.W=jt.Ia+Lo):(nr-=Un,_t.y=Bi,_t.O=mo,_t.f=Vr,_t.N=Dn,_t.ea=$i,_t.W=vo),xi||(hr-=Un),hr>_t.o&&(hr=_t.o),_t.F=null,_t.J=null,jt.Fa!=null&&0<jt.Fa.length&&nr<hr&&(_t.J=on(jt,_t,nr,hr-nr),_t.F=jt.mb,_t.F==null&&_t.F.length==0)){ni=$n(jt,3,"Could not decode alpha data.");break t}nr<_t.j&&(Un=_t.j-nr,nr=_t.j,t(!(1&Un)),_t.O+=jt.R*Un,_t.N+=jt.B*(Un>>1),_t.W+=jt.B*(Un>>1),_t.F!=null&&(_t.J+=_t.width*Un)),nr<hr&&(_t.O+=_t.v,_t.N+=_t.v>>1,_t.W+=_t.v>>1,_t.F!=null&&(_t.J+=_t.v),_t.ka=nr-_t.j,_t.U=_t.va-_t.v,_t.T=hr-nr,ni=_t.put(_t))}Cn+1!=jt.Ic||xi||(i(jt.sa,jt.ta-_n,Bi,mo+16*jt.R,_n),i(jt.qa,jt.ra-yr,Vr,Dn+8*jt.B,yr),i(jt.Ha,jt.Ia-yr,$i,vo+8*jt.B,yr))}if(!ni)return $n(kn,6,"Output aborted.")}return 1}(le,Ee)),Ee.bc!=null&&Ee.bc(Ee),ke&=1}return ke?(le.cb=0,ke):0})(y,k)||(A=y.a)}}else A=y.a}A==0&&Q.Oa!=null&&Q.Oa.fd&&(A=Xo(Q.ba))}Q=A}Y=Q!=0?null:11>Y?ee.f.RGBA.eb:ee.f.kb.y}else Y=null;return Y};var Gp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(J,be){for(var K="",$=0;$<4;$++)K+=String.fromCharCode(J[be++]);return K}function _(J,be){return J[be+0]|J[be+1]<<8}function C(J,be){return(J[be+0]|J[be+1]<<8|J[be+2]<<16)>>>0}function P(J,be){return(J[be+0]|J[be+1]<<8|J[be+2]<<16|J[be+3]<<24)>>>0}new v;var S=[0],j=[0],D=[],q=new v,M=e,B=function(J,be){var K={},$=0,ge=!1,me=0,ce=0;if(K.frames=[],!function(V,oe){for(var se=0;se<4;se++)if(V[oe+se]!="RIFF".charCodeAt(se))return!0;return!1}(J,be)){for(P(J,be+=4),be+=8;be<J.length;){var Be=m(J,be),Le=P(J,be+=4);be+=4;var he=Le+(1&Le);switch(Be){case"VP8 ":case"VP8L":K.frames[$]===void 0&&(K.frames[$]={}),(He=K.frames[$]).src_off=ge?ce:be-8,He.src_size=me+Le+8,$++,ge&&(ge=!1,me=0,ce=0);break;case"VP8X":(He=K.header={}).feature_flags=J[be];var Pe=be+4;He.canvas_width=1+C(J,Pe),Pe+=3,He.canvas_height=1+C(J,Pe),Pe+=3;break;case"ALPH":ge=!0,me=he+8,ce=be-8;break;case"ANIM":(He=K.header).bgcolor=P(J,be),Pe=be+4,He.loop_count=_(J,Pe),Pe+=2;break;case"ANMF":var Ie,He;(He=K.frames[$]={}).offset_x=2*C(J,be),be+=3,He.offset_y=2*C(J,be),be+=3,He.width=1+C(J,be),be+=3,He.height=1+C(J,be),be+=3,He.duration=C(J,be),be+=3,Ie=J[be++],He.dispose=1&Ie,He.blend=Ie>>1&1}Be!="ANMF"&&(be+=he)}return K}}(M,0);B.response=M,B.rgbaoutput=!0,B.dataurl=!1;var F=B.header?B.header:null,Z=B.frames?B.frames:null;if(F){F.loop_counter=F.loop_count,S=[F.canvas_height],j=[F.canvas_width];for(var ye=0;ye<Z.length&&Z[ye].blend!=0;ye++);}var Se=Z[0],fe=q.WebPDecodeRGBA(M,Se.src_off,Se.src_size,j,S);Se.rgba=fe,Se.imgwidth=j[0],Se.imgheight=S[0];for(var de=0;de<j[0]*S[0]*4;de++)D[de]=fe[de];return this.width=j,this.height=S,this.data=D,this}(function(e){var t,n,i,s,a,d,g,v,m,_=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new v,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new d,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new d,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new C(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,d=this.internal.Point,g=this.internal.Rectangle,v=this.internal.Matrix,m=new _}]);var C=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var oe=V;Object.defineProperty(this,"pdf",{get:function(){return oe}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(Ye){se=!!Ye}});var ve=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ve},set:function(Ye){ve=!!Ye}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Ye){isNaN(Ye)||(ue=Ye)}});var Me=0;Object.defineProperty(this,"posY",{get:function(){return Me},set:function(Ye){isNaN(Ye)||(Me=Ye)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(Ye){var pe;typeof Ye=="number"?pe=[Ye,Ye,Ye,Ye]:((pe=new Array(4))[0]=Ye[0],pe[1]=Ye.length>=2?Ye[1]:pe[0],pe[2]=Ye.length>=3?Ye[2]:pe[0],pe[3]=Ye.length>=4?Ye[3]:pe[1]),m.margin=pe}});var Fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Fe},set:function(Ye){Fe=Ye}});var Ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ve},set:function(Ye){Ve=Ye}});var Je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Je},set:function(Ye){Je=Ye}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(Ye){Ye instanceof _&&(m=Ye)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(Ye){m.path=Ye}});var ot=[];Object.defineProperty(this,"ctxStack",{get:function(){return ot},set:function(Ye){ot=Ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ye){var pe;pe=P(Ye),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ye){var pe=P(Ye);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ye){["butt","round","square"].indexOf(Ye)!==-1&&(this.ctx.lineCap=Ye,this.pdf.setLineCap(Ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ye){isNaN(Ye)||(this.ctx.lineWidth=Ye,this.pdf.setLineWidth(Ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ye){["bevel","round","miter"].indexOf(Ye)!==-1&&(this.ctx.lineJoin=Ye,this.pdf.setLineJoin(Ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ye){isNaN(Ye)||(this.ctx.miterLimit=Ye,this.pdf.setMiterLimit(Ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ye){this.ctx.textBaseline=Ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ye){["right","end","center","left","start"].indexOf(Ye)!==-1&&(this.ctx.textAlign=Ye)}});var gt=null,ut=null;Object.defineProperty(this,"fontFaces",{get:function(){return ut},set:function(Ye){gt=null,ut=Ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ye){var pe;if(this.ctx.font=Ye,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ye))!==null){var fn=pe[1];pe[2];var Ot=pe[3],pt=pe[4];pe[5];var Ke=pe[6],kt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(pt)[2];pt=Math.floor(kt==="px"?parseFloat(pt)*this.pdf.internal.scaleFactor:kt==="em"?parseFloat(pt)*this.pdf.getFontSize():parseFloat(pt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(pt);var Ze=function($t){var Dt,Kn,Zt=[],Ge=$t.trim();if(Ge==="")return g1;if(Ge in Bm)return[Bm[Ge]];for(;Ge!=="";){switch(Kn=null,Dt=(Ge=jm(Ge)).charAt(0)){case'"':case"'":Kn=jb(Ge.substring(1),Dt);break;default:Kn=zb(Ge)}if(Kn===null||(Zt.push(Kn[0]),(Ge=jm(Kn[1]))!==""&&Ge.charAt(0)!==","))return g1;Ge=Ge.replace(/^,/,"")}return Zt}(Ke);if(this.fontFaces){var nn=function($t,Dt){if(gt===null){var Kn=function(Zt){var Ge=[];return Object.keys(Zt).forEach(function(Tt){Zt[Tt].forEach(function(Gt){var xt=null;switch(Gt){case"bold":xt={family:Tt,weight:"bold"};break;case"italic":xt={family:Tt,style:"italic"};break;case"bolditalic":xt={family:Tt,weight:"bold",style:"italic"};break;case"":case"normal":xt={family:Tt}}xt!==null&&(xt.ref={name:Tt,style:Gt},Ge.push(xt))})}),Ge}($t.getFontList());gt=function(Zt){for(var Ge={},Tt=0;Tt<Zt.length;++Tt){var Gt=p1(Zt[Tt]),xt=Gt.family,yn=Gt.stretch,an=Gt.style,lr=Gt.weight;Ge[xt]=Ge[xt]||{},Ge[xt][yn]=Ge[xt][yn]||{},Ge[xt][yn][an]=Ge[xt][yn][an]||{},Ge[xt][yn][an][lr]=Gt}return Ge}(Kn.concat(Dt))}return gt}(this.pdf,this.fontFaces),zt=Ze.map(function($t){return{family:$t,stretch:"normal",weight:Ot,style:fn}}),vn=function($t,Dt,Kn){for(var Zt=(Kn=Kn||{}).defaultFontFamily||"times",Ge=Object.assign({},Fb,Kn.genericFontFamilies||{}),Tt=null,Gt=null,xt=0;xt<Dt.length;++xt)if(Ge[(Tt=p1(Dt[xt])).family]&&(Tt.family=Ge[Tt.family]),$t.hasOwnProperty(Tt.family)){Gt=$t[Tt.family];break}if(!(Gt=Gt||$t[Zt]))throw new Error("Could not find a font-family for the rule '"+Fm(Tt)+"' and default family '"+Zt+"'.");if(Gt=function(yn,an){if(an[yn])return an[yn];var lr=M0[yn],Kt=lr<=M0.normal?-1:1,Tn=Dm(an,Rw,lr,Kt);if(!Tn)throw new Error("Could not find a matching font-stretch value for "+yn);return Tn}(Tt.stretch,Gt),Gt=function(yn,an){if(an[yn])return an[yn];for(var lr=kw[yn],Kt=0;Kt<lr.length;++Kt)if(an[lr[Kt]])return an[lr[Kt]];throw new Error("Could not find a matching font-style for "+yn)}(Tt.style,Gt),!(Gt=function(yn,an){if(an[yn])return an[yn];if(yn===400&&an[500])return an[500];if(yn===500&&an[400])return an[400];var lr=Bb[yn],Kt=Dm(an,Dw,lr,yn<400?-1:1);if(!Kt)throw new Error("Could not find a matching font-weight for value "+yn);return Kt}(Tt.weight,Gt)))throw new Error("Failed to resolve a font for the rule '"+Fm(Tt)+"'.");return Gt}(nn,zt);this.pdf.setFont(vn.ref.name,vn.ref.style)}else{var sn="";(Ot==="bold"||parseInt(Ot,10)>=700||fn==="bold")&&(sn="bold"),fn==="italic"&&(sn+="italic"),sn.length===0&&(sn="normal");for(var Ut="",Rn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Xt=0;Xt<Ze.length;Xt++){if(this.pdf.internal.getFont(Ze[Xt],sn,{noFallback:!0,disableWarning:!0})!==void 0){Ut=Ze[Xt];break}if(sn==="bolditalic"&&this.pdf.internal.getFont(Ze[Xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ut=Ze[Xt],sn="bold";else if(this.pdf.internal.getFont(Ze[Xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ut=Ze[Xt],sn="normal";break}}if(Ut===""){for(var Ct=0;Ct<Ze.length;Ct++)if(Rn[Ze[Ct]]){Ut=Rn[Ze[Ct]];break}}Ut=Ut===""?"Times":Ut,this.pdf.setFont(Ut,sn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ye){this.ctx.globalCompositeOperation=Ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ye){this.ctx.globalAlpha=Ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ye){this.ctx.lineDashOffset=Ye,He.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ye){this.ctx.lineDash=Ye,He.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ye){this.ctx.ignoreClearRect=!!Ye}})};C.prototype.setLineDash=function(V){this.lineDash=V},C.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},C.prototype.fill=function(){Z.call(this,"fill",!1)},C.prototype.stroke=function(){Z.call(this,"stroke",!1)},C.prototype.beginPath=function(){this.path=[{type:"begin"}]},C.prototype.moveTo=function(V,oe){if(isNaN(V)||isNaN(oe))throw fr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var se=this.ctx.transform.applyToPoint(new d(V,oe));this.path.push({type:"mt",x:se.x,y:se.y}),this.ctx.lastPoint=new d(V,oe)},C.prototype.closePath=function(){var V=new d(0,0),oe=0;for(oe=this.path.length-1;oe!==-1;oe--)if(this.path[oe].type==="begin"&&ir(this.path[oe+1])==="object"&&typeof this.path[oe+1].x=="number"){V=new d(this.path[oe+1].x,this.path[oe+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(V.x,V.y)},C.prototype.lineTo=function(V,oe){if(isNaN(V)||isNaN(oe))throw fr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var se=this.ctx.transform.applyToPoint(new d(V,oe));this.path.push({type:"lt",x:se.x,y:se.y}),this.ctx.lastPoint=new d(se.x,se.y)},C.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Z.call(this,null,!0)},C.prototype.quadraticCurveTo=function(V,oe,se,ve){if(isNaN(se)||isNaN(ve)||isNaN(V)||isNaN(oe))throw fr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new d(se,ve)),Me=this.ctx.transform.applyToPoint(new d(V,oe));this.path.push({type:"qct",x1:Me.x,y1:Me.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new d(ue.x,ue.y)},C.prototype.bezierCurveTo=function(V,oe,se,ve,ue,Me){if(isNaN(ue)||isNaN(Me)||isNaN(V)||isNaN(oe)||isNaN(se)||isNaN(ve))throw fr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Fe=this.ctx.transform.applyToPoint(new d(ue,Me)),Ve=this.ctx.transform.applyToPoint(new d(V,oe)),Je=this.ctx.transform.applyToPoint(new d(se,ve));this.path.push({type:"bct",x1:Ve.x,y1:Ve.y,x2:Je.x,y2:Je.y,x:Fe.x,y:Fe.y}),this.ctx.lastPoint=new d(Fe.x,Fe.y)},C.prototype.arc=function(V,oe,se,ve,ue,Me){if(isNaN(V)||isNaN(oe)||isNaN(se)||isNaN(ve)||isNaN(ue))throw fr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Me=!!Me,!this.ctx.transform.isIdentity){var Fe=this.ctx.transform.applyToPoint(new d(V,oe));V=Fe.x,oe=Fe.y;var Ve=this.ctx.transform.applyToPoint(new d(0,se)),Je=this.ctx.transform.applyToPoint(new d(0,0));se=Math.sqrt(Math.pow(Ve.x-Je.x,2)+Math.pow(Ve.y-Je.y,2))}Math.abs(ue-ve)>=2*Math.PI&&(ve=0,ue=2*Math.PI),this.path.push({type:"arc",x:V,y:oe,radius:se,startAngle:ve,endAngle:ue,counterclockwise:Me})},C.prototype.arcTo=function(V,oe,se,ve,ue){throw new Error("arcTo not implemented.")},C.prototype.rect=function(V,oe,se,ve){if(isNaN(V)||isNaN(oe)||isNaN(se)||isNaN(ve))throw fr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,oe),this.lineTo(V+se,oe),this.lineTo(V+se,oe+ve),this.lineTo(V,oe+ve),this.lineTo(V,oe),this.lineTo(V+se,oe),this.lineTo(V,oe)},C.prototype.fillRect=function(V,oe,se,ve){if(isNaN(V)||isNaN(oe)||isNaN(se)||isNaN(ve))throw fr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!S.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,oe,se,ve),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},C.prototype.strokeRect=function(V,oe,se,ve){if(isNaN(V)||isNaN(oe)||isNaN(se)||isNaN(ve))throw fr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(V,oe,se,ve),this.stroke())},C.prototype.clearRect=function(V,oe,se,ve){if(isNaN(V)||isNaN(oe)||isNaN(se)||isNaN(ve))throw fr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,oe,se,ve))},C.prototype.save=function(V){V=typeof V!="boolean"||V;for(var oe=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("q");if(this.pdf.setPage(oe),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var ve=new _(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ve}},C.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var oe=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("Q");this.pdf.setPage(oe),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},C.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var P=function(V){var oe,se,ve,ue;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))oe=0,se=0,ve=0,ue=0;else{var Me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(Me!==null)oe=parseInt(Me[1]),se=parseInt(Me[2]),ve=parseInt(Me[3]),ue=1;else if((Me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)oe=parseInt(Me[1]),se=parseInt(Me[2]),ve=parseInt(Me[3]),ue=parseFloat(Me[4]);else{if(ue=1,typeof V=="string"&&V.charAt(0)!=="#"){var Fe=new Nw(V);V=Fe.ok?Fe.toHex():"#000000"}V.length===4?(oe=V.substring(1,2),oe+=oe,se=V.substring(2,3),se+=se,ve=V.substring(3,4),ve+=ve):(oe=V.substring(1,3),se=V.substring(3,5),ve=V.substring(5,7)),oe=parseInt(oe,16),se=parseInt(se,16),ve=parseInt(ve,16)}}return{r:oe,g:se,b:ve,a:ue,style:V}},S=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};C.prototype.fillText=function(V,oe,se,ve){if(isNaN(oe)||isNaN(se)||typeof V!="string")throw fr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ve=isNaN(ve)?void 0:ve,!S.call(this)){var ue=he(this.ctx.transform.rotation),Me=this.ctx.transform.scaleX;$.call(this,{text:V,x:oe,y:se,scale:Me,angle:ue,align:this.textAlign,maxWidth:ve})}},C.prototype.strokeText=function(V,oe,se,ve){if(isNaN(oe)||isNaN(se)||typeof V!="string")throw fr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){ve=isNaN(ve)?void 0:ve;var ue=he(this.ctx.transform.rotation),Me=this.ctx.transform.scaleX;$.call(this,{text:V,x:oe,y:se,scale:Me,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ve})}},C.prototype.measureText=function(V){if(typeof V!="string")throw fr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var oe=this.pdf,se=this.pdf.internal.scaleFactor,ve=oe.internal.getFontSize(),ue=oe.getStringUnitWidth(V)*ve/oe.internal.scaleFactor;return new function(Me){var Fe=(Me=Me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Fe}}),this}({width:ue*=Math.round(96*se/72*1e4)/1e4})},C.prototype.scale=function(V,oe){if(isNaN(V)||isNaN(oe))throw fr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var se=new v(V,0,0,oe,0,0);this.ctx.transform=this.ctx.transform.multiply(se)},C.prototype.rotate=function(V){if(isNaN(V))throw fr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var oe=new v(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(oe)},C.prototype.translate=function(V,oe){if(isNaN(V)||isNaN(oe))throw fr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var se=new v(1,0,0,1,V,oe);this.ctx.transform=this.ctx.transform.multiply(se)},C.prototype.transform=function(V,oe,se,ve,ue,Me){if(isNaN(V)||isNaN(oe)||isNaN(se)||isNaN(ve)||isNaN(ue)||isNaN(Me))throw fr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Fe=new v(V,oe,se,ve,ue,Me);this.ctx.transform=this.ctx.transform.multiply(Fe)},C.prototype.setTransform=function(V,oe,se,ve,ue,Me){V=isNaN(V)?1:V,oe=isNaN(oe)?0:oe,se=isNaN(se)?0:se,ve=isNaN(ve)?1:ve,ue=isNaN(ue)?0:ue,Me=isNaN(Me)?0:Me,this.ctx.transform=new v(V,oe,se,ve,ue,Me)};var D=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};C.prototype.drawImage=function(V,oe,se,ve,ue,Me,Fe,Ve,Je){var ot=this.pdf.getImageProperties(V),gt=1,ut=1,Ye=1,pe=1;ve!==void 0&&Ve!==void 0&&(Ye=Ve/ve,pe=Je/ue,gt=ot.width/ve*Ve/ve,ut=ot.height/ue*Je/ue),Me===void 0&&(Me=oe,Fe=se,oe=0,se=0),ve!==void 0&&Ve===void 0&&(Ve=ve,Je=ue),ve===void 0&&Ve===void 0&&(Ve=ot.width,Je=ot.height);for(var fn,Ot=this.ctx.transform.decompose(),pt=he(Ot.rotate.shx),Ke=new v,kt=(Ke=(Ke=(Ke=Ke.multiply(Ot.translate)).multiply(Ot.skew)).multiply(Ot.scale)).applyToRectangle(new g(Me-oe*Ye,Fe-se*pe,ve*gt,ue*ut)),Ze=q.call(this,kt),nn=[],zt=0;zt<Ze.length;zt+=1)nn.indexOf(Ze[zt])===-1&&nn.push(Ze[zt]);if(F(nn),this.autoPaging)for(var vn=nn[0],sn=nn[nn.length-1],Ut=vn;Ut<sn+1;Ut++){this.pdf.setPage(Ut);var Rn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xt=Ut===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dt=Ut===1?0:Ct+(Ut-2)*$t;if(this.ctx.clip_path.length!==0){var Kn=this.path;fn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(fn,this.posX+this.margin[3],-Dt+Xt+this.ctx.prevPageLastElemOffset),ye.call(this,"fill",!0),this.path=Kn}var Zt=JSON.parse(JSON.stringify(kt));Zt=B([Zt],this.posX+this.margin[3],-Dt+Xt+this.ctx.prevPageLastElemOffset)[0];var Ge=(Ut>vn||Ut<sn)&&D.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rn,$t,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,pt),Ge&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(V,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,pt)};var q=function(V,oe,se){var ve=[];oe=oe||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":ve.push(Math.floor((V.y+ue)/se)+1);break;case"arc":ve.push(Math.floor((V.y+ue-V.radius)/se)+1),ve.push(Math.floor((V.y+ue+V.radius)/se)+1);break;case"qct":var Me=Pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);ve.push(Math.floor((Me.y+ue)/se)+1),ve.push(Math.floor((Me.y+Me.h+ue)/se)+1);break;case"bct":var Fe=Ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);ve.push(Math.floor((Fe.y+ue)/se)+1),ve.push(Math.floor((Fe.y+Fe.h+ue)/se)+1);break;case"rect":ve.push(Math.floor((V.y+ue)/se)+1),ve.push(Math.floor((V.y+V.h+ue)/se)+1)}for(var Ve=0;Ve<ve.length;Ve+=1)for(;this.pdf.internal.getNumberOfPages()<ve[Ve];)M.call(this);return ve},M=function(){var V=this.fillStyle,oe=this.strokeStyle,se=this.font,ve=this.lineCap,ue=this.lineWidth,Me=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=oe,this.font=se,this.lineCap=ve,this.lineWidth=ue,this.lineJoin=Me},B=function(V,oe,se){for(var ve=0;ve<V.length;ve++)switch(V[ve].type){case"bct":V[ve].x2+=oe,V[ve].y2+=se;case"qct":V[ve].x1+=oe,V[ve].y1+=se;default:V[ve].x+=oe,V[ve].y+=se}return V},F=function(V){return V.sort(function(oe,se){return oe-se})},Z=function(V,oe){for(var se,ve,ue=this.fillStyle,Me=this.strokeStyle,Fe=this.lineCap,Ve=this.lineWidth,Je=Math.abs(Ve*this.ctx.transform.scaleX),ot=this.lineJoin,gt=JSON.parse(JSON.stringify(this.path)),ut=JSON.parse(JSON.stringify(this.path)),Ye=[],pe=0;pe<ut.length;pe++)if(ut[pe].x!==void 0)for(var fn=q.call(this,ut[pe]),Ot=0;Ot<fn.length;Ot+=1)Ye.indexOf(fn[Ot])===-1&&Ye.push(fn[Ot]);for(var pt=0;pt<Ye.length;pt++)for(;this.pdf.internal.getNumberOfPages()<Ye[pt];)M.call(this);if(F(Ye),this.autoPaging)for(var Ke=Ye[0],kt=Ye[Ye.length-1],Ze=Ke;Ze<kt+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=ue,this.strokeStyle=Me,this.lineCap=Fe,this.lineWidth=Je,this.lineJoin=ot;var nn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],zt=Ze===1?this.posY+this.margin[0]:this.margin[0],vn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],sn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ut=Ze===1?0:vn+(Ze-2)*sn;if(this.ctx.clip_path.length!==0){var Rn=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(se,this.posX+this.margin[3],-Ut+zt+this.ctx.prevPageLastElemOffset),ye.call(this,V,!0),this.path=Rn}if(ve=JSON.parse(JSON.stringify(gt)),this.path=B(ve,this.posX+this.margin[3],-Ut+zt+this.ctx.prevPageLastElemOffset),oe===!1||Ze===0){var Xt=(Ze>Ke||Ze<kt)&&D.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nn,sn,null).clip().discardPath()),ye.call(this,V,oe),Xt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ve}else this.lineWidth=Je,ye.call(this,V,oe),this.lineWidth=Ve;this.path=gt},ye=function(V,oe){if((V!=="stroke"||oe||!j.call(this))&&(V==="stroke"||oe||!S.call(this))){for(var se,ve,ue=[],Me=this.path,Fe=0;Fe<Me.length;Fe++){var Ve=Me[Fe];switch(Ve.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:Ve,deltas:[],abs:[]});break;case"lt":var Je=ue.length;if(Me[Fe-1]&&!isNaN(Me[Fe-1].x)&&(se=[Ve.x-Me[Fe-1].x,Ve.y-Me[Fe-1].y],Je>0)){for(;Je>=0;Je--)if(ue[Je-1].close!==!0&&ue[Je-1].begin!==!0){ue[Je-1].deltas.push(se),ue[Je-1].abs.push(Ve);break}}break;case"bct":se=[Ve.x1-Me[Fe-1].x,Ve.y1-Me[Fe-1].y,Ve.x2-Me[Fe-1].x,Ve.y2-Me[Fe-1].y,Ve.x-Me[Fe-1].x,Ve.y-Me[Fe-1].y],ue[ue.length-1].deltas.push(se);break;case"qct":var ot=Me[Fe-1].x+2/3*(Ve.x1-Me[Fe-1].x),gt=Me[Fe-1].y+2/3*(Ve.y1-Me[Fe-1].y),ut=Ve.x+2/3*(Ve.x1-Ve.x),Ye=Ve.y+2/3*(Ve.y1-Ve.y),pe=Ve.x,fn=Ve.y;se=[ot-Me[Fe-1].x,gt-Me[Fe-1].y,ut-Me[Fe-1].x,Ye-Me[Fe-1].y,pe-Me[Fe-1].x,fn-Me[Fe-1].y],ue[ue.length-1].deltas.push(se);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(Ve)}}ve=oe?null:V==="stroke"?"stroke":"fill";for(var Ot=!1,pt=0;pt<ue.length;pt++)if(ue[pt].arc)for(var Ke=ue[pt].abs,kt=0;kt<Ke.length;kt++){var Ze=Ke[kt];Ze.type==="arc"?de.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,oe,!Ot):ge.call(this,Ze.x,Ze.y),Ot=!0}else if(ue[pt].close===!0)this.pdf.internal.out("h"),Ot=!1;else if(ue[pt].begin!==!0){var nn=ue[pt].start.x,zt=ue[pt].start.y;me.call(this,ue[pt].deltas,nn,zt),Ot=!0}ve&&J.call(this,ve),oe&&be.call(this)}},Se=function(V){var oe=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=oe*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-se;case"top":return V+oe-se;case"hanging":return V+oe-2*se;case"middle":return V+oe/2-se;default:return V}},fe=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};C.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(oe,se){this.colorStops.push([oe,se])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},C.prototype.createPattern=function(){return this.createLinearGradient()},C.prototype.createRadialGradient=function(){return this.createLinearGradient()};var de=function(V,oe,se,ve,ue,Me,Fe,Ve,Je){for(var ot=Be.call(this,se,ve,ue,Me),gt=0;gt<ot.length;gt++){var ut=ot[gt];gt===0&&(Je?K.call(this,ut.x1+V,ut.y1+oe):ge.call(this,ut.x1+V,ut.y1+oe)),ce.call(this,V,oe,ut.x2,ut.y2,ut.x3,ut.y3,ut.x4,ut.y4)}Ve?be.call(this):J.call(this,Fe)},J=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},be=function(){this.pdf.clip(),this.pdf.discardPath()},K=function(V,oe){this.pdf.internal.out(n(V)+" "+i(oe)+" m")},$=function(V){var oe;switch(V.align){case"right":case"end":oe="right";break;case"center":oe="center";break;default:oe="left"}var se=this.pdf.getTextDimensions(V.text),ve=Se.call(this,V.y),ue=fe.call(this,ve)-se.h,Me=this.ctx.transform.applyToPoint(new d(V.x,ve)),Fe=this.ctx.transform.decompose(),Ve=new v;Ve=(Ve=(Ve=Ve.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale);for(var Je,ot,gt,ut=this.ctx.transform.applyToRectangle(new g(V.x,ve,se.w,se.h)),Ye=Ve.applyToRectangle(new g(V.x,ue,se.w,se.h)),pe=q.call(this,Ye),fn=[],Ot=0;Ot<pe.length;Ot+=1)fn.indexOf(pe[Ot])===-1&&fn.push(pe[Ot]);if(F(fn),this.autoPaging)for(var pt=fn[0],Ke=fn[fn.length-1],kt=pt;kt<Ke+1;kt++){this.pdf.setPage(kt);var Ze=kt===1?this.posY+this.margin[0]:this.margin[0],nn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[2],vn=zt-this.margin[0],sn=this.pdf.internal.pageSize.width-this.margin[1],Ut=sn-this.margin[3],Rn=kt===1?0:nn+(kt-2)*vn;if(this.ctx.clip_path.length!==0){var Xt=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Je,this.posX+this.margin[3],-1*Rn+Ze),ye.call(this,"fill",!0),this.path=Xt}var Ct=B([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-Rn+Ze+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ot*V.scale),gt=this.lineWidth,this.lineWidth=gt*V.scale);var $t=this.autoPaging!=="text";if($t||Ct.y+Ct.h<=zt){if($t||Ct.y>=Ze&&Ct.x<=sn){var Dt=$t?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||sn-Ct.x)[0],Kn=B([JSON.parse(JSON.stringify(ut))],this.posX+this.margin[3],-Rn+Ze+this.ctx.prevPageLastElemOffset)[0],Zt=$t&&(kt>pt||kt<Ke)&&D.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,vn,null).clip().discardPath()),this.pdf.text(Dt,Kn.x,Kn.y,{angle:V.angle,align:oe,renderingMode:V.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else Ct.y<zt&&(this.ctx.prevPageLastElemOffset+=zt-Ct.y);V.scale>=.01&&(this.pdf.setFontSize(ot),this.lineWidth=gt)}else V.scale>=.01&&(ot=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ot*V.scale),gt=this.lineWidth,this.lineWidth=gt*V.scale),this.pdf.text(V.text,Me.x+this.posX,Me.y+this.posY,{angle:V.angle,align:oe,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(ot),this.lineWidth=gt)},ge=function(V,oe,se,ve){se=se||0,ve=ve||0,this.pdf.internal.out(n(V+se)+" "+i(oe+ve)+" l")},me=function(V,oe,se){return this.pdf.lines(V,oe,se,null,null)},ce=function(V,oe,se,ve,ue,Me,Fe,Ve){this.pdf.internal.out([t(s(se+V)),t(a(ve+oe)),t(s(ue+V)),t(a(Me+oe)),t(s(Fe+V)),t(a(Ve+oe)),"c"].join(" "))},Be=function(V,oe,se,ve){for(var ue=2*Math.PI,Me=Math.PI/2;oe>se;)oe-=ue;var Fe=Math.abs(se-oe);Fe<ue&&ve&&(Fe=ue-Fe);for(var Ve=[],Je=ve?-1:1,ot=oe;Fe>1e-5;){var gt=ot+Je*Math.min(Fe,Me);Ve.push(Le.call(this,V,ot,gt)),Fe-=Math.abs(gt-ot),ot=gt}return Ve},Le=function(V,oe,se){var ve=(se-oe)/2,ue=V*Math.cos(ve),Me=V*Math.sin(ve),Fe=ue,Ve=-Me,Je=Fe*Fe+Ve*Ve,ot=Je+Fe*ue+Ve*Me,gt=4/3*(Math.sqrt(2*Je*ot)-ot)/(Fe*Me-Ve*ue),ut=Fe-gt*Ve,Ye=Ve+gt*Fe,pe=ut,fn=-Ye,Ot=ve+oe,pt=Math.cos(Ot),Ke=Math.sin(Ot);return{x1:V*Math.cos(oe),y1:V*Math.sin(oe),x2:ut*pt-Ye*Ke,y2:ut*Ke+Ye*pt,x3:pe*pt-fn*Ke,y3:pe*Ke+fn*pt,x4:V*Math.cos(se),y4:V*Math.sin(se)}},he=function(V){return 180*V/Math.PI},Pe=function(V,oe,se,ve,ue,Me){var Fe=V+.5*(se-V),Ve=oe+.5*(ve-oe),Je=ue+.5*(se-ue),ot=Me+.5*(ve-Me),gt=Math.min(V,ue,Fe,Je),ut=Math.max(V,ue,Fe,Je),Ye=Math.min(oe,Me,Ve,ot),pe=Math.max(oe,Me,Ve,ot);return new g(gt,Ye,ut-gt,pe-Ye)},Ie=function(V,oe,se,ve,ue,Me,Fe,Ve){var Je,ot,gt,ut,Ye,pe,fn,Ot,pt,Ke,kt,Ze,nn,zt,vn=se-V,sn=ve-oe,Ut=ue-se,Rn=Me-ve,Xt=Fe-ue,Ct=Ve-Me;for(ot=0;ot<41;ot++)pt=(fn=(gt=V+(Je=ot/40)*vn)+Je*((Ye=se+Je*Ut)-gt))+Je*(Ye+Je*(ue+Je*Xt-Ye)-fn),Ke=(Ot=(ut=oe+Je*sn)+Je*((pe=ve+Je*Rn)-ut))+Je*(pe+Je*(Me+Je*Ct-pe)-Ot),ot==0?(kt=pt,Ze=Ke,nn=pt,zt=Ke):(kt=Math.min(kt,pt),Ze=Math.min(Ze,Ke),nn=Math.max(nn,pt),zt=Math.max(zt,Ke));return new g(Math.round(kt),Math.round(Ze),Math.round(nn-kt),Math.round(zt-Ze))},He=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,oe,se=(V=this.ctx.lineDash,oe=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:oe}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(qt.API),function(e){var t=function(d){var g,v,m,_,C,P,S,j,D,q;for(v=[],m=0,_=(d+=g="\0\0\0\0".slice(d.length%4||4)).length;_>m;m+=4)(C=(d.charCodeAt(m)<<24)+(d.charCodeAt(m+1)<<16)+(d.charCodeAt(m+2)<<8)+d.charCodeAt(m+3))!==0?(P=(C=((C=((C=((C=(C-(q=C%85))/85)-(D=C%85))/85)-(j=C%85))/85)-(S=C%85))/85)%85,v.push(P+33,S+33,j+33,D+33,q+33)):v.push(122);return function(M,B){for(var F=B;F>0;F--)M.pop()}(v,g.length),String.fromCharCode.apply(String,v)+"~>"},n=function(d){var g,v,m,_,C,P=String,S="length",j=255,D="charCodeAt",q="slice",M="replace";for(d[q](-2),d=d[q](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),m=[],_=0,C=(d+=g="uuuuu"[q](d[S]%5||5))[S];C>_;_+=5)v=52200625*(d[D](_)-33)+614125*(d[D](_+1)-33)+7225*(d[D](_+2)-33)+85*(d[D](_+3)-33)+(d[D](_+4)-33),m.push(j&v>>24,j&v>>16,j&v>>8,j&v);return function(B,F){for(var Z=F;Z>0;Z--)B.pop()}(m,g[S]),P.fromCharCode.apply(P,m)},i=function(d){return d.split("").map(function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(d){var g=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((d=d.replace(/\s/g,"")).indexOf(">")!==-1&&(d=d.substr(0,d.indexOf(">"))),d.length%2&&(d+="0"),g.test(d)===!1)return"";for(var v="",m=0;m<d.length;m+=2)v+=String.fromCharCode("0x"+(d[m]+d[m+1]));return v},a=function(d){for(var g=new Uint8Array(d.length),v=d.length;v--;)g[v]=d.charCodeAt(v);return(g=S0(g)).reduce(function(m,_){return m+String.fromCharCode(_)},"")};e.processDataByFilters=function(d,g){var v=0,m=d||"",_=[];for(typeof(g=g||[])=="string"&&(g=[g]),v=0;v<g.length;v+=1)switch(g[v]){case"ASCII85Decode":case"/ASCII85Decode":m=n(m),_.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=t(m),_.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=s(m),_.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=i(m),_.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=a(m),_.push("/FlateDecode");break;default:throw new Error('The filter: "'+g[v]+'" is not implemented')}return{data:m,reverseChain:_.reverse().join(" ")}}}(qt.API),function(e){e.loadFile=function(t,n,i){return function(s,a,d){a=a!==!1,d=typeof d=="function"?d:function(){};var g=void 0;try{g=function(v,m,_){var C=new XMLHttpRequest,P=0,S=function(j){var D=j.length,q=[],M=String.fromCharCode;for(P=0;P<D;P+=1)q.push(M(255&j.charCodeAt(P)));return q.join("")};if(C.open("GET",v,!m),C.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(C.onload=function(){C.status===200?_(S(this.responseText)):_(void 0)}),C.send(null),m&&C.status===200)return S(C.responseText)}(s,a,d)}catch{}return g}(t,n,i)},e.loadImageFile=e.loadFile}(qt.API),function(e){function t(){return(cn.html2canvas?Promise.resolve(cn.html2canvas):Kd(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load html2canvas: "+g))}).then(function(g){return g.default?g.default:g})}function n(){return(cn.DOMPurify?Promise.resolve(cn.DOMPurify):Kd(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load dompurify: "+g))}).then(function(g){return g.default?g.default:g})}var i=function(g){var v=ir(g);return v==="undefined"?"undefined":v==="string"||g instanceof String?"string":v==="number"||g instanceof Number?"number":v==="function"||g instanceof Function?"function":g&&g.constructor===Array?"array":g&&g.nodeType===1?"element":v==="object"?"object":"unknown"},s=function(g,v){var m=document.createElement(g);for(var _ in v.className&&(m.className=v.className),v.innerHTML&&v.dompurify&&(m.innerHTML=v.dompurify.sanitize(v.innerHTML)),v.style)m.style[_]=v.style[_];return m},a=function g(v,m){for(var _=v.nodeType===3?document.createTextNode(v.nodeValue):v.cloneNode(!1),C=v.firstChild;C;C=C.nextSibling)m!==!0&&C.nodeType===1&&C.nodeName==="SCRIPT"||_.appendChild(g(C,m));return v.nodeType===1&&(v.nodeName==="CANVAS"?(_.width=v.width,_.height=v.height,_.getContext("2d").drawImage(v,0,0)):v.nodeName!=="TEXTAREA"&&v.nodeName!=="SELECT"||(_.value=v.value),_.addEventListener("load",function(){_.scrollTop=v.scrollTop,_.scrollLeft=v.scrollLeft},!0)),_},d=function g(v){var m=Object.assign(g.convert(Promise.resolve()),JSON.parse(JSON.stringify(g.template))),_=g.convert(Promise.resolve(),m);return(_=_.setProgress(1,g,1,[g])).set(v)};(d.prototype=Object.create(Promise.prototype)).constructor=d,d.convert=function(g,v){return g.__proto__=v||d.prototype,g},d.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},d.prototype.from=function(g,v){return this.then(function(){switch(v=v||function(m){switch(i(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(g),v){case"string":return this.then(n).then(function(m){return this.set({src:s("div",{innerHTML:g,dompurify:m})})});case"element":return this.set({src:g});case"canvas":return this.set({canvas:g});case"img":return this.set({img:g});default:return this.error("Unknown source type.")}})},d.prototype.to=function(g){switch(g){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},d.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var g={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},v=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);v.tagName==="BODY"&&(g.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:g}),this.prop.container.appendChild(v),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},d.prototype.toCanvas=function(){var g=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(g).then(t).then(function(v){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,v(this.prop.container,m)}).then(function(v){(this.opt.html2canvas.onrendered||function(){})(v),this.prop.canvas=v,document.body.removeChild(this.prop.overlay)})},d.prototype.toContext2d=function(){var g=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(g).then(t).then(function(v){var m=this.opt.jsPDF,_=this.opt.fontFaces,C=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,P=Object.assign({async:!0,allowTaint:!0,scale:C,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete P.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=_,_)for(var S=0;S<_.length;++S){var j=_[S],D=j.src.find(function(q){return q.format==="truetype"});D&&m.addFont(D.url,j.ref.name,j.ref.style)}return P.windowHeight=P.windowHeight||0,P.windowHeight=P.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):P.windowHeight,m.context2d.save(!0),v(this.prop.container,P)}).then(function(v){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(v),this.prop.canvas=v,document.body.removeChild(this.prop.overlay)})},d.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var g=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=g})},d.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},d.prototype.output=function(g,v,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(g,v):this.outputPdf(g,v)},d.prototype.outputPdf=function(g,v){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(g,v)})},d.prototype.outputImg=function(g){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(g){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+g+'" is not supported.'}})},d.prototype.save=function(g){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(g?{filename:g}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},d.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},d.prototype.set=function(g){if(i(g)!=="object")return this;var v=Object.keys(g||{}).map(function(m){if(m in d.template.prop)return function(){this.prop[m]=g[m]};switch(m){case"margin":return this.setMargin.bind(this,g.margin);case"jsPDF":return function(){return this.opt.jsPDF=g.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,g.pageSize);default:return function(){this.opt[m]=g[m]}}},this);return this.then(function(){return this.thenList(v)})},d.prototype.get=function(g,v){return this.then(function(){var m=g in d.template.prop?this.prop[g]:this.opt[g];return v?v(m):m})},d.prototype.setMargin=function(g){return this.then(function(){switch(i(g)){case"number":g=[g,g,g,g];case"array":if(g.length===2&&(g=[g[0],g[1],g[0],g[1]]),g.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=g}).then(this.setPageSize)},d.prototype.setPageSize=function(g){function v(m,_){return Math.floor(m*_/72*96)}return this.then(function(){(g=g||qt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(g.inner={width:g.width-this.opt.margin[1]-this.opt.margin[3],height:g.height-this.opt.margin[0]-this.opt.margin[2]},g.inner.px={width:v(g.inner.width,g.k),height:v(g.inner.height,g.k)},g.inner.ratio=g.inner.height/g.inner.width),this.prop.pageSize=g})},d.prototype.setProgress=function(g,v,m,_){return g!=null&&(this.progress.val=g),v!=null&&(this.progress.state=v),m!=null&&(this.progress.n=m),_!=null&&(this.progress.stack=_),this.progress.ratio=this.progress.val/this.progress.state,this},d.prototype.updateProgress=function(g,v,m,_){return this.setProgress(g?this.progress.val+g:null,v||null,m?this.progress.n+m:null,_?this.progress.stack.concat(_):null)},d.prototype.then=function(g,v){var m=this;return this.thenCore(g,v,function(_,C){return m.updateProgress(null,null,1,[_]),Promise.prototype.then.call(this,function(P){return m.updateProgress(null,_),P}).then(_,C).then(function(P){return m.updateProgress(1),P})})},d.prototype.thenCore=function(g,v,m){m=m||Promise.prototype.then;var _=this;g&&(g=g.bind(_)),v&&(v=v.bind(_));var C=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?_:d.convert(Object.assign({},_),Promise.prototype),P=m.call(C,g,v);return d.convert(P,_.__proto__)},d.prototype.thenExternal=function(g,v){return Promise.prototype.then.call(this,g,v)},d.prototype.thenList=function(g){var v=this;return g.forEach(function(m){v=v.thenCore(m)}),v},d.prototype.catch=function(g){g&&(g=g.bind(this));var v=Promise.prototype.catch.call(this,g);return d.convert(v,this)},d.prototype.catchExternal=function(g){return Promise.prototype.catch.call(this,g)},d.prototype.error=function(g){return this.then(function(){throw new Error(g)})},d.prototype.using=d.prototype.set,d.prototype.saveAs=d.prototype.save,d.prototype.export=d.prototype.output,d.prototype.run=d.prototype.then,qt.getPageSize=function(g,v,m){if(ir(g)==="object"){var _=g;g=_.orientation,v=_.unit||v,m=_.format||m}v=v||"mm",m=m||"a4",g=(""+(g||"P")).toLowerCase();var C,P=(""+m).toLowerCase(),S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(v){case"pt":C=1;break;case"mm":C=72/25.4;break;case"cm":C=72/2.54;break;case"in":C=72;break;case"px":C=.75;break;case"pc":case"em":C=12;break;case"ex":C=6;break;default:throw"Invalid unit: "+v}var j,D=0,q=0;if(S.hasOwnProperty(P))D=S[P][1]/C,q=S[P][0]/C;else try{D=m[1],q=m[0]}catch{throw new Error("Invalid format: "+m)}if(g==="p"||g==="portrait")g="p",q>D&&(j=q,q=D,D=j);else{if(g!=="l"&&g!=="landscape")throw"Invalid orientation: "+g;g="l",D>q&&(j=q,q=D,D=j)}return{width:q,height:D,unit:v,k:C,orientation:g}},e.html=function(g,v){(v=v||{}).callback=v.callback||function(){},v.html2canvas=v.html2canvas||{},v.html2canvas.canvas=v.html2canvas.canvas||this.canvas,v.jsPDF=v.jsPDF||this,v.fontFaces=v.fontFaces?v.fontFaces.map(p1):null;var m=new d(v);return v.worker?m:m.from(g).doCallback()}}(qt.API),qt.API.addJS=function(e){return Um=e,this.internal.events.subscribe("postPutResources",function(){zh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(zh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Um+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){zh!==void 0&&zm!==void 0&&this.internal.out("/Names <</JavaScript "+zh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),a=0;a<s.length;a++){var d=s[a],g=i.exec(d);if(g!=null){var v=g[1];n.internal.newObjectDeferredBegin(v,!1)}n.internal.write(d)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,_=[];for(a=0;a<m;a++){var C=n.internal.newObject();_.push(C);var P=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+P.objId+" 0 R /XYZ null null null]>> endobj")}var S=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<_.length;a++)n.internal.write("(page_"+(a+1)+")"+_[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+S+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,s,a){var d={title:s,options:a,children:[]};return i==null&&(i=this.root),i.children.push(d),d},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var d=i.children[a];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var g=this.count=this.count_r({count:0},d);if(g>0&&this.line("/Count "+g),d.options&&d.options.pageNumber){var v=n.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+v.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var m=0;m<i.children.length;m++)this.renderItems(i.children[m])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,s){for(var a=0;a<s.children.length;a++)i.count++,this.count_r(i,s.children[a]);return i.count}}])}(qt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,i,s,a,d,g){var v,m=this.decode.DCT_DECODE,_=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=d||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,v=function(C){for(var P,S=256*C.charCodeAt(4)+C.charCodeAt(5),j=C.length,D={width:0,height:0,numcomponents:1},q=4;q<j;q+=2){if(q+=S,t.indexOf(C.charCodeAt(q+1))!==-1){P=256*C.charCodeAt(q+5)+C.charCodeAt(q+6),D={width:256*C.charCodeAt(q+7)+C.charCodeAt(q+8),height:P,numcomponents:C.charCodeAt(q+9)};break}S=256*C.charCodeAt(q+2)+C.charCodeAt(q+3)}return D}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),v.numcomponents){case 1:g=this.color_spaces.DEVICE_GRAY;break;case 4:g=this.color_spaces.DEVICE_CMYK;break;case 3:g=this.color_spaces.DEVICE_RGB}_={data:n,width:v.width,height:v.height,colorSpace:g,bitsPerComponent:8,filter:m,index:i,alias:s}}return _}}(qt.API),qt.API.processPNG=function(e,t,n,i){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,a=bb(e,{checkCrc:!0}),d=a.width,g=a.height,v=a.channels,m=a.palette,_=a.depth;s=m&&v===1?function(de){for(var J=de.width,be=de.height,K=de.data,$=de.palette,ge=de.depth,me=!1,ce=[],Be=[],Le=void 0,he=!1,Pe=0,Ie=0;Ie<$.length;Ie++){var He=qg($[Ie],4),V=He[0],oe=He[1],se=He[2],ve=He[3];ce.push(V,oe,se),ve!=null&&(ve===0?(Pe++,Be.length<1&&Be.push(Ie)):ve<255&&(he=!0))}if(he||Pe>1){me=!0,Be=void 0;var ue=J*be;Le=new Uint8Array(ue);for(var Me=new DataView(K.buffer),Fe=0;Fe<ue;Fe++){var Ve=m1(Me,Fe,ge),Je=qg($[Ve],4)[3];Le[Fe]=Je}}else Pe===0&&(Be=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:me?8:void 0,colorBytes:K,alphaBytes:Le,needSMask:me,palette:ce,mask:Be}}(a):v===2||v===4?function(de){for(var J=de.data,be=de.width,K=de.height,$=de.channels,ge=de.depth,me=$===2?"DeviceGray":"DeviceRGB",ce=$-1,Be=be*K,Le=ce,he=Be*Le,Pe=1*Be,Ie=Math.ceil(he*ge/8),He=Math.ceil(Pe*ge/8),V=new Uint8Array(Ie),oe=new Uint8Array(He),se=new DataView(J.buffer),ve=new DataView(V.buffer),ue=new DataView(oe.buffer),Me=!1,Fe=0;Fe<Be;Fe++){for(var Ve=Fe*$,Je=0;Je<Le;Je++)Km(ve,m1(se,Ve+Je,ge),Fe*Le+Je,ge);var ot=m1(se,Ve+Le,ge);ot<(1<<ge)-1&&(Me=!0),Km(ue,ot,1*Fe,ge)}return{colorSpace:me,colorsPerPixel:ce,sMaskBitsPerComponent:Me?ge:void 0,colorBytes:V,alphaBytes:oe,needSMask:Me}}(a):function(de){var J=de.data,be=de.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:be,colorsPerPixel:be==="DeviceGray"?1:3,colorBytes:J instanceof Uint16Array?function(K){for(var $=K.length,ge=new Uint8Array(2*$),me=new DataView(ge.buffer,ge.byteOffset,ge.byteLength),ce=0;ce<$;ce++)me.setUint16(2*ce,K[ce],!1);return ge}(J):J,needSMask:!1}}(a);var C,P,S,j=s,D=j.colorSpace,q=j.colorsPerPixel,M=j.sMaskBitsPerComponent,B=j.colorBytes,F=j.alphaBytes,Z=j.needSMask,ye=j.palette,Se=j.mask,fe=null;return i!==qt.API.image_compression.NONE&&typeof S0=="function"?(fe=function(de){var J;switch(de){case qt.API.image_compression.FAST:J=11;break;case qt.API.image_compression.MEDIUM:J=13;break;case qt.API.image_compression.SLOW:J=14;break;default:J=12}return J}(i),C=this.decode.FLATE_DECODE,P="/Predictor ".concat(fe," /Colors ").concat(q," /BitsPerComponent ").concat(_," /Columns ").concat(d),e=qm(B,Math.ceil(d*q*_/8),q,_,i),Z&&(S=qm(F,Math.ceil(d*M/8),1,M,i))):(C=void 0,P=void 0,e=B,Z&&(S=F)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:n,data:e,index:t,filter:C,decodeParameters:P,transparency:Se,palette:ye,sMask:S,predictor:fe,width:d,height:g,bitsPerComponent:_,sMaskBitsPerComponent:M,colorSpace:D}}},function(e){e.processGIF89A=function(t,n,i,s){var a=new Vb(t),d=a.width,g=a.height,v=[];a.decodeAndBlitFrameRGBA(0,v);var m={data:v,width:d,height:g},_=new v1(100).encode(m,100);return e.processJPEG.call(this,_,n,i,s)},e.processGIF87A=e.processGIF89A}(qt.API),Fs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:i,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fs.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){fr.log("bit decode error:"+n)}},Fs.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),d=i*this.width*4+8*s*4,g=0;g<8&&8*s+g<this.width;g++){var v=this.palette[a>>7-g&1];this.data[d+4*g]=v.blue,this.data[d+4*g+1]=v.green,this.data[d+4*g+2]=v.red,this.data[d+4*g+3]=255}n!==0&&(this.pos+=4-n)}},Fs.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),d=i*this.width*4+2*s*4,g=a>>4,v=15&a,m=this.palette[g];if(this.data[d]=m.blue,this.data[d+1]=m.green,this.data[d+2]=m.red,this.data[d+3]=255,2*s+1>=this.width)break;m=this.palette[v],this.data[d+4]=m.blue,this.data[d+4+1]=m.green,this.data[d+4+2]=m.red,this.data[d+4+3]=255}t!==0&&(this.pos+=4-t)}},Fs.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*i;if(s<this.palette.length){var d=this.palette[s];this.data[a]=d.red,this.data[a+1]=d.green,this.data[a+2]=d.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Fs.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(a&t)/t*255|0,g=(a>>5&t)/t*255|0,v=(a>>10&t)/t*255|0,m=a>>15?255:0,_=i*this.width*4+4*s;this.data[_]=v,this.data[_+1]=g,this.data[_+2]=d,this.data[_+3]=m}this.pos+=e}},Fs.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var g=(d&t)/t*255|0,v=(d>>5&n)/n*255|0,m=(d>>11)/t*255|0,_=s*this.width*4+4*a;this.data[_]=m,this.data[_+1]=v,this.data[_+2]=g,this.data[_+3]=255}this.pos+=e}},Fs.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*n;this.data[d]=a,this.data[d+1]=s,this.data[d+2]=i,this.data[d+3]=255}this.pos+=this.width%4}},Fs.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),g=t*this.width*4+4*n;this.data[g]=a,this.data[g+1]=s,this.data[g+2]=i,this.data[g+3]=d}},Fs.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,i,s){var a=new Fs(t,!1),d=a.width,g=a.height,v={data:a.getData(),width:d,height:g},m=new v1(100).encode(v,100);return e.processJPEG.call(this,m,n,i,s)}}(qt.API),Jm.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,i,s){var a=new Jm(t),d=a.width,g=a.height,v={data:a.getData(),width:d,height:g},m=new v1(100).encode(v,100);return e.processJPEG.call(this,m,n,i,s)}}(qt.API),qt.API.processRGBA=function(e,t,n){for(var i=e.data,s=i.length,a=new Uint8Array(s/4*3),d=new Uint8Array(s/4),g=0,v=0,m=0;m<s;m+=4){var _=i[m],C=i[m+1],P=i[m+2],S=i[m+3];a[g++]=_,a[g++]=C,a[g++]=P,d[v++]=S}var j=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:j,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},qt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},eu=qt.API,Uh=eu.getCharWidthsArray=function(e,t){var n,i,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),d=t.charSpace||this.internal.getCharSpace(),g=t.widths?t.widths:s.metadata.Unicode.widths,v=g.fof?g.fof:1,m=t.kerning?t.kerning:s.metadata.Unicode.kerning,_=m.fof?m.fof:1,C=t.doKerning!==!1,P=0,S=e.length,j=0,D=g[0]||v,q=[];for(n=0;n<S;n++)i=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?q.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+d*(1e3/a)||0)/1e3):(P=C&&ir(m[i])==="object"&&!isNaN(parseInt(m[i][j],10))?m[i][j]/_:0,q.push((g[i]||D)/v+P)),j=i;return q},Hm=eu.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return eu.processArabic&&(e=eu.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,n,s)/n:Uh.apply(this,arguments).reduce(function(a,d){return a+d},0)},Wm=function(e,t,n,i){for(var s=[],a=0,d=e.length,g=0;a!==d&&g+t[a]<n;)g+=t[a],a++;s.push(e.slice(0,a));var v=a;for(g=0;a!==d;)g+t[a]>i&&(s.push(e.slice(v,a)),g=0,v=a),g+=t[a],a++;return v!==a&&s.push(e.slice(v,a)),s},Vm=function(e,t,n){n||(n={});var i,s,a,d,g,v,m,_=[],C=[_],P=n.textIndent||0,S=0,j=0,D=e.split(" "),q=Uh.apply(this,[" ",n])[0];if(v=n.lineIndent===-1?D[0].length+2:n.lineIndent||0){var M=Array(v).join(" "),B=[];D.map(function(Z){(Z=Z.split(/\s*\n/)).length>1?B=B.concat(Z.map(function(ye,Se){return(Se&&ye.length?`
`:"")+ye})):B.push(Z[0])}),D=B,v=Hm.apply(this,[M,n])}for(a=0,d=D.length;a<d;a++){var F=0;if(i=D[a],v&&i[0]==`
`&&(i=i.substr(1),F=1),P+S+(j=(s=Uh.apply(this,[i,n])).reduce(function(Z,ye){return Z+ye},0))>t||F){if(j>t){for(g=Wm.apply(this,[i,s,t-(P+S),t]),_.push(g.shift()),_=[g.pop()];g.length;)C.push([g.shift()]);j=s.slice(i.length-(_[0]?_[0].length:0)).reduce(function(Z,ye){return Z+ye},0)}else _=[i];C.push(_),P=j+v,S=q}else _.push(i),P+=S+j,S=q}return m=v?function(Z,ye){return(ye?M:"")+Z.join(" ")}:function(Z){return Z.join(" ")},C.map(m)},eu.splitTextToSize=function(e,t,n){var i,s=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(_){if(_.widths&&_.kerning)return{widths:_.widths,kerning:_.kerning};var C=this.internal.getFont(_.fontName,_.fontStyle),P="Unicode";return C.metadata[P]?{widths:C.metadata[P].widths||{0:1},kerning:C.metadata[P].kerning||{}}:{font:C.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var d=1*this.internal.scaleFactor*t/s;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=n.lineIndent;var g,v,m=[];for(g=0,v=i.length;g<v;g++)m=m.concat(Vm.apply(this,[i[g],d,a]));return m},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",i={},s={},a=0;a<16;a++)i[n[a]]=t[a],s[t[a]]=n[a];var d=function(P){return"0x"+parseInt(P,10).toString(16)},g=e.__fontmetrics__.compress=function(P){var S,j,D,q,M=["{"];for(var B in P){if(S=P[B],isNaN(parseInt(B,10))?j="'"+B+"'":(B=parseInt(B,10),j=(j=d(B).slice(2)).slice(0,-1)+s[j.slice(-1)]),typeof S=="number")S<0?(D=d(S).slice(3),q="-"):(D=d(S).slice(2),q=""),D=q+D.slice(0,-1)+s[D.slice(-1)];else{if(ir(S)!=="object")throw new Error("Don't know what to do with value type "+ir(S)+".");D=g(S)}M.push(j+D)}return M.push("}"),M.join("")},v=e.__fontmetrics__.uncompress=function(P){if(typeof P!="string")throw new Error("Invalid argument passed to uncompress.");for(var S,j,D,q,M={},B=1,F=M,Z=[],ye="",Se="",fe=P.length-1,de=1;de<fe;de+=1)(q=P[de])=="'"?S?(D=S.join(""),S=void 0):S=[]:S?S.push(q):q=="{"?(Z.push([F,D]),F={},D=void 0):q=="}"?((j=Z.pop())[0][j[1]]=F,D=void 0,F=j[0]):q=="-"?B=-1:D===void 0?i.hasOwnProperty(q)?(ye+=i[q],D=parseInt(ye,16)*B,B=1,ye=""):ye+=q:i.hasOwnProperty(q)?(Se+=i[q],F[D]=parseInt(Se,16)*B,B=1,D=void 0,Se=""):Se+=q;return M},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:v("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},_={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},C={Unicode:{"Courier-Oblique":v("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":v("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":v("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:v("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":v("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":v("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:v("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:v("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":v("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:v("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":v("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":v("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":v("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":v("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(P){var S=P.font,j=C.Unicode[S.postScriptName];j&&(S.metadata.Unicode={},S.metadata.Unicode.widths=j.widths,S.metadata.Unicode.kerning=j.kerning);var D=_.Unicode[S.postScriptName];D&&(S.metadata.Unicode.encoding=D,S.encoding=D.codePages[0])}])}(qt.API),function(e){var t=function(n){for(var i=n.length,s=new Uint8Array(i),a=0;a<i;a++)s[a]=n.charCodeAt(a);return s};e.API.events.push(["addFont",function(n){var i=void 0,s=n.font,a=n.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(d,g){g=/^\x00\x01\x00\x00/.test(g)?t(g):t(nf(g)),d.metadata=e.API.TTFFont.open(g),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(s,i)}}])}(qt),qt.API.addSvgAsImage=function(e,t,n,i,s,a,d,g){if(isNaN(t)||isNaN(n))throw fr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw fr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var v=document.createElement("canvas");v.width=i,v.height=s;var m=v.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,v.width,v.height);var _={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},C=this;return(cn.canvg?Promise.resolve(cn.canvg):Kd(()=>import("./index.es-B78CsXik.js"),[])).catch(function(P){return Promise.reject(new Error("Could not load canvg: "+P))}).then(function(P){return P.default?P.default:P}).then(function(P){return P.fromString(m,e,_)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(P){return P.render(_)}).then(function(){C.addImage(v.toDataURL("image/jpeg",1),t,n,i,s,d,g)})},qt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(t,n);return this},qt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,s,a,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},g=Object.keys(d),v=[],m=0,_=0,C=0;function P(j,D){var q,M=!1;for(q=0;q<j.length;q+=1)j[q]===D&&(M=!0);return M}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var S=g.length;for(C=0;C<S;C+=1)n[g[C]].value=n[g[C]].defaultValue,n[g[C]].explicitSet=!1}if(ir(e)==="object"){for(s in e)if(a=e[s],P(g,s)&&a!==void 0){if(n[s].type==="boolean"&&typeof a=="boolean")n[s].value=a;else if(n[s].type==="name"&&P(n[s].valueSet,a))n[s].value=a;else if(n[s].type==="integer"&&Number.isInteger(a))n[s].value=a;else if(n[s].type==="array"){for(m=0;m<a.length;m+=1)if(i=!0,a[m].length===1&&typeof a[m][0]=="number")v.push(String(a[m]-1));else if(a[m].length>1){for(_=0;_<a[m].length;_+=1)typeof a[m][_]!="number"&&(i=!1);i===!0&&v.push([a[m][0]-1,a[m][1]-1].join(" "))}n[s].value="["+v.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,D=[];for(j in n)n[j].explicitSet===!0&&(n[j].type==="name"?D.push("/"+j+" /"+n[j].value):D.push("/"+j+" "+n[j].value));D.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+D.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),g=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),v=unescape(encodeURIComponent("</x:xmpmeta>")),m=a.length+d.length+g.length+s.length+v.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(s+a+d+g+v),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(qt.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,d){for(var g,v=d.metadata.Unicode.widths,m=["","0","00","000","0000"],_=[""],C=0,P=a.length;C<P;++C){if(g=d.metadata.characterToGlyph(a.charCodeAt(C)),d.metadata.glyIdsUsed.push(g),d.metadata.toUnicode[g]=a.charCodeAt(C),v.indexOf(g)==-1&&(v.push(g),v.push([parseInt(d.metadata.widthOfGlyph(g),10)])),g=="0")return _.join("");g=g.toString(16),_.push(m[4-g.length],g)}return _.join("")},i=function(a){var d,g,v,m,_,C,P;for(_=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,v=[],C=0,P=(g=Object.keys(a).sort(function(S,j){return S-j})).length;C<P;C++)d=g[C],v.length>=100&&(_+=`
`+v.length+` beginbfchar
`+v.join(`
`)+`
endbfchar`,v=[]),a[d]!==void 0&&a[d]!==null&&typeof a[d].toString=="function"&&(m=("0000"+a[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),v.push("<"+d+"><"+m+">"));return v.length&&(_+=`
`+v.length+` beginbfchar
`+v.join(`
`)+`
endbfchar
`),_+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(d){var g=d.font,v=d.out,m=d.newObject,_=d.putStream;if(g.metadata instanceof e.API.TTFFont&&g.encoding==="Identity-H"){for(var C=g.metadata.Unicode.widths,P=g.metadata.subset.encode(g.metadata.glyIdsUsed,1),S="",j=0;j<P.length;j++)S+=String.fromCharCode(P[j]);var D=m();_({data:S,addLength1:!0,objectId:D}),v("endobj");var q=m();_({data:i(g.metadata.toUnicode),addLength1:!0,objectId:q}),v("endobj");var M=m();v("<<"),v("/Type /FontDescriptor"),v("/FontName /"+ru(g.fontName)),v("/FontFile2 "+D+" 0 R"),v("/FontBBox "+e.API.PDFObject.convert(g.metadata.bbox)),v("/Flags "+g.metadata.flags),v("/StemV "+g.metadata.stemV),v("/ItalicAngle "+g.metadata.italicAngle),v("/Ascent "+g.metadata.ascender),v("/Descent "+g.metadata.decender),v("/CapHeight "+g.metadata.capHeight),v(">>"),v("endobj");var B=m();v("<<"),v("/Type /Font"),v("/BaseFont /"+ru(g.fontName)),v("/FontDescriptor "+M+" 0 R"),v("/W "+e.API.PDFObject.convert(C)),v("/CIDToGIDMap /Identity"),v("/DW 1000"),v("/Subtype /CIDFontType2"),v("/CIDSystemInfo"),v("<<"),v("/Supplement 0"),v("/Registry (Adobe)"),v("/Ordering ("+g.encoding+")"),v(">>"),v(">>"),v("endobj"),g.objectNumber=m(),v("<<"),v("/Type /Font"),v("/Subtype /Type0"),v("/ToUnicode "+q+" 0 R"),v("/BaseFont /"+ru(g.fontName)),v("/Encoding /"+g.encoding),v("/DescendantFonts ["+B+" 0 R]"),v(">>"),v("endobj"),g.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(d){var g=d.font,v=d.out,m=d.newObject,_=d.putStream;if(g.metadata instanceof e.API.TTFFont&&g.encoding==="WinAnsiEncoding"){for(var C=g.metadata.rawData,P="",S=0;S<C.length;S++)P+=String.fromCharCode(C[S]);var j=m();_({data:P,addLength1:!0,objectId:j}),v("endobj");var D=m();_({data:i(g.metadata.toUnicode),addLength1:!0,objectId:D}),v("endobj");var q=m();v("<<"),v("/Descent "+g.metadata.decender),v("/CapHeight "+g.metadata.capHeight),v("/StemV "+g.metadata.stemV),v("/Type /FontDescriptor"),v("/FontFile2 "+j+" 0 R"),v("/Flags 96"),v("/FontBBox "+e.API.PDFObject.convert(g.metadata.bbox)),v("/FontName /"+ru(g.fontName)),v("/ItalicAngle "+g.metadata.italicAngle),v("/Ascent "+g.metadata.ascender),v(">>"),v("endobj"),g.objectNumber=m();for(var M=0;M<g.metadata.hmtx.widths.length;M++)g.metadata.hmtx.widths[M]=parseInt(g.metadata.hmtx.widths[M]*(1e3/g.metadata.head.unitsPerEm));v("<</Subtype/TrueType/Type/Font/ToUnicode "+D+" 0 R/BaseFont/"+ru(g.fontName)+"/FontDescriptor "+q+" 0 R/Encoding/"+g.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(g.metadata.hmtx.widths)+">>"),v("endobj"),g.isAlreadyPutted=!0}})(a)}]);var s=function(a){var d,g=a.text||"",v=a.x,m=a.y,_=a.options||{},C=a.mutex||{},P=C.pdfEscape,S=C.activeFontKey,j=C.fonts,D=S,q="",M=0,B="",F=j[D].encoding;if(j[D].encoding!=="Identity-H")return{text:g,x:v,y:m,options:_,mutex:C};for(B=g,D=S,Array.isArray(g)&&(B=g[0]),M=0;M<B.length;M+=1)j[D].metadata.hasOwnProperty("cmap")&&(d=j[D].metadata.cmap.unicode.codeMap[B[M].charCodeAt(0)]),d||B[M].charCodeAt(0)<256&&j[D].metadata.hasOwnProperty("Unicode")?q+=B[M]:q+="";var Z="";return parseInt(D.slice(1))<14||F==="WinAnsiEncoding"?Z=P(q,D).split("").map(function(ye){return ye.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(Z=n(q,j[D])),C.isHex=!0,{text:Z,x:v,y:m,options:_,mutex:C}};t.events.push(["postProcessText",function(a){var d=a.text||"",g=[],v={text:d,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(d)){var m=0;for(m=0;m<d.length;m+=1)Array.isArray(d[m])&&d[m].length===3?g.push([s(Object.assign({},v,{text:d[m][0]})).text,d[m][1],d[m][2]]):g.push(s(Object.assign({},v,{text:d[m]})).text);a.text=g}else a.text=s(Object.assign({},v,{text:d})).text}])}(qt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,i){return t.call(this),this.internal.vFS[n]=i,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(qt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var s,a,d,g,v,m,_,C=t,P=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],S=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},D={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},q=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],M=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,F=0;this.__bidiEngine__={};var Z=function(K){var $=K.charCodeAt(),ge=$>>8,me=D[ge];return me!==void 0?C[256*me+(255&$)]:ge===252||ge===253?"AL":M.test(ge)?"L":ge===8?"R":"N"},ye=function(K){for(var $,ge=0;ge<K.length;ge++){if(($=Z(K.charAt(ge)))==="L")return!1;if($==="R")return!0}return!1},Se=function(K,$,ge,me){var ce,Be,Le,he,Pe=$[me];switch(Pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(Pe="AN");break;case"AL":B=!0,Pe="R";break;case"WS":case"BN":Pe="N";break;case"CS":me<1||me+1>=$.length||(ce=ge[me-1])!=="EN"&&ce!=="AN"||(Be=$[me+1])!=="EN"&&Be!=="AN"?Pe="N":B&&(Be="AN"),Pe=Be===ce?Be:"N";break;case"ES":Pe=(ce=me>0?ge[me-1]:"B")==="EN"&&me+1<$.length&&$[me+1]==="EN"?"EN":"N";break;case"ET":if(me>0&&ge[me-1]==="EN"){Pe="EN";break}if(B){Pe="N";break}for(Le=me+1,he=$.length;Le<he&&$[Le]==="ET";)Le++;Pe=Le<he&&$[Le]==="EN"?"EN":"N";break;case"NSM":if(d&&!g){for(he=$.length,Le=me+1;Le<he&&$[Le]==="NSM";)Le++;if(Le<he){var Ie=K[me],He=Ie>=1425&&Ie<=2303||Ie===64286;if(ce=$[Le],He&&(ce==="R"||ce==="AL")){Pe="R";break}}}Pe=me<1||(ce=$[me-1])==="B"?"N":ge[me-1];break;case"B":B=!1,s=!0,Pe=F;break;case"S":a=!0,Pe="N"}return Pe},fe=function(K,$,ge){var me=K.split("");return ge&&de(me,ge,{hiLevel:F}),me.reverse(),$&&$.reverse(),me.join("")},de=function(K,$,ge){var me,ce,Be,Le,he,Pe=-1,Ie=K.length,He=0,V=[],oe=F?S:P,se=[];for(B=!1,s=!1,a=!1,ce=0;ce<Ie;ce++)se[ce]=Z(K[ce]);for(Be=0;Be<Ie;Be++){if(he=He,V[Be]=Se(K,se,V,Be),me=240&(He=oe[he][j[V[Be]]]),He&=15,$[Be]=Le=oe[He][5],me>0)if(me===16){for(ce=Pe;ce<Be;ce++)$[ce]=1;Pe=-1}else Pe=-1;if(oe[He][6])Pe===-1&&(Pe=Be);else if(Pe>-1){for(ce=Pe;ce<Be;ce++)$[ce]=Le;Pe=-1}se[Be]==="B"&&($[Be]=0),ge.hiLevel|=Le}a&&function(ve,ue,Me){for(var Fe=0;Fe<Me;Fe++)if(ve[Fe]==="S"){ue[Fe]=F;for(var Ve=Fe-1;Ve>=0&&ve[Ve]==="WS";Ve--)ue[Ve]=F}}(se,$,Ie)},J=function(K,$,ge,me,ce){if(!(ce.hiLevel<K)){if(K===1&&F===1&&!s)return $.reverse(),void(ge&&ge.reverse());for(var Be,Le,he,Pe,Ie=$.length,He=0;He<Ie;){if(me[He]>=K){for(he=He+1;he<Ie&&me[he]>=K;)he++;for(Pe=He,Le=he-1;Pe<Le;Pe++,Le--)Be=$[Pe],$[Pe]=$[Le],$[Le]=Be,ge&&(Be=ge[Pe],ge[Pe]=ge[Le],ge[Le]=Be);He=he}He++}}},be=function(K,$,ge){var me=K.split(""),ce={hiLevel:F};return ge||(ge=[]),de(me,ge,ce),function(Be,Le,he){if(he.hiLevel!==0&&_)for(var Pe,Ie=0;Ie<Be.length;Ie++)Le[Ie]===1&&(Pe=q.indexOf(Be[Ie]))>=0&&(Be[Ie]=q[Pe+1])}(me,ge,ce),J(2,me,$,ge,ce),J(1,me,$,ge,ce),me.join("")};return this.__bidiEngine__.doBidiReorder=function(K,$,ge){if(function(ce,Be){if(Be)for(var Le=0;Le<ce.length;Le++)Be[Le]=Le;g===void 0&&(g=ye(ce)),m===void 0&&(m=ye(ce))}(K,$),d||!v||m)if(d&&v&&g^m)F=g?1:0,K=fe(K,$,ge);else if(!d&&v&&m)F=g?1:0,K=be(K,$,ge),K=fe(K,$);else if(!d||g||v||m){if(d&&!v&&g^m)K=fe(K,$),g?(F=0,K=be(K,$,ge)):(F=1,K=be(K,$,ge),K=fe(K,$));else if(d&&g&&!v&&m)F=1,K=be(K,$,ge),K=fe(K,$);else if(!d&&!v&&g^m){var me=_;g?(F=1,K=be(K,$,ge),F=0,_=!1,K=be(K,$,ge),_=me):(F=0,K=be(K,$,ge),K=fe(K,$),F=1,_=!1,K=be(K,$,ge),_=me,K=fe(K,$))}}else F=0,K=be(K,$,ge);else F=g?1:0,K=be(K,$,ge);return K},this.__bidiEngine__.setOptions=function(K){K&&(d=K.isInputVisual,v=K.isOutputVisual,g=K.isInputRtl,m=K.isOutputRtl,_=K.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var s=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var d=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var g=0;for(d=[],g=0;g<s.length;g+=1)Object.prototype.toString.call(s[g])==="[object Array]"?d.push([n.doBidiReorder(s[g][0]),s[g][1],s[g][2]]):d.push([n.doBidiReorder(s[g])]);i.text=d}else i.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(qt),qt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new hl(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new oC(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new qb(this.contents),this.head=new Zb(this),this.name=new Jb(this),this.cmap=new Fw(this),this.toUnicode={},this.hhea=new Yb(this),this.maxp=new $b(this),this.hmtx=new eC(this),this.post=new Kb(this),this.os2=new Xb(this),this.loca=new iC(this),this.glyf=new tC(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,i,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,g,v,m;for(m=[],d=0,g=(v=this.bbox).length;d<g;d++)t=v[d],m.push(Math.round(t*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,i){var s,a,d,g;for(d=0,a=0,g=(t=""+t).length;0<=g?a<g:a>g;a=0<=g?++a:--a)s=t.charCodeAt(a),d+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/n)||0;return d*(n/1e3)},e.prototype.lineHeight=function(t,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e}();var Ys,hl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,i;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var n,i,s;for(s=[],n=0,i=t.length;0<=i?n<i:n>i;n=0<=i?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,i,s,a,d,g,v;return t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),d=this.readByte(),g=this.readByte(),v=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^a)+65536*(255^d)+256*(255^g)+(255^v)+1):72057594037927940*t+281474976710656*n+1099511627776*i+4294967296*s+16777216*a+65536*d+256*g+v},e.prototype.writeLongLong=function(t){var n,i;return n=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,i;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push(this.readByte());return n},e.prototype.write=function(t){var n,i,s,a;for(a=[],i=0,s=t.length;i<s;i++)n=t[i],a.push(this.writeByte(n));return a},e}(),qb=function(){var e;function t(n){var i,s,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(n){var i,s,a,d,g,v,m,_,C,P,S,j,D;for(D in S=Object.keys(n).length,v=Math.log(2),C=16*Math.floor(Math.log(S)/v),d=Math.floor(C/v),_=16*S-C,(s=new hl).writeInt(this.scalarType),s.writeShort(S),s.writeShort(C),s.writeShort(d),s.writeShort(_),a=16*S,m=s.pos+a,g=null,j=[],n)for(P=n[D],s.writeString(D),s.writeInt(e(P)),s.writeInt(m),s.writeInt(P.length),j=j.concat(P),D==="head"&&(g=m),m+=P.length;m%4;)j.push(0),m++;return s.write(j),i=2981146554-e(s.data),s.pos=g+8,s.writeUInt32(i),s.data},e=function(n){var i,s,a,d;for(n=jw.call(n);n.length%4;)n.push(0);for(a=new hl(n),s=0,i=0,d=n.length;i<d;i=i+=4)s+=a.readUInt32();return 4294967295&s},t}(),Gb={}.hasOwnProperty,ua=function(e,t){for(var n in t)Gb.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};Ys=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Zb=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ys),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new hl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),$m=function(){function e(t,n){var i,s,a,d,g,v,m,_,C,P,S,j,D,q,M,B,F;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),C=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(v=0;v<256;++v)this.codeMap[v]=t.readByte();break;case 4:for(S=t.readUInt16(),P=S/2,t.pos+=6,a=function(){var Z,ye;for(ye=[],v=Z=0;0<=P?Z<P:Z>P;v=0<=P?++Z:--Z)ye.push(t.readUInt16());return ye}(),t.pos+=2,D=function(){var Z,ye;for(ye=[],v=Z=0;0<=P?Z<P:Z>P;v=0<=P?++Z:--Z)ye.push(t.readUInt16());return ye}(),m=function(){var Z,ye;for(ye=[],v=Z=0;0<=P?Z<P:Z>P;v=0<=P?++Z:--Z)ye.push(t.readUInt16());return ye}(),_=function(){var Z,ye;for(ye=[],v=Z=0;0<=P?Z<P:Z>P;v=0<=P?++Z:--Z)ye.push(t.readUInt16());return ye}(),s=(this.length-t.pos+this.offset)/2,g=function(){var Z,ye;for(ye=[],v=Z=0;0<=s?Z<s:Z>s;v=0<=s?++Z:--Z)ye.push(t.readUInt16());return ye}(),v=M=0,F=a.length;M<F;v=++M)for(q=a[v],i=B=j=D[v];j<=q?B<=q:B>=q;i=j<=q?++B:--B)_[v]===0?d=i+m[v]:(d=g[_[v]/2+(i-j)-(P-v)]||0)!==0&&(d+=m[v]),this.codeMap[i]=65535&d}t.pos=C}return e.encode=function(t,n){var i,s,a,d,g,v,m,_,C,P,S,j,D,q,M,B,F,Z,ye,Se,fe,de,J,be,K,$,ge,me,ce,Be,Le,he,Pe,Ie,He,V,oe,se,ve,ue,Me,Fe,Ve,Je,ot,gt;switch(me=new hl,d=Object.keys(t).sort(function(ut,Ye){return ut-Ye}),n){case"macroman":for(D=0,q=function(){var ut=[];for(j=0;j<256;++j)ut.push(0);return ut}(),B={0:0},a={},ce=0,Pe=d.length;ce<Pe;ce++)B[Ve=t[s=d[ce]]]==null&&(B[Ve]=++D),a[s]={old:t[s],new:B[t[s]]},q[s]=B[t[s]];return me.writeUInt16(1),me.writeUInt16(0),me.writeUInt32(12),me.writeUInt16(0),me.writeUInt16(262),me.writeUInt16(0),me.write(q),{charMap:a,subtable:me.data,maxGlyphID:D+1};case"unicode":for($=[],C=[],F=0,B={},i={},M=m=null,Be=0,Ie=d.length;Be<Ie;Be++)B[ye=t[s=d[Be]]]==null&&(B[ye]=++F),i[s]={old:ye,new:B[ye]},g=B[ye]-s,M!=null&&g===m||(M&&C.push(M),$.push(s),m=g),M=s;for(M&&C.push(M),C.push(65535),$.push(65535),be=2*(J=$.length),de=2*Math.pow(Math.log(J)/Math.LN2,2),P=Math.log(de/2)/Math.LN2,fe=2*J-de,v=[],Se=[],S=[],j=Le=0,He=$.length;Le<He;j=++Le){if(K=$[j],_=C[j],K===65535){v.push(0),Se.push(0);break}if(K-(ge=i[K].new)>=32768)for(v.push(0),Se.push(2*(S.length+J-j)),s=he=K;K<=_?he<=_:he>=_;s=K<=_?++he:--he)S.push(i[s].new);else v.push(ge-K),Se.push(0)}for(me.writeUInt16(3),me.writeUInt16(1),me.writeUInt32(12),me.writeUInt16(4),me.writeUInt16(16+8*J+2*S.length),me.writeUInt16(0),me.writeUInt16(be),me.writeUInt16(de),me.writeUInt16(P),me.writeUInt16(fe),Me=0,V=C.length;Me<V;Me++)s=C[Me],me.writeUInt16(s);for(me.writeUInt16(0),Fe=0,oe=$.length;Fe<oe;Fe++)s=$[Fe],me.writeUInt16(s);for(Je=0,se=v.length;Je<se;Je++)g=v[Je],me.writeUInt16(g);for(ot=0,ve=Se.length;ot<ve;ot++)Z=Se[ot],me.writeUInt16(Z);for(gt=0,ue=S.length;gt<ue;gt++)D=S[gt],me.writeUInt16(D);return{charMap:i,subtable:me.data,maxGlyphID:F+1}}},e}(),Fw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ys),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new $m(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var i,s;return n==null&&(n="macroman"),i=$m.encode(t,n),(s=new hl).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Yb=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ys),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Xb=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ys),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(t.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Kb=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ys),e.prototype.tag="post",e.prototype.parse=function(t){var n,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(i=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)n=t.readByte(),s.push(this.names.push(t.readString(n)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=(function(){var d,g,v;for(v=[],a=d=0,g=this.file.maxp.numGlyphs;0<=g?d<g:d>g;a=0<=g?++d:--d)v.push(t.readUInt32());return v}).call(this)}},e}(),Qb=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Jb=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ys),e.prototype.tag="name",e.prototype.parse=function(t){var n,i,s,a,d,g,v,m,_,C,P;for(t.pos=this.offset,t.readShort(),n=t.readShort(),g=t.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+g+t.readShort()});for(v={},a=_=0,C=i.length;_<C;a=++_)s=i[a],t.pos=s.offset,m=t.readString(s.length),d=new Qb(m,s),v[P=s.nameID]==null&&(v[P]=[]),v[s.nameID].push(d);this.strings=v,this.copyright=v[0],this.fontFamily=v[1],this.fontSubfamily=v[2],this.uniqueSubfamily=v[3],this.fontName=v[4],this.version=v[5];try{this.postscriptName=v[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=v[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=v[7],this.manufacturer=v[8],this.designer=v[9],this.description=v[10],this.vendorUrl=v[11],this.designerUrl=v[12],this.license=v[13],this.licenseUrl=v[14],this.preferredFamily=v[15],this.preferredSubfamily=v[17],this.compatibleFull=v[18],this.sampleText=v[19]},e}(),$b=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ys),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),eC=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ys),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,i,s,a,d,g,v;for(t.pos=this.offset,this.metrics=[],n=0,g=this.file.hhea.numberOfMetrics;0<=g?n<g:n>g;n=0<=g?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,_;for(_=[],n=m=0;0<=s?m<s:m>s;n=0<=s?++m:--m)_.push(t.readInt16());return _}(),this.widths=(function(){var m,_,C,P;for(P=[],m=0,_=(C=this.metrics).length;m<_;m++)a=C[m],P.push(a.advance);return P}).call(this),i=this.widths[this.widths.length-1],v=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)v.push(this.widths.push(i));return v},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),jw=[].slice,tC=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ys),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,i,s,a,d,g,v,m,_,C;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(t),(s=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+i,d=(g=new hl(n.read(s))).readShort(),m=g.readShort(),C=g.readShort(),v=g.readShort(),_=g.readShort(),this.cache[t]=d===-1?new rC(g,m,C,v,_):new nC(g,d,m,C,v,_),this.cache[t]))},e.prototype.encode=function(t,n,i){var s,a,d,g,v;for(d=[],a=[],g=0,v=n.length;g<v;g++)s=t[n[g]],a.push(d.length),s&&(d=d.concat(s.encode(i)));return a.push(d.length),{table:d,offsets:a}},e}(),nC=function(){function e(t,n,i,s,a,d){this.raw=t,this.numberOfContours=n,this.xMin=i,this.yMin=s,this.xMax=a,this.yMax=d,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),rC=function(){function e(t,n,i,s,a){var d,g;for(this.raw=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;g=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&g;)d.pos+=1&g?4:2,128&g?d.pos+=8:64&g?d.pos+=4:8&g&&(d.pos+=2)}return e.prototype.encode=function(){var t,n,i;for(n=new hl(jw.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),iC=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ua(e,Ys),e.prototype.tag="loca",e.prototype.parse=function(t){var n,i;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,d=0;d<i.length;++d)if(i[d]=s,a<n.length&&n[a]==d){++a,i[d]=s;var g=this.offsets[d],v=this.offsets[d+1]-g;v>0&&(s+=v)}for(var m=new Array(4*i.length),_=0;_<i.length;++_)m[4*_+3]=255&i[_],m[4*_+2]=(65280&i[_])>>8,m[4*_+1]=(16711680&i[_])>>16,m[4*_]=(4278190080&i[_])>>24;return m},e}(),oC=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,i,s,a;for(n in s=this.font.cmap.tables[0].codeMap,t={},a=this.subset)i=a[n],t[n]=s[i];return t},e.prototype.glyphsFor=function(t){var n,i,s,a,d,g,v;for(s={},d=0,g=t.length;d<g;d++)s[a=t[d]]=this.font.glyf.glyphFor(a);for(a in n=[],s)(i=s[a])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(a in v=this.glyphsFor(n))i=v[a],s[a]=i;return s},e.prototype.encode=function(t,n){var i,s,a,d,g,v,m,_,C,P,S,j,D,q,M;for(s in i=Fw.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(t),S={0:0},M=i.charMap)S[(v=M[s]).old]=v.new;for(j in P=i.maxGlyphID,d)j in S||(S[j]=P++);return _=function(B){var F,Z;for(F in Z={},B)Z[B[F]]=F;return Z}(S),C=Object.keys(_).sort(function(B,F){return B-F}),D=function(){var B,F,Z;for(Z=[],B=0,F=C.length;B<F;B++)g=C[B],Z.push(_[g]);return Z}(),a=this.font.glyf.encode(d,D,S),m=this.font.loca.encode(a.offsets,D),q={cmap:this.font.cmap.raw(),glyf:a.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(q["OS/2"]=this.font.os2.raw()),this.font.directory.encode(q)},e}();qt.API.PDFObject=function(){var e;function t(){}return e=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},t.convert=function(n){var i,s,a,d;if(Array.isArray(n))return"["+function(){var g,v,m;for(m=[],g=0,v=n.length;g<v;g++)i=n[g],m.push(t.convert(i));return m}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in a=["<<"],n)d=n[s],a.push("/"+s+" "+t.convert(d));return a.push(">>"),a.join(`
`)}return""+n},t}();function zw(e,t,n,i,s){i=i||{};var a=1.15,d=s.internal.scaleFactor,g=s.internal.getFontSize()/d,v=s.getLineHeightFactor?s.getLineHeightFactor():a,m=g*v,_=/\r\n|\r|\n/g,C="",P=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(C=typeof e=="string"?e.split(_):e,P=C.length||1),n+=g*(2-a),i.valign==="middle"?n-=P/2*m:i.valign==="bottom"&&(n-=P*m),i.halign==="center"||i.halign==="right"){var S=g;if(i.halign==="center"&&(S*=.5),C&&P>=1){for(var j=0;j<C.length;j++)s.text(C[j],t-s.getStringUnitWidth(C[j])*S,n),n+=m;return s}t-=s.getStringUnitWidth(e)*S}return i.halign==="justify"?s.text(e,t,n,{maxWidth:i.maxWidth||100,align:"justify"}):s.text(e,t,n),s}var e5={},Iu=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:e5=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var i,s,a;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var d=this.jsPDFDocument.internal.getFont(),g=d.fontStyle,v=d.fontName;if(t.font&&(v=t.font),t.fontStyle){g=t.fontStyle;var m=this.getFontList()[v];m&&m.indexOf(g)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(m[0]),g=m[0])}if(this.jsPDFDocument.setFont(v,g),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var _=e.unifyColor(t.fillColor);_&&(i=this.jsPDFDocument).setFillColor.apply(i,_),_=e.unifyColor(t.textColor),_&&(s=this.jsPDFDocument).setTextColor.apply(s,_),_=e.unifyColor(t.lineColor),_&&(a=this.jsPDFDocument).setDrawColor.apply(a,_),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,i){return this.jsPDFDocument.splitTextToSize(t,n,i)},e.prototype.rect=function(t,n,i,s,a){return this.jsPDFDocument.rect(t,n,i,s,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return e5||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),O0=function(e,t){return O0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},O0(e,t)};function Uw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");O0(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Hw=function(e){Uw(t,e);function t(n){var i=e.call(this)||this;return i._element=n,i}return t}(Array);function sC(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function aC(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function jf(e,t,n){n.applyStyles(t,!0);var i=Array.isArray(e)?e:[e],s=i.map(function(a){return n.getTextWidth(a)}).reduce(function(a,d){return Math.max(a,d)},0);return s}function Ww(e,t,n,i){var s=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:a});var d=Vw(s,!1);d&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),i.y-n.y,d)}function Vw(e,t){var n=e>0,i=t||t===0;return n&&i?"DF":n?"S":i?"F":null}function ud(e,t){var n,i,s,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(i=e.top)!==null&&i!==void 0?i:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function qw(e,t){var n=ud(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function lC(e,t,n,i,s){var a={},d=1.3333333333333333,g=y1(t,function(F){return s.getComputedStyle(F).backgroundColor});g!=null&&(a.fillColor=g);var v=y1(t,function(F){return s.getComputedStyle(F).color});v!=null&&(a.textColor=v);var m=cC(i,n);m&&(a.cellPadding=m);var _="borderTopColor",C=d*n,P=i.borderTopWidth;if(i.borderBottomWidth===P&&i.borderRightWidth===P&&i.borderLeftWidth===P){var S=(parseFloat(P)||0)/C;S&&(a.lineWidth=S)}else a.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/C,right:(parseFloat(i.borderRightWidth)||0)/C,bottom:(parseFloat(i.borderBottomWidth)||0)/C,left:(parseFloat(i.borderLeftWidth)||0)/C},a.lineWidth.top||(a.lineWidth.right?_="borderRightColor":a.lineWidth.bottom?_="borderBottomColor":a.lineWidth.left&&(_="borderLeftColor"));var j=y1(t,function(F){return s.getComputedStyle(F)[_]});j!=null&&(a.lineColor=j);var D=["left","right","center","justify"];D.indexOf(i.textAlign)!==-1&&(a.halign=i.textAlign),D=["middle","bottom","top"],D.indexOf(i.verticalAlign)!==-1&&(a.valign=i.verticalAlign);var q=parseInt(i.fontSize||"");isNaN(q)||(a.fontSize=q/d);var M=uC(i);M&&(a.fontStyle=M);var B=(i.fontFamily||"").toLowerCase();return e.indexOf(B)!==-1&&(a.font=B),a}function uC(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function y1(e,t){var n=Gw(e,t);if(!n)return null;var i=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var s=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],a=parseInt(i[4]);return a===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function Gw(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:Gw(e.parentElement,t):n}function cC(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],i=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=n.map(function(g){return parseInt(g||"0")/i}),d=ud(a,0);return s>d.top&&(d.top=s),s>d.bottom&&(d.bottom=s),d}function Zw(e,t,n,i,s){var a,d;i===void 0&&(i=!1),s===void 0&&(s=!1);var g;typeof t=="string"?g=n.document.querySelector(t):g=t;var v=Object.keys(e.getFontList()),m=e.scaleFactor(),_=[],C=[],P=[];if(!g)return console.error("Html table could not be found with input: ",t),{head:_,body:C,foot:P};for(var S=0;S<g.rows.length;S++){var j=g.rows[S],D=(d=(a=j==null?void 0:j.parentElement)===null||a===void 0?void 0:a.tagName)===null||d===void 0?void 0:d.toLowerCase(),q=hC(v,m,n,j,i,s);q&&(D==="thead"?_.push(q):D==="tfoot"?P.push(q):C.push(q))}return{head:_,body:C,foot:P}}function hC(e,t,n,i,s,a){for(var d=new Hw(i),g=0;g<i.cells.length;g++){var v=i.cells[g],m=n.getComputedStyle(v);if(s||m.display!=="none"){var _=void 0;a&&(_=lC(e,v,t,m,n)),d.push({rowSpan:v.rowSpan,colSpan:v.colSpan,styles:_,_element:v,content:fC(v)})}}var C=n.getComputedStyle(i);if(d.length>0&&(s||C.display!=="none"))return d}function fC(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function dC(e,t,n){for(var i=0,s=[e,t,n];i<s.length;i++){var a=s[i];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Ca(e,t,n,i,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),d=1;d<arguments.length;d++){var g=arguments[d];if(g!=null)for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(a[v]=g[v])}return a}function pC(e,t){var n=new Iu(e),i=n.getDocumentOptions(),s=n.getGlobalOptions();dC(s,i,t);var a=Ca({},s,i,t),d;typeof window<"u"&&(d=window);var g=gC(s,i,t),v=mC(s,i,t),m=vC(n,a),_=wC(n,a,d);return{id:t.tableId,content:_,hooks:v,styles:g,settings:m}}function gC(e,t,n){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(v){if(v==="columnStyles"){var m=e[v],_=t[v],C=n[v];i.columnStyles=Ca({},m,_,C)}else{var P=[e,t,n],S=P.map(function(j){return j[v]||{}});i[v]=Ca({},S[0],S[1],S[2])}},a=0,d=Object.keys(i);a<d.length;a++){var g=d[a];s(g)}return i}function mC(e,t,n){for(var i=[e,t,n],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,d=i;a<d.length;a++){var g=d[a];g.didParseCell&&s.didParseCell.push(g.didParseCell),g.willDrawCell&&s.willDrawCell.push(g.willDrawCell),g.didDrawCell&&s.didDrawCell.push(g.didDrawCell),g.willDrawPage&&s.willDrawPage.push(g.willDrawPage),g.didDrawPage&&s.didDrawPage.push(g.didDrawPage)}return s}function vC(e,t){var n,i,s,a,d,g,v,m,_,C,P,S,j=ud(t.margin,40/e.scaleFactor()),D=(n=yC(e,t.startY))!==null&&n!==void 0?n:j.top,q;t.showFoot===!0?q="everyPage":t.showFoot===!1?q="never":q=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var M;t.showHead===!0?M="everyPage":t.showHead===!1?M="never":M=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var B=(a=t.useCss)!==null&&a!==void 0?a:!1,F=t.theme||(B?"plain":"striped"),Z=!!t.horizontalPageBreak,ye=(d=t.horizontalPageBreakRepeat)!==null&&d!==void 0?d:null;return{includeHiddenHtml:(g=t.includeHiddenHtml)!==null&&g!==void 0?g:!1,useCss:B,theme:F,startY:D,margin:j,pageBreak:(v=t.pageBreak)!==null&&v!==void 0?v:"auto",rowPageBreak:(m=t.rowPageBreak)!==null&&m!==void 0?m:"auto",tableWidth:(_=t.tableWidth)!==null&&_!==void 0?_:"auto",showHead:M,showFoot:q,tableLineWidth:(C=t.tableLineWidth)!==null&&C!==void 0?C:0,tableLineColor:(P=t.tableLineColor)!==null&&P!==void 0?P:200,horizontalPageBreak:Z,horizontalPageBreakRepeat:ye,horizontalPageBreakBehaviour:(S=t.horizontalPageBreakBehaviour)!==null&&S!==void 0?S:"afterAllRows"}}function yC(e,t){var n=e.getLastAutoTable(),i=e.scaleFactor(),s=e.pageNumber(),a=!1;if(n&&n.startPageNumber){var d=n.startPageNumber+n.pageNumber-1;a=d===s}return typeof t=="number"?t:(t==null||t===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/i:null}function wC(e,t,n){var i=t.head||[],s=t.body||[],a=t.foot||[];if(t.html){var d=t.includeHiddenHtml;if(n){var g=Zw(e,t.html,n,d,t.useCss)||{};i=g.head||i,s=g.body||i,a=g.foot||i}else console.error("Cannot parse html in non browser environment")}var v=t.columns||xC(i,s,a);return{columns:v,head:i,body:s,foot:a}}function xC(e,t,n){var i=e[0]||t[0]||n[0]||[],s=[];return Object.keys(i).filter(function(a){return a!=="_element"}).forEach(function(a){var d=1,g;Array.isArray(i)?g=i[parseInt(a)]:g=i[a],typeof g=="object"&&!Array.isArray(g)&&(d=(g==null?void 0:g.colSpan)||1);for(var v=0;v<d;v++){var m=void 0;Array.isArray(i)?m=s.length:m=a+(v>0?"_".concat(v):"");var _={dataKey:m};s.push(_)}}),s}var k0=function(){function e(t,n,i){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=i,this.doc=t.getDocument()}return e}(),_C=function(e){Uw(t,e);function t(n,i,s,a,d,g){var v=e.call(this,n,i,g)||this;return v.cell=s,v.row=a,v.column=d,v.section=a.section,v}return t}(k0),AC=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,i){return n+i.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,i){return n+i.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,i,s,a,d){for(var g=0,v=n;g<v.length;g++){var m=v[g],_=new _C(t,this,i,s,a,d),C=m(_)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],C)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var i=0,s=this.hooks.didDrawPage;i<s.length;i++){var a=s[i];a(new k0(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var i=0,s=this.hooks.willDrawPage;i<s.length;i++){var a=s[i];a(new k0(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(s,a){return s+a.wrappedWidth},0);return n}else{var i=this.settings.margin;return t-i.left-i.right}},e}(),Yw=function(){function e(t,n,i,s,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof Hw&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=i,this.cells=s,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(i,s){var a;return Math.max(i,((a=n.cells[s.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(i){var s=n.cells[i.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var i=this;return t.reduce(function(s,a){var d=i.cells[a.index];if(!d)return 0;var g=n.getLineHeight(d.styles.fontSize),v=d.padding("vertical"),m=v+g;return m>s?m:s},0)},e}(),Xw=function(){function e(t,n,i){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=i,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var d=a!=null?""+a:"",g=/\r\n|\r|\n/g;this.text=d.split(g)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");i=this.x+s/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var i=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*n,a=i*s+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=ud(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),bC=function(){function e(t,n,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=i}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,i=0,s=t.allRows();i<s.length;i++){var a=s[i],d=a.cells[this.index];d&&typeof d.styles.cellWidth=="number"&&(n=Math.max(n,d.styles.cellWidth))}return n},e}();function CC(e,t){SC(e,t);var n=[],i=0;t.columns.forEach(function(a){var d=a.getMaxCustomCellWidth(t);d?a.width=d:(a.width=a.wrappedWidth,n.push(a)),i+=a.width});var s=t.getWidth(e.pageSize().width)-i;s&&(s=R0(n,s,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),s&&(s=R0(n,s,function(a){return a.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),NC(t),IC(t,e),EC(t)}function SC(e,t){var n=e.scaleFactor(),i=t.settings.horizontalPageBreak,s=qw(e,t);t.allRows().forEach(function(a){for(var d=0,g=t.columns;d<g.length;d++){var v=g[d],m=a.cells[v.index];if(m){var _=t.hooks.didParseCell;t.callCellHooks(e,_,m,a,v,null);var C=m.padding("horizontal");m.contentWidth=jf(m.text,m.styles,e)+C;var P=jf(m.text.join(" ").split(/[^\S\u00A0]+/),m.styles,e);if(m.minReadableWidth=P+m.padding("horizontal"),typeof m.styles.cellWidth=="number")m.minWidth=m.styles.cellWidth,m.wrappedWidth=m.styles.cellWidth;else if(m.styles.cellWidth==="wrap"||i===!0)m.contentWidth>s?(m.minWidth=s,m.wrappedWidth=s):(m.minWidth=m.contentWidth,m.wrappedWidth=m.contentWidth);else{var S=10/n;m.minWidth=m.styles.minCellWidth||S,m.wrappedWidth=m.contentWidth,m.minWidth>m.wrappedWidth&&(m.wrappedWidth=m.minWidth)}}}}),t.allRows().forEach(function(a){for(var d=0,g=t.columns;d<g.length;d++){var v=g[d],m=a.cells[v.index];if(m&&m.colSpan===1)v.wrappedWidth=Math.max(v.wrappedWidth,m.wrappedWidth),v.minWidth=Math.max(v.minWidth,m.minWidth),v.minReadableWidth=Math.max(v.minReadableWidth,m.minReadableWidth);else{var _=t.styles.columnStyles[v.dataKey]||t.styles.columnStyles[v.index]||{},C=_.cellWidth||_.minCellWidth;C&&typeof C=="number"&&(v.minWidth=C,v.wrappedWidth=C)}m&&(m.colSpan>1&&!v.minWidth&&(v.minWidth=m.minWidth),m.colSpan>1&&!v.wrappedWidth&&(v.wrappedWidth=m.minWidth))}})}function R0(e,t,n){for(var i=t,s=e.reduce(function(S,j){return S+j.wrappedWidth},0),a=0;a<e.length;a++){var d=e[a],g=d.wrappedWidth/s,v=i*g,m=d.width+v,_=n(d),C=m<_?_:m;t-=C-d.width,d.width=C}if(t=Math.round(t*1e10)/1e10,t){var P=e.filter(function(S){return t<0?S.width>n(S):!0});P.length&&(t=R0(P,t,n))}return t}function EC(e){for(var t={},n=1,i=e.allRows(),s=0;s<i.length;s++)for(var a=i[s],d=0,g=e.columns;d<g.length;d++){var v=g[d],m=t[v.index];if(n>1)n--,delete a.cells[v.index];else if(m)m.cell.height+=a.height,n=m.cell.colSpan,delete a.cells[v.index],m.left--,m.left<=1&&delete t[v.index];else{var _=a.cells[v.index];if(!_)continue;if(_.height=a.height,_.rowSpan>1){var C=i.length-s,P=_.rowSpan>C?C:_.rowSpan;t[v.index]={cell:_,left:P,row:a}}}}}function NC(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var i=t[n],s=null,a=0,d=0,g=0;g<e.columns.length;g++){var v=e.columns[g];if(d-=1,d>1&&e.columns[g+1])a+=v.width,delete i.cells[v.index];else if(s){var m=s;delete i.cells[v.index],s=null,m.width=v.width+a}else{var m=i.cells[v.index];if(!m)continue;if(d=m.colSpan,a=0,m.colSpan>1){s=m,a+=v.width;continue}m.width=v.width+a}}}function IC(e,t){for(var n={count:0,height:0},i=0,s=e.allRows();i<s.length;i++){for(var a=s[i],d=0,g=e.columns;d<g.length;d++){var v=g[d],m=a.cells[v.index];if(m){t.applyStyles(m.styles,!0);var _=m.width-m.padding("horizontal");if(m.styles.overflow==="linebreak")m.text=t.splitTextToSize(m.text,_+1/t.scaleFactor(),{fontSize:m.styles.fontSize});else if(m.styles.overflow==="ellipsize")m.text=t5(m.text,_,m.styles,t,"...");else if(m.styles.overflow==="hidden")m.text=t5(m.text,_,m.styles,t,"");else if(typeof m.styles.overflow=="function"){var C=m.styles.overflow(m.text,_);typeof C=="string"?m.text=[C]:m.text=C}m.contentHeight=m.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var P=m.contentHeight/m.rowSpan;m.rowSpan>1&&n.count*n.height<P*m.rowSpan?n={height:P,count:m.rowSpan}:n&&n.count>0&&n.height>P&&(P=n.height),P>a.height&&(a.height=P)}}n.count--}}function t5(e,t,n,i,s){return e.map(function(a){return TC(a,t,n,i,s)})}function TC(e,t,n,i,s){var a=1e4*i.scaleFactor();if(t=Math.ceil(t*a)/a,t>=jf(e,n,i))return e;for(;t<jf(e+s,n,i)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function LC(e,t){var n=new Iu(e),i=PC(t,n.scaleFactor()),s=new AC(t,i);return CC(n,s),n.applyStyles(n.userStyles),s}function PC(e,t){var n=e.content,i=OC(n.columns);if(n.head.length===0){var s=n5(i,"head");s&&n.head.push(s)}if(n.foot.length===0){var s=n5(i,"foot");s&&n.foot.push(s)}var a=e.settings.theme,d=e.styles;return{columns:i,head:w1("head",n.head,i,d,a,t),body:w1("body",n.body,i,d,a,t),foot:w1("foot",n.foot,i,d,a,t)}}function w1(e,t,n,i,s,a){var d={},g=t.map(function(v,m){for(var _=0,C={},P=0,S=0,j=0,D=n;j<D.length;j++){var q=D[j];if(d[q.index]==null||d[q.index].left===0)if(S===0){var M=void 0;Array.isArray(v)?M=v[q.index-P-_]:M=v[q.dataKey];var B={};typeof M=="object"&&!Array.isArray(M)&&(B=(M==null?void 0:M.styles)||{});var F=kC(e,q,m,s,i,a,B),Z=new Xw(M,F,e);C[q.dataKey]=Z,C[q.index]=Z,S=Z.colSpan-1,d[q.index]={left:Z.rowSpan-1,times:S}}else S--,P++;else d[q.index].left--,S=d[q.index].times,_++}return new Yw(v,m,e,C)});return g}function n5(e,t){var n={};return e.forEach(function(i){if(i.raw!=null){var s=MC(t,i.raw);s!=null&&(n[i.dataKey]=s)}}),Object.keys(n).length>0?n:null}function MC(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function OC(e){return e.map(function(t,n){var i,s;return typeof t=="object"?s=(i=t.dataKey)!==null&&i!==void 0?i:n:s=n,new bC(s,t,n)})}function kC(e,t,n,i,s,a,d){var g=aC(i),v;e==="head"?v=s.headStyles:e==="body"?v=s.bodyStyles:e==="foot"&&(v=s.footStyles);var m=Ca({},g.table,g[e],s.styles,v),_=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},C=e==="body"?_:{},P=e==="body"&&n%2===0?Ca({},g.alternateRow,s.alternateRowStyles):{},S=sC(a),j=Ca({},S,m,P,C);return Ca(j,d)}function RC(e,t,n){var i;n===void 0&&(n={});var s=qw(e,t),a=new Map,d=[],g=[],v=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?v=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(v=[t.settings.horizontalPageBreakRepeat]),v.forEach(function(P){var S=t.columns.find(function(j){return j.dataKey===P||j.index===P});S&&!a.has(S.index)&&(a.set(S.index,!0),d.push(S.index),g.push(t.columns[S.index]),s-=S.wrappedWidth)});for(var m=!0,_=(i=n==null?void 0:n.start)!==null&&i!==void 0?i:0;_<t.columns.length;){if(a.has(_)){_++;continue}var C=t.columns[_].wrappedWidth;if(m||s>=C)m=!1,d.push(_),g.push(t.columns[_]),s-=C;else break;_++}return{colIndexes:d,columns:g,lastIndex:_-1}}function DC(e,t){for(var n=[],i=0;i<t.columns.length;i++){var s=RC(e,t,{start:i});s.columns.length&&(n.push(s),i=s.lastIndex)}return n}function BC(e,t){var n=t.settings,i=n.startY,s=n.margin,a={x:s.left,y:i},d=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),g=i+s.bottom+d;if(n.pageBreak==="avoid"){var v=t.body,m=v.reduce(function(P,S){return P+S.height},0);g+=m}var _=new Iu(e);(n.pageBreak==="always"||n.startY!=null&&g>_.pageSize().height)&&(Qw(_),a.y=s.top),t.callWillDrawPageHooks(_,a);var C=Ca({},a);t.startPageNumber=_.pageNumber(),n.horizontalPageBreak?FC(_,t,C,a):(_.applyStyles(_.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(P){return La(_,t,P,a,t.columns)}),_.applyStyles(_.userStyles),t.body.forEach(function(P,S){var j=S===t.body.length-1;zf(_,t,P,j,C,a,t.columns)}),_.applyStyles(_.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(P){return La(_,t,P,a,t.columns)})),Ww(_,t,C,a),t.callEndPageHooks(_,a),t.finalY=a.y,e.lastAutoTable=t,_.applyStyles(_.userStyles)}function FC(e,t,n,i){var s=DC(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(m,_){e.applyStyles(e.userStyles),_>0?Sc(e,t,n,i,m.columns,!0):r5(e,t,i,m.columns),jC(e,t,n,i,m.columns),x1(e,t,i,m.columns)});else for(var d=-1,g=s[0],v=function(){var m=d;if(g){e.applyStyles(e.userStyles);var _=g.columns;d>=0?Sc(e,t,n,i,_,!0):r5(e,t,i,_),m=i5(e,t,d+1,i,_),x1(e,t,i,_)}var C=m-d;s.slice(1).forEach(function(P){e.applyStyles(e.userStyles),Sc(e,t,n,i,P.columns,!0),i5(e,t,d+1,i,P.columns,C),x1(e,t,i,P.columns)}),d=m};d<t.body.length-1;)v()}function r5(e,t,n,i){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(a){return La(e,t,a,n,i)})}function jC(e,t,n,i,s){e.applyStyles(e.userStyles),t.body.forEach(function(a,d){var g=d===t.body.length-1;zf(e,t,a,g,n,i,s)})}function i5(e,t,n,i,s,a){e.applyStyles(e.userStyles),a=a??t.body.length;var d=Math.min(n+a,t.body.length),g=-1;return t.body.slice(n,d).forEach(function(v,m){var _=n+m===t.body.length-1,C=Kw(e,t,_,i);v.canEntireRowFit(C,s)&&(La(e,t,v,i,s),g=n+m)}),g}function x1(e,t,n,i){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(a){return La(e,t,a,n,i)})}function zC(e,t,n){var i=n.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),a=Math.floor((t-s)/i);return Math.max(0,a)}function UC(e,t,n,i){var s={};e.spansMultiplePages=!0,e.height=0;for(var a=0,d=0,g=n.columns;d<g.length;d++){var v=g[d],m=e.cells[v.index];if(m){Array.isArray(m.text)||(m.text=[m.text]);var _=new Xw(m.raw,m.styles,m.section);_=Ca(_,m),_.text=[];var C=zC(m,t,i);m.text.length>C&&(_.text=m.text.splice(C,m.text.length));var P=i.scaleFactor(),S=i.getLineHeightFactor();m.contentHeight=m.getContentHeight(P,S),m.contentHeight>=t&&(m.contentHeight=t,_.styles.minCellHeight-=t),m.contentHeight>e.height&&(e.height=m.contentHeight),_.contentHeight=_.getContentHeight(P,S),_.contentHeight>a&&(a=_.contentHeight),s[v.index]=_}}var j=new Yw(e.raw,-1,e.section,s,!0);j.height=a;for(var D=0,q=n.columns;D<q.length;D++){var v=q[D],_=j.cells[v.index];_&&(_.height=j.height);var m=e.cells[v.index];m&&(m.height=e.height)}return j}function HC(e,t,n,i){var s=e.pageSize().height,a=i.settings.margin,d=a.top+a.bottom,g=s-d;t.section==="body"&&(g-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var v=t.getMinimumRowHeight(i.columns,e),m=v<n;if(v>g)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!m)return!1;var _=t.hasRowSpan(i.columns),C=t.getMaxCellHeight(i.columns)>g;return C?(_&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(_||i.settings.rowPageBreak==="avoid")}function zf(e,t,n,i,s,a,d){var g=Kw(e,t,i,a);if(n.canEntireRowFit(g,d))La(e,t,n,a,d);else if(HC(e,n,g,t)){var v=UC(n,g,t,e);La(e,t,n,a,d),Sc(e,t,s,a,d),zf(e,t,v,i,s,a,d)}else Sc(e,t,s,a,d),zf(e,t,n,i,s,a,d)}function La(e,t,n,i,s){i.x=t.settings.margin.left;for(var a=0,d=s;a<d.length;a++){var g=d[a],v=n.cells[g.index];if(!v){i.x+=g.width;continue}e.applyStyles(v.styles),v.x=i.x,v.y=i.y;var m=t.callCellHooks(e,t.hooks.willDrawCell,v,n,g,i);if(m===!1){i.x+=g.width;continue}WC(e,v,i);var _=v.getTextPos();zw(v.text,_.x,_.y,{halign:v.styles.halign,valign:v.styles.valign,maxWidth:Math.ceil(v.width-v.padding("left")-v.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,v,n,g,i),i.x+=g.width}i.y+=n.height}function WC(e,t,n){var i=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof i.lineWidth=="number"){var s=Vw(i.lineWidth,i.fillColor);s&&e.rect(t.x,n.y,t.width,t.height,s)}else typeof i.lineWidth=="object"&&(i.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),VC(e,t,n,i.lineWidth))}function VC(e,t,n,i){var s,a,d,g;i.top&&(s=n.x,a=n.y,d=n.x+t.width,g=n.y,i.right&&(d+=.5*i.right),i.left&&(s-=.5*i.left),v(i.top,s,a,d,g)),i.bottom&&(s=n.x,a=n.y+t.height,d=n.x+t.width,g=n.y+t.height,i.right&&(d+=.5*i.right),i.left&&(s-=.5*i.left),v(i.bottom,s,a,d,g)),i.left&&(s=n.x,a=n.y,d=n.x,g=n.y+t.height,i.top&&(a-=.5*i.top),i.bottom&&(g+=.5*i.bottom),v(i.left,s,a,d,g)),i.right&&(s=n.x+t.width,a=n.y,d=n.x+t.width,g=n.y+t.height,i.top&&(a-=.5*i.top),i.bottom&&(g+=.5*i.bottom),v(i.right,s,a,d,g));function v(m,_,C,P,S){e.getDocument().setLineWidth(m),e.getDocument().line(_,C,P,S,"S")}}function Kw(e,t,n,i){var s=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-i.y-s}function Sc(e,t,n,i,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(g){return La(e,t,g,i,s)}),t.callEndPageHooks(e,i);var d=t.settings.margin;Ww(e,t,n,i),Qw(e),t.pageNumber++,i.x=d.left,i.y=d.top,n.y=d.top,t.callWillDrawPageHooks(e,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(g){return La(e,t,g,i,s)}),e.applyStyles(e.userStyles))}function Qw(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function qC(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t[0],s=pC(this,i),a=LC(this,s);return BC(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,i,s){zw(t,n,i,s,this)},e.API.autoTableSetDefaults=function(t){return Iu.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){Iu.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var i;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Iu(this),a=Zw(s,t,window,n,!1),d=a.head,g=a.body,v=((i=d[0])===null||i===void 0?void 0:i.map(function(m){return m.content}))||[];return{columns:v,rows:g,data:g}}}var _1;try{if(typeof window<"u"&&window){var o5=window,s5=o5.jsPDF||((_1=o5.jspdf)===null||_1===void 0?void 0:_1.jsPDF);s5&&qC(s5)}}catch(e){console.error("Could not apply autoTable plugin",e)}const GC=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Jw=e=>Array.isArray(e)&&e.every(t=>typeof t=="object"&&!(t instanceof Array)),ZC=e=>Array.isArray(e)&&e.every(t=>Array.isArray(t)),YC=e=>Array.from(e.map(t=>Object.keys(t)).reduce((t,n)=>new Set([...t,...n]),[])),XC=(e,t)=>{t=t||YC(e);let n=t,i=t;Jw(t)&&(n=t.map(a=>a.label),i=t.map(a=>a.key));const s=e.map(a=>i.map(d=>KC(d,a)));return[n,...s]},KC=(e,t)=>{const n=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(i,s,a,d){const g=i[s];if(g==null)d.splice(1);else return g},t);return n===void 0?e in t?t[e]:"":n},QC=e=>typeof e>"u"||e===null?"":e,$w=(e,t=",",n='"')=>e.filter(i=>i).map(i=>i.map(s=>QC(s)).map(s=>`${n}${s}${n}`).join(t)).join(`
`),JC=(e,t,n,i)=>$w(t?[t,...e]:e,n,i),$C=(e,t,n,i)=>$w(XC(e,t),n,i),eS=(e,t,n,i)=>t?`${t.join(n)}
${e}`:e.replace(/"/g,'""'),ex=(e,t,n,i)=>{if(Jw(e))return $C(e,t,n,i);if(ZC(e))return JC(e,t,n,i);if(typeof e=="string")return eS(e,t,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},tx=(e,t,n,i,s)=>{const a=ex(e,n,i,s),d=GC()?"application/csv":"text/csv",g=new Blob([t?"\uFEFF":"",a],{type:d}),v=`data:${d};charset=utf-8,${t?"\uFEFF":""}${a}`,m=window.URL||window.webkitURL;return typeof m.createObjectURL>"u"?v:m.createObjectURL(g)};var nx={exports:{}},tS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nS=tS,rS=nS;function rx(){}function ix(){}ix.resetWarningCache=rx;var iS=function(){function e(i,s,a,d,g,v){if(v!==rS){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ix,resetWarningCache:rx};return n.PropTypes=n,n};nx.exports=iS();var ys=nx.exports;const ox={data:ys.oneOfType([ys.string,ys.array,ys.func]).isRequired,headers:ys.array,target:ys.string,separator:ys.string,filename:ys.string,uFEFF:ys.bool,onClick:ys.func,asyncOnClick:ys.bool,enclosingCharacter:ys.string},sx={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},oS={target:"_blank"};class a5 extends Ll.Component{constructor(t){super(t),this.state={}}buildURI(){return tx(...arguments)}componentDidMount(){const{data:t,headers:n,separator:i,enclosingCharacter:s,uFEFF:a,target:d,specs:g,replace:v}=this.props;this.state.page=window.open(this.buildURI(t,a,n,i,s),d,g,v)}getWindow(){return this.state.page}render(){return null}}Hn(a5,"defaultProps",Object.assign(sx,oS)),Hn(a5,"propTypes",ox);var Hh;let sS=(Hh=class extends Ll.Component{constructor(t){super(t),this.buildURI=this.buildURI.bind(this)}buildURI(){return tx(...arguments)}handleLegacy(t,n=!1){if(window.navigator.msSaveOrOpenBlob){t.preventDefault();const{data:i,headers:s,separator:a,filename:d,enclosingCharacter:g,uFEFF:v}=this.props,m=n&&typeof i=="function"?i():i;let _=new Blob([v?"\uFEFF":"",ex(m,s,a,g)]);return window.navigator.msSaveBlob(_,d),!1}}handleAsyncClick(t){const n=i=>{if(i===!1){t.preventDefault();return}this.handleLegacy(t,!0)};this.props.onClick(t,n)}handleSyncClick(t){if(this.props.onClick(t)===!1){t.preventDefault();return}this.handleLegacy(t)}handleClick(){return t=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(t):this.handleSyncClick(t);this.handleLegacy(t)}}render(){const{data:t,headers:n,separator:i,filename:s,uFEFF:a,children:d,onClick:g,asyncOnClick:v,enclosingCharacter:m,..._}=this.props,P=typeof window>"u"?"":this.buildURI(t,a,n,i,m);return Re.jsx("a",{download:s,..._,ref:S=>this.link=S,target:"_self",href:P,onClick:this.handleClick(),children:d})}},Hn(Hh,"defaultProps",sx),Hn(Hh,"propTypes",ox),Hh);const aS=sS,lS=()=>{var m;const{history:e,items:t}=nt.useContext($c),n=zl(),i=Jc(),s=(m=n.state)==null?void 0:m.uid,a=s?e.filter(_=>_.uid===s):e,d=_=>{const C=t.find(j=>j.uid===_.uid);if(!C||!_.time)return"Belum mulai";const S=(new Date-new Date(_.time))/1e3;return _.cp>=C.targetCP&&C.status==="SAMPAI"?"Selesai":S<=10?"Tepat Waktu":S<=15?"Rawan Terlambat":"Terlambat"},g=()=>{const _=new qt;_.text("Surat Jalan Barang",14,16);const C=["UID","Nama Barang","Checkpoint","Waktu","Keterangan","Bukti"],P=[];a.forEach(S=>{P.push([S.uid,S.name,S.cp,new Date(S.time).toLocaleString(),d(S),S.proof?"Ada":"-"])}),_.autoTable({head:[C],body:P,startY:20}),_.save(`History_${s||"all"}.pdf`)},v=a.map(_=>({UID:_.uid,"Nama Barang":_.name,Checkpoint:_.cp,Waktu:new Date(_.time).toLocaleString(),Keterangan:d(_),Bukti:_.proof?"Ada":"-"}));return Re.jsxs("div",{className:"p-4",children:[Re.jsxs("h2",{children:["Riwayat Scan ",s?`- UID: ${s}`:""]}),Re.jsxs("div",{className:"mb-3",children:[Re.jsx("button",{className:"btn btn-secondary me-2",onClick:()=>i("/tracking"),children:"← Kembali"}),Re.jsx("button",{className:"btn btn-danger me-2",onClick:g,children:"Export PDF"}),Re.jsx(aS,{data:v,filename:`History_${s||"all"}.csv`,className:"btn btn-success",children:"Export CSV"})]}),Re.jsxs("table",{className:"table table-bordered table-striped",children:[Re.jsx("thead",{className:"table-dark",children:Re.jsxs("tr",{children:[Re.jsx("th",{children:"UID"}),Re.jsx("th",{children:"Nama Barang"}),Re.jsx("th",{children:"Checkpoint"}),Re.jsx("th",{children:"Waktu"}),Re.jsx("th",{children:"Keterangan"}),Re.jsx("th",{children:"Bukti"})]})}),Re.jsx("tbody",{children:a.length===0?Re.jsx("tr",{children:Re.jsx("td",{colSpan:"6",className:"text-center",children:"Belum ada riwayat scan"})}):a.map((_,C)=>Re.jsxs("tr",{children:[Re.jsx("td",{children:_.uid}),Re.jsx("td",{children:_.name}),Re.jsx("td",{children:_.cp}),Re.jsx("td",{children:new Date(_.time).toLocaleString()}),Re.jsx("td",{children:d(_)}),Re.jsx("td",{children:_.proof?Re.jsx("img",{src:_.proof,alt:"proof",width:"60"}):"-"})]},`${_.uid}-${C}`))})]})]})};function uS(){const[e,t]=nt.useState(!1);return Re.jsxs(X4,{children:[Re.jsx(va,{path:"/login",element:Re.jsx(c8,{onLoginSuccess:()=>t(!0)})}),e?Re.jsxs(va,{element:Re.jsx(I8,{children:Re.jsx(u8,{onLogout:()=>t(!1)})}),children:[Re.jsx(va,{path:"/",element:Re.jsx(yg,{to:"/dashboard"})}),Re.jsx(va,{path:"/dashboard",element:Re.jsx(L8,{})}),Re.jsx(va,{path:"/scanner",element:Re.jsx(pA,{})}),Re.jsx(va,{path:"/tracking",element:Re.jsx(gA,{})}),Re.jsx(va,{path:"/history",element:Re.jsx(lS,{})})," "]}):Re.jsx(va,{path:"*",element:Re.jsx(yg,{to:"/login"})})]})}A1.createRoot(document.getElementById("root")).render(Re.jsx(n8,{children:Re.jsx(uS,{})}));export{ir as _,tu as c,D0 as g};
